(this.webpackJsonpljj=this.webpackJsonpljj||[]).push([[0],{311:function(e,t){},313:function(e,t){},336:function(e,t,r){"use strict";r.r(t);var n=r(0),c=r(15),a=r.n(c),o=(r(103),r(67)),s=r.n(o),i=(r(115),r(68)),u=r.n(i),j=(r(195),r(132)),l=r.n(j),d=(r(214),r(29)),p=r.n(d),b=(r(119),r(49)),m=r.n(b),f=r(9),O=(r(87),r(40)),h=r.n(O),x=r(338),v=r(143),w=r(16),y=r.n(w),g=r(28),k=r(138),N=r.n(k),V=r(139),q=r.n(V);function D(){return(D=Object(g.a)(y.a.mark((function e(t){return y.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:q.a.getBinaryContent("./templates/F-05.docx",function(){var e=Object(g.a)(y.a.mark((function e(r,n){var c;return y.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!r){e.next=2;break}throw r;case 2:return e.next=4,N()({template:n,data:t,cmdDelimiter:["{","}"]});case 4:c=e.sent,C(c,"report.docx","application/vnd.openxmlformats-officedocument.wordprocessingml.document");case 6:case"end":return e.stop()}}),e)})));return function(t,r){return e.apply(this,arguments)}}());case 1:case"end":return e.stop()}}),e)})))).apply(this,arguments)}var C=function(e,t,r){var n=new Blob([e],{type:r}),c=window.URL.createObjectURL(n);P(c,t,r),setTimeout((function(){window.URL.revokeObjectURL(c)}),1e3)},P=function(e,t){var r=document.createElement("a");r.href=e,r.download=t,document.body.appendChild(r),r.style="display: none",r.click(),r.remove()},B=r(3),F=h.a.Item;var S=Object(v.a)()((function(e){var t=e.form,r=t.getFieldProps,n=t.getFieldError;return Object(B.jsxs)(s.a,{children:[Object(B.jsx)(m.a,{}),Object(B.jsxs)(h.a,{style:{backgroundColor:"red"},children:[Object(B.jsx)(p.a,Object(f.a)(Object(f.a)({error:!!n("projectName")},r("projectName",{rules:[{required:!0,message:"\u5fc5\u586b"}]})),{},{children:"\u9879\u76ee\u540d\u79f0"})),Object(B.jsx)(p.a,Object(f.a)(Object(f.a)({error:!!n("equipmentName"),labelNumber:7},r("equipmentName",{rules:[{required:!0,message:"\u5fc5\u586b"}]})),{},{children:"\u68c0\u6d4b\u8bbe\u5907\u53ca\u540d\u79f0"})),Object(B.jsx)(l.a,Object(f.a)(Object(f.a)({mode:"date",title:"\u9009\u62e9\u65e5\u671f"},r("detectDate",{initialValue:new Date,rules:[{required:!0,message:"\u5fc5\u586b"}]})),{},{children:Object(B.jsx)(F,{error:!!n("detectDate"),children:"\u68c0\u6d4b\u65f6\u95f4"})})),Object(B.jsx)(p.a,Object(f.a)(Object(f.a)({error:!!n("reportNo"),type:"number"},r("reportNo",{rules:[{required:!0,message:"\u5fc5\u586b"}]})),{},{children:"\u62a5\u544a\u7f16\u53f7"})),Object(B.jsx)(p.a,Object(f.a)(Object(f.a)({error:!!n("position")},r("position",{rules:[{required:!0,message:"\u5fc5\u586b"}]})),{},{children:"\u67f1\u4f4d\u7f6e"})),Object(B.jsx)(p.a,Object(f.a)(Object(f.a)({error:!!n("mValue1"),type:"number"},r("mValue1",{rules:[{required:!0,message:"\u5fc5\u586b"}]})),{},{children:"\u5b9e\u6d4b\u503c1"})),Object(B.jsx)(p.a,Object(f.a)(Object(f.a)({error:!!n("mValue2"),type:"number"},r("mValue2",{rules:[{required:!0,message:"\u5fc5\u586b"}]})),{},{children:"\u5b9e\u6d4b\u503c2"})),Object(B.jsx)(p.a,Object(f.a)(Object(f.a)({error:!!n("mValue3"),type:"number"},r("mValue3",{rules:[{required:!0,message:"\u5fc5\u586b"}]})),{},{children:"\u5b9e\u6d4b\u503c3"}))]}),Object(B.jsx)(m.a,{}),Object(B.jsx)(u.a,{type:"primary",onClick:function(){t.validateFields({force:!0},(function(e){if(!e){var r=t.getFieldsValue();r.detectDate=Object(x.a)(r.detectDate,"yyyy-MM-dd");var n={position:r.position,section:[r.mValue1,r.mValue2,r.mValue3]},c=Object(f.a)(Object(f.a)({},r),{},{c:n});console.log(c),function(e){D.apply(this,arguments)}(c)}}))},children:"\u5bfc\u51fa"})]})}));r(326);var I=r(140),E=r.n(I),L=r(144),R=r(145),U=(r(328),r(141)),J=r.n(U);function M(e){var t=e.children;return Object(B.jsxs)(s.a,{children:[Object(B.jsx)(m.a,{}),t]})}var z=null,T=function(){var e=Object(g.a)(y.a.mark((function e(){return y.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,new Promise((function(e,t){var r=window.indexedDB.open("ljjDB");r.onupgradeneeded=function(e){var t=e.target.result;t.objectStoreNames.contains("projects")||t.createObjectStore("projects",{autoIncrement:!0})},r.onsuccess=function(t){z=t.target.result,e(z)},r.onerror=function(){t(),console.error("\u6570\u636e\u5e93\u521d\u59cb\u5316\u5931\u8d25\uff01")}}));case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),A=function(){var e=Object(g.a)(y.a.mark((function e(t,r){var n;return y.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,T();case 2:return n=e.sent,e.next=5,new Promise((function(e,c){var a=n.transaction([t],"readwrite").objectStore(t).add(r);a.onsuccess=function(t){var r=t.target.result;e(r),n.close()},a.onerror=function(){c(),console.error("".concat(t,"\u6570\u636e\u6dfb\u52a0\u5931\u8d25\uff01"))}}));case 5:return e.abrupt("return",e.sent);case 6:case"end":return e.stop()}}),e)})));return function(t,r){return e.apply(this,arguments)}}(),G=function(){var e=Object(g.a)(y.a.mark((function e(t){var r;return y.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,T();case 2:return r=e.sent,e.next=5,new Promise((function(e,n){var c=[],a=r.transaction(t,"readonly").objectStore(t).openCursor();a.onsuccess=function(t){var n=t.target.result;if(n){var a=Object(f.a)({id:n.key},n.value);c.push(a),n.continue()}else e(c),r.close()},a.onerror=function(){n(),console.error("".concat(t,"\u6570\u636e\u67e5\u8be2\u5931\u8d25\uff01"))}}));case 5:return e.abrupt("return",e.sent);case 6:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),H=h.a.Item,K=(H.Brief,J.a.prompt);var Q=r(142),W=r(8);a.a.render(Object(B.jsx)(Q.a,{children:Object(B.jsxs)(W.c,{children:[Object(B.jsx)(W.a,{path:"/template",component:function(){return Object(B.jsx)("div",{children:"\u9009\u62e9\u6a21\u7248"})}}),Object(B.jsx)(W.a,{path:"/record",component:S}),Object(B.jsx)(W.a,{component:function(e){var t=e.history,r=Object(n.useState)([]),c=Object(R.a)(r,2),a=c[0],o=c[1];return Object(n.useEffect)((function(){G("projects").then((function(e){o(e)}))}),[]),Object(B.jsxs)(B.Fragment,{children:[Object(B.jsx)(E.a,{mode:"dark",children:"\u9879\u76ee\u5217\u8868"}),Object(B.jsx)(h.a,{children:a.map((function(e){return Object(B.jsx)(H,{arrow:"horizontal",onClick:function(){var r;r=e.projectName,localStorage.setItem("curProject",r),t.push("/template")},children:e.projectName},e.id)}))}),Object(B.jsx)(M,{children:Object(B.jsx)(u.a,{type:"primary",onClick:function(){K("\u9879\u76ee\u540d\u79f0",null,[{text:"\u53d6\u6d88"},{text:"\u786e\u5b9a",onPress:function(e){return e?A("projects",{projectName:e}).then((function(t){var r=[].concat(Object(L.a)(a),[{id:t,projectName:e}]);o(r)})):Promise.reject()}}],"default",null,["\u8bf7\u8f93\u5165\u9879\u76ee\u540d\u79f0"])},children:"\u521b\u5efa\u65b0\u9879\u76ee"})})]})}})]})}),document.getElementById("root"))}},[[336,1,2]]]);
//# sourceMappingURL=main.b9b68d70.chunk.js.map