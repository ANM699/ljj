(this.webpackJsonpljj=this.webpackJsonpljj||[]).push([[0],{359:function(e,t){},361:function(e,t){},373:function(e,t,a){},374:function(e,t,a){"use strict";a.r(t);var c=a(2),n=a(17),i=a.n(n),r=(a(46),a(1)),s=a.n(r),j=(a(51),a(22)),l=a.n(j),b=(a(41),a(12)),_=a.n(b),p=(a(216),a(120)),o=a.n(p),u=a(166),O=a(24),h=(a(139),a(86)),d=a.n(h),m=(a(140),a(87)),x=a.n(m),f=(a(225),a(157)),I=a.n(f),y=a(0);function v(e){var t=e.children,a=e.navBar,c=e.header;return Object(y.jsxs)(y.Fragment,{children:[Object(y.jsx)(I.a,{mode:"dark",children:a}),c?Object(y.jsx)("div",{className:"title",children:c}):null,Object(y.jsxs)(x.a,{children:[Object(y.jsx)(_.a,{}),t]})]})}a(42);var k=a(19),V=a.n(k),g=a(15),w=V.a.Item,N=[{id:1,name:"\u94a2\u7b4b\u6df7\u51dd\u571f\u67f1\u68c0\u6d4b\u8bb0\u5f55",store:"columns",enable:!0,row:4},{id:2,name:"\u94a2\u7b4b\u6df7\u51dd\u571f\u6881\u68c0\u6d4b\u8bb0\u5f55",store:"beams",enable:!0,row:4},{id:3,name:"\u5899\u94a2\u7b4b\u53ca\u539a\u5ea6\u68c0\u6d4b\u8bb0\u5f55",store:"walls",enable:!0,row:4},{id:4,name:"\u677f\u94a2\u7b4b\u53ca\u539a\u5ea6\u68c0\u6d4b\u8bb0\u5f55",store:"floors",enable:!0,row:5}];var S=Object(g.g)((function(e){var t=e.project,a=e.history;return Object(y.jsx)(x.a,{children:Object(y.jsx)(V.a,{children:N.map((function(e){return Object(y.jsx)(w,{disabled:!e.enable,extra:e.enable?"":"\u4e0d\u53ef\u7528",onClick:function(){!function(e){e.enable&&(sessionStorage.setItem("curProject",JSON.stringify(t)),sessionStorage.setItem("curTemplate",JSON.stringify(e)),a.push("/records"))}(e)},children:e.name},e.id)}))})})})),P=a(14),F=a.n(P),B=a(27),C=null,q=function(){var e=Object(B.a)(F.a.mark((function e(){return F.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,new Promise((function(e,t){var a=window.indexedDB.open("ljjDB",2);a.onupgradeneeded=function(e){var t=e.target.result;t.objectStoreNames.contains("projects")||t.createObjectStore("projects",{keyPath:"id",autoIncrement:!0}),t.objectStoreNames.contains("columns")||t.createObjectStore("columns",{keyPath:"id",autoIncrement:!0}).createIndex("projectId","projectId",{unique:!1}),t.objectStoreNames.contains("beams")||t.createObjectStore("beams",{keyPath:"id",autoIncrement:!0}).createIndex("projectId","projectId",{unique:!1}),t.objectStoreNames.contains("walls")||t.createObjectStore("walls",{keyPath:"id",autoIncrement:!0}).createIndex("projectId","projectId",{unique:!1}),t.objectStoreNames.contains("floors")||t.createObjectStore("floors",{keyPath:"id",autoIncrement:!0}).createIndex("projectId","projectId",{unique:!1})},a.onsuccess=function(t){C=t.target.result,e(C)},a.onerror=function(){t(),console.error("\u6570\u636e\u5e93\u521d\u59cb\u5316\u5931\u8d25\uff01")}}));case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),D=function(){var e=Object(B.a)(F.a.mark((function e(t,a){return F.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,q();case 2:return e.next=4,new Promise((function(e,c){var n=C.transaction([t],"readwrite").objectStore(t).add(a);n.onsuccess=function(t){var a=t.target.result;e(a),C.close()},n.onerror=function(){c(),console.error("".concat(t,"\u6570\u636e\u6dfb\u52a0\u5931\u8d25\uff01"))}}));case 4:return e.abrupt("return",e.sent);case 5:case"end":return e.stop()}}),e)})));return function(t,a){return e.apply(this,arguments)}}(),J=function(){var e=Object(B.a)(F.a.mark((function e(t){return F.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,q();case 2:return e.next=4,new Promise((function(e,a){var c=[],n=C.transaction(t,"readonly").objectStore(t).openCursor();n.onsuccess=function(t){var a=t.target.result;if(a){var n=a.value;c.push(n),a.continue()}else e(c),C.close()},n.onerror=function(){a(),console.error("".concat(t,"\u6570\u636e\u67e5\u8be2\u5931\u8d25\uff01"))}}));case 4:return e.abrupt("return",e.sent);case 5:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),E=function(){var e=Object(B.a)(F.a.mark((function e(t,a,c){return F.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,q();case 2:return e.next=4,new Promise((function(e,n){var i=[],r=IDBKeyRange.only(c),s=C.transaction(t,"readonly").objectStore(t).index(a).openCursor(r);s.onsuccess=function(t){var a=t.target.result;if(a){var c=a.value;i.push(c),a.continue()}else e(i),C.close()},s.onerror=function(){n(),console.error("".concat(t,"\u6570\u636e\u67e5\u8be2\u5931\u8d25\uff01"))}}));case 4:return e.abrupt("return",e.sent);case 5:case"end":return e.stop()}}),e)})));return function(t,a,c){return e.apply(this,arguments)}}(),T=function(){var e=Object(B.a)(F.a.mark((function e(t,a){return F.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,q();case 2:return e.next=4,new Promise((function(e,c){var n=C.transaction(t).objectStore(t).get(a);n.onsuccess=function(t){var a=t.target.result;e(a),C.close()},n.onerror=function(){c(),console.error("".concat(t,"\u6570\u636e\u67e5\u8be2\u5931\u8d25\uff01"))}}));case 4:return e.abrupt("return",e.sent);case 5:case"end":return e.stop()}}),e)})));return function(t,a){return e.apply(this,arguments)}}(),M=function(){var e=Object(B.a)(F.a.mark((function e(t,a){return F.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,q();case 2:return e.next=4,new Promise((function(e,c){var n=C.transaction(t,"readwrite").objectStore(t).put(a);n.onsuccess=function(){e(),C.close()},n.onerror=function(){c(),console.error("".concat(t,"\u6570\u636e\u66f4\u65b0\u5931\u8d25\uff01"))}}));case 4:return e.abrupt("return",e.sent);case 5:case"end":return e.stop()}}),e)})));return function(t,a){return e.apply(this,arguments)}}(),R=function(){var e=Object(B.a)(F.a.mark((function e(t,a){return F.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,q();case 2:return e.next=4,new Promise((function(e,c){var n=C.transaction(t,"readwrite").objectStore(t).delete(a);n.onsuccess=function(){e(),C.close()},n.onerror=function(){c(),console.error("".concat(t,"\u6570\u636e\u5220\u9664\u5931\u8d25\uff01"))}}));case 4:return e.abrupt("return",e.sent);case 5:case"end":return e.stop()}}),e)})));return function(t,a){return e.apply(this,arguments)}}(),L=function(){var e=Object(B.a)(F.a.mark((function e(){return F.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,new Promise((function(e,t){var a=window.indexedDB.deleteDatabase("ljjDB");a.onsuccess=function(){e()},a.onerror=function(){t(),console.error("\u6570\u636e\u5e93\u5220\u9664\u5931\u8d25\uff01")}}));case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),U=d.a.prompt;a(74);var z=a(4),A=a.n(z),H=(a(75),a(37)),K=a.n(H),G=(a(58),a(32)),Q=a.n(G),W=a(3),X=a(379),Y=a(38),Z=function(e){return e.length?(e.reduce((function(e,t){return parseInt(e)+parseInt(t)}))/e.length).toFixed(1):""},$=function(e,t,a){return e.length>t?e:e.concat(new Array(t-e.length).fill(a))},ee=function(e,t,a){for(var c=[],n=0;n<e.length;n+=t)c.push({records:$(e.slice(n,n+t),t,{}),date:a,equip:e[n].equip});return c},te=V.a.Item;var ae=Object(Y.a)()((function(e){var t=e.form,a=e.history,n=e.match,i=JSON.parse(sessionStorage.getItem("curProject")),r=JSON.parse(sessionStorage.getItem("curTemplate")),j=Object(c.useState)(null),b=Object(O.a)(j,2),p=b[0],o=b[1];Object(c.useEffect)((function(){var e=n.params;if(e.id){var t=e.id;T("columns",parseInt(t)).then((function(e){o(e)}))}}),[n.params]);var u=t.getFieldProps,h=t.getFieldError;return Object(y.jsxs)(y.Fragment,{children:[Object(y.jsxs)(V.a,{children:[Object(y.jsx)(K.a,Object(W.a)(Object(W.a)({mode:"date",title:"\u9009\u62e9\u65e5\u671f"},u("date",{initialValue:p?new Date(p.date):new Date})),{},{children:Object(y.jsx)(te,{children:"\u68c0\u6d4b\u65f6\u95f4"})})),Object(y.jsx)(A.a,Object(W.a)(Object(W.a)({labelNumber:7},u("equip",{initialValue:p?p.equip:""})),{},{children:"\u68c0\u6d4b\u8bbe\u5907\u53ca\u540d\u79f0"})),Object(y.jsx)(A.a,Object(W.a)(Object(W.a)({extra:"*",error:!!h("position")},u("position",{initialValue:p?p.position:"",rules:[{required:!0,message:"\u5fc5\u586b"}]})),{},{children:"\u67f1\u4f4d\u7f6e"}))]}),Object(y.jsx)("div",{className:"sub-title",children:"\u622a\u9762\u5c3a\u5bf8\uff08mm\uff09"}),Object(y.jsxs)(s.a,{children:[Object(y.jsx)(s.a.Item,{children:Object(y.jsx)(A.a,Object(W.a)({placeholder:"\u5b9e\u6d4b\u503c"},u("section_s_m_1",{initialValue:p?p.section_s_m_1:""})))}),Object(y.jsx)(s.a.Item,{children:Object(y.jsx)(A.a,Object(W.a)({placeholder:"\u5b9e\u6d4b\u503c"},u("section_s_m_2",{initialValue:p?p.section_s_m_2:""})))}),Object(y.jsx)(s.a.Item,{children:Object(y.jsx)(A.a,Object(W.a)({placeholder:"\u5b9e\u6d4b\u503c"},u("section_s_m_3",{initialValue:p?p.section_s_m_3:""})))})]}),Object(y.jsx)("div",{className:"sub-title",children:"\u67f1\u7eb5\u7b4b\u5b9e\u6d4b\u5206\u5e03\uff08mm\uff09"}),Object(y.jsxs)(s.a,{children:[Object(y.jsx)(s.a.Item,{children:Object(y.jsx)(A.a,Object(W.a)({placeholder:"\u67f1\u7eb5\u7b4b\u5b9e\u6d4b\u5206\u5e03"},u("bar",{initialValue:p?p.bar:""})))}),Object(y.jsx)(s.a.Item,{})]}),Object(y.jsx)("div",{className:"sub-title",children:"\u52a0\u5bc6\u533a\u7b8d\u7b4b\u95f4\u8ddd\uff08mm\uff09"}),Object(y.jsxs)(s.a,{children:[Object(y.jsx)(s.a.Item,{children:Object(y.jsx)(A.a,Object(W.a)({type:"number",placeholder:"\u5b9e\u6d4b\u503c"},u("space_m_1",{initialValue:p?p.space_m_1:""})))}),Object(y.jsx)(s.a.Item,{children:Object(y.jsx)(A.a,Object(W.a)({type:"number",placeholder:"\u5b9e\u6d4b\u503c"},u("space_m_2",{initialValue:p?p.space_m_2:""})))}),Object(y.jsx)(s.a.Item,{children:Object(y.jsx)(A.a,Object(W.a)({type:"number",placeholder:"\u5b9e\u6d4b\u503c"},u("space_m_3",{initialValue:p?p.space_m_3:""})))})]}),Object(y.jsx)(_.a,{}),Object(y.jsxs)(s.a,{children:[Object(y.jsx)(s.a.Item,{children:Object(y.jsx)(A.a,Object(W.a)({type:"number",placeholder:"\u5b9e\u6d4b\u503c"},u("space_m_4",{initialValue:p?p.space_m_4:""})))}),Object(y.jsx)(s.a.Item,{children:Object(y.jsx)(A.a,Object(W.a)({type:"number",placeholder:"\u5b9e\u6d4b\u503c"},u("space_m_5",{initialValue:p?p.space_m_5:""})))}),Object(y.jsx)(s.a.Item,{children:Object(y.jsx)(A.a,Object(W.a)({type:"number",placeholder:"\u5b9e\u6d4b\u503c"},u("space_m_6",{initialValue:p?p.space_m_6:""})))})]}),Object(y.jsx)("div",{className:"sub-title",children:"\u975e\u52a0\u5bc6\u533a\u7b8d\u7b4b\u95f4\u8ddd\uff08mm\uff09"}),Object(y.jsxs)(s.a,{children:[Object(y.jsx)(s.a.Item,{children:Object(y.jsx)(A.a,Object(W.a)({type:"number",placeholder:"\u5b9e\u6d4b\u503c"},u("space_non_m_1",{initialValue:p?p.space_non_m_1:""})))}),Object(y.jsx)(s.a.Item,{children:Object(y.jsx)(A.a,Object(W.a)({type:"number",placeholder:"\u5b9e\u6d4b\u503c"},u("space_non_m_2",{initialValue:p?p.space_non_m_2:""})))}),Object(y.jsx)(s.a.Item,{children:Object(y.jsx)(A.a,Object(W.a)({type:"number",placeholder:"\u5b9e\u6d4b\u503c"},u("space_non_m_3",{initialValue:p?p.space_non_m_3:""})))})]}),Object(y.jsx)(_.a,{}),Object(y.jsxs)(s.a,{children:[Object(y.jsx)(s.a.Item,{children:Object(y.jsx)(A.a,Object(W.a)({type:"number",placeholder:"\u5b9e\u6d4b\u503c"},u("space_non_m_4",{initialValue:p?p.space_non_m_4:""})))}),Object(y.jsx)(s.a.Item,{children:Object(y.jsx)(A.a,Object(W.a)({type:"number",placeholder:"\u5b9e\u6d4b\u503c"},u("space_non_m_5",{initialValue:p?p.space_non_m_5:""})))}),Object(y.jsx)(s.a.Item,{children:Object(y.jsx)(A.a,Object(W.a)({type:"number",placeholder:"\u5b9e\u6d4b\u503c"},u("space_non_m_6",{initialValue:p?p.space_non_m_6:""})))})]}),Object(y.jsxs)(s.a,{children:[Object(y.jsxs)(s.a.Item,{children:[Object(y.jsx)("div",{className:"sub-title",children:"\u8bbe\u8ba1\u7b8d\u7b4b\u95f4\u8ddd\uff08mm\uff09"}),Object(y.jsx)(A.a,Object(W.a)({type:"number",placeholder:"\u8bbe\u8ba1\u7b8d\u7b4b\u95f4\u8ddd"},u("space_d",{initialValue:p?p.space_d:""})))]}),Object(y.jsxs)(s.a.Item,{children:[Object(y.jsx)("div",{className:"sub-title",children:"\u52a0\u5bc6\u533a\u957f\u5ea6\uff08mm\uff09"}),Object(y.jsx)(A.a,Object(W.a)({type:"number",placeholder:"\u52a0\u5bc6\u533a\u957f\u5ea6"},u("length",{initialValue:p?p.length:""})))]})]}),Object(y.jsx)(_.a,{}),Object(y.jsx)(l.a,{type:"primary",onClick:function(){t.validateFields({force:!0},(function(e){if(e)Q.a.fail("\u67f1\u4f4d\u7f6e\u672a\u586b\u5199\uff01",2);else{var c=t.getFieldsValue();c.date=Object(X.a)(c.date,"yyyy-MM-dd"),c.projectId=i.id,c.templateId=r.id,c.section_s_a="";var n=[];c.space_m_1&&n.push(c.space_m_1),c.space_m_2&&n.push(c.space_m_2),c.space_m_3&&n.push(c.space_m_3),c.space_m_4&&n.push(c.space_m_4),c.space_m_5&&n.push(c.space_m_5),c.space_m_6&&n.push(c.space_m_6),c.space_m=n.length?n.join(","):"",c.space_a=Z(n);var s=[];c.space_non_m_1&&s.push(c.space_non_m_1),c.space_non_m_2&&s.push(c.space_non_m_2),c.space_non_m_3&&s.push(c.space_non_m_3),c.space_non_m_4&&s.push(c.space_non_m_4),c.space_non_m_5&&s.push(c.space_non_m_5),c.space_non_m_6&&s.push(c.space_non_m_6),c.space_non_m=s.length?s.join(","):"",c.space_non_a=Z(s),p?M("columns",Object(W.a)({id:p.id},c)).then((function(){a.goBack()})):D("columns",c).then((function(){a.goBack()}))}}))},children:"\u4fdd\u5b58"})]})})),ce=V.a.Item;var ne=Object(Y.a)()((function(e){var t=e.form,a=e.history,n=e.match,i=JSON.parse(sessionStorage.getItem("curProject")),r=JSON.parse(sessionStorage.getItem("curTemplate")),j=Object(c.useState)(null),b=Object(O.a)(j,2),p=b[0],o=b[1];Object(c.useEffect)((function(){var e=n.params;if(e.id){var t=e.id;T("walls",parseInt(t)).then((function(e){o(e)}))}}),[n.params]);var u=t.getFieldProps,h=t.getFieldError;return Object(y.jsxs)(y.Fragment,{children:[Object(y.jsxs)(V.a,{children:[Object(y.jsx)(K.a,Object(W.a)(Object(W.a)({mode:"date",title:"\u9009\u62e9\u65e5\u671f"},u("date",{initialValue:p?new Date(p.date):new Date})),{},{children:Object(y.jsx)(ce,{children:"\u68c0\u6d4b\u65f6\u95f4"})})),Object(y.jsx)(A.a,Object(W.a)(Object(W.a)({labelNumber:7},u("equip",{initialValue:p?p.equip:""})),{},{children:"\u68c0\u6d4b\u8bbe\u5907\u53ca\u540d\u79f0"})),Object(y.jsx)(A.a,Object(W.a)(Object(W.a)({extra:"*",error:!!h("position")},u("position",{initialValue:p?p.position:"",rules:[{required:!0,message:"\u5fc5\u586b"}]})),{},{children:"\u68c0\u6d4b\u90e8\u4f4d"}))]}),Object(y.jsx)("div",{className:"sub-title",children:"\u5b9e\u6d4b\u94a2\u7b4b\u95f4\u8ddd\uff08\u6c34\u5e73\uff09\uff08mm\uff09"}),Object(y.jsxs)(s.a,{children:[Object(y.jsx)(s.a.Item,{children:Object(y.jsx)(A.a,Object(W.a)({type:"number",placeholder:"\u5b9e\u6d4b\u503c"},u("space_bar_h_1",{initialValue:p?p.space_bar_h_1:""})))}),Object(y.jsx)(s.a.Item,{children:Object(y.jsx)(A.a,Object(W.a)({type:"number",placeholder:"\u5b9e\u6d4b\u503c"},u("space_bar_h_2",{initialValue:p?p.space_bar_h_2:""})))}),Object(y.jsx)(s.a.Item,{children:Object(y.jsx)(A.a,Object(W.a)({type:"number",placeholder:"\u5b9e\u6d4b\u503c"},u("space_bar_h_3",{initialValue:p?p.space_bar_h_3:""})))})]}),Object(y.jsx)(_.a,{}),Object(y.jsxs)(s.a,{children:[Object(y.jsx)(s.a.Item,{children:Object(y.jsx)(A.a,Object(W.a)({type:"number",placeholder:"\u5b9e\u6d4b\u503c"},u("space_bar_h_4",{initialValue:p?p.space_bar_h_4:""})))}),Object(y.jsx)(s.a.Item,{children:Object(y.jsx)(A.a,Object(W.a)({type:"number",placeholder:"\u5b9e\u6d4b\u503c"},u("space_bar_h_5",{initialValue:p?p.space_bar_h_5:""})))}),Object(y.jsx)(s.a.Item,{children:Object(y.jsx)(A.a,Object(W.a)({type:"number",placeholder:"\u5b9e\u6d4b\u503c"},u("space_bar_h_6",{initialValue:p?p.space_bar_h_6:""})))})]}),Object(y.jsx)("div",{className:"sub-title",children:"\u4fdd\u62a4\u5c42\u539a\u5ea6\u68c0\u6d4b\u503c\uff08\u6c34\u5e73\uff09\uff08mm\uff09"}),Object(y.jsxs)(s.a,{children:[Object(y.jsx)(s.a.Item,{children:Object(y.jsx)(A.a,Object(W.a)({type:"number",placeholder:"\u5b9e\u6d4b\u503c"},u("thick_p_h_1",{initialValue:p?p.thick_p_h_1:""})))}),Object(y.jsx)(s.a.Item,{children:Object(y.jsx)(A.a,Object(W.a)({type:"number",placeholder:"\u5b9e\u6d4b\u503c"},u("thick_p_h_2",{initialValue:p?p.thick_p_h_2:""})))}),Object(y.jsx)(s.a.Item,{children:Object(y.jsx)(A.a,Object(W.a)({type:"number",placeholder:"\u5b9e\u6d4b\u503c"},u("thick_p_h_3",{initialValue:p?p.thick_p_h_3:""})))}),Object(y.jsx)(s.a.Item,{children:Object(y.jsx)(A.a,Object(W.a)({type:"number",placeholder:"\u5b9e\u6d4b\u503c"},u("thick_p_h_4",{initialValue:p?p.thick_p_h_4:""})))})]}),Object(y.jsx)(_.a,{}),Object(y.jsxs)(s.a,{children:[Object(y.jsx)(s.a.Item,{children:Object(y.jsx)(A.a,Object(W.a)({type:"number",placeholder:"\u5b9e\u6d4b\u503c"},u("thick_p_h_5",{initialValue:p?p.thick_p_h_5:""})))}),Object(y.jsx)(s.a.Item,{children:Object(y.jsx)(A.a,Object(W.a)({type:"number",placeholder:"\u5b9e\u6d4b\u503c"},u("thick_p_h_6",{initialValue:p?p.thick_p_h_6:""})))}),Object(y.jsx)(s.a.Item,{children:Object(y.jsx)(A.a,Object(W.a)({type:"number",placeholder:"\u5b9e\u6d4b\u503c"},u("thick_p_h_7",{initialValue:p?p.thick_p_h_7:""})))}),Object(y.jsx)(s.a.Item,{})]}),Object(y.jsx)("div",{className:"sub-title",children:"\u5b9e\u6d4b\u94a2\u7b4b\u95f4\u8ddd\uff08\u7ad6\u5411\uff09\uff08mm\uff09"}),Object(y.jsxs)(s.a,{children:[Object(y.jsx)(s.a.Item,{children:Object(y.jsx)(A.a,Object(W.a)({type:"number",placeholder:"\u5b9e\u6d4b\u503c"},u("space_bar_v_1",{initialValue:p?p.space_bar_v_1:""})))}),Object(y.jsx)(s.a.Item,{children:Object(y.jsx)(A.a,Object(W.a)({type:"number",placeholder:"\u5b9e\u6d4b\u503c"},u("space_bar_v_2",{initialValue:p?p.space_bar_v_2:""})))}),Object(y.jsx)(s.a.Item,{children:Object(y.jsx)(A.a,Object(W.a)({type:"number",placeholder:"\u5b9e\u6d4b\u503c"},u("space_bar_v_3",{initialValue:p?p.space_bar_v_3:""})))})]}),Object(y.jsx)(_.a,{}),Object(y.jsxs)(s.a,{children:[Object(y.jsx)(s.a.Item,{children:Object(y.jsx)(A.a,Object(W.a)({type:"number",placeholder:"\u5b9e\u6d4b\u503c"},u("space_bar_v_4",{initialValue:p?p.space_bar_v_4:""})))}),Object(y.jsx)(s.a.Item,{children:Object(y.jsx)(A.a,Object(W.a)({type:"number",placeholder:"\u5b9e\u6d4b\u503c"},u("space_bar_v_5",{initialValue:p?p.space_bar_v_5:""})))}),Object(y.jsx)(s.a.Item,{children:Object(y.jsx)(A.a,Object(W.a)({type:"number",placeholder:"\u5b9e\u6d4b\u503c"},u("space_bar_v_6",{initialValue:p?p.space_bar_v_6:""})))})]}),Object(y.jsx)("div",{className:"sub-title",children:"\u4fdd\u62a4\u5c42\u539a\u5ea6\u68c0\u6d4b\u503c\uff08\u7ad6\u5411\uff09\uff08mm\uff09"}),Object(y.jsxs)(s.a,{children:[Object(y.jsx)(s.a.Item,{children:Object(y.jsx)(A.a,Object(W.a)({type:"number",placeholder:"\u5b9e\u6d4b\u503c"},u("thick_p_v_1",{initialValue:p?p.thick_p_v_1:""})))}),Object(y.jsx)(s.a.Item,{children:Object(y.jsx)(A.a,Object(W.a)({type:"number",placeholder:"\u5b9e\u6d4b\u503c"},u("thick_p_v_2",{initialValue:p?p.thick_p_v_2:""})))}),Object(y.jsx)(s.a.Item,{children:Object(y.jsx)(A.a,Object(W.a)({type:"number",placeholder:"\u5b9e\u6d4b\u503c"},u("thick_p_v_3",{initialValue:p?p.thick_p_v_3:""})))}),Object(y.jsx)(s.a.Item,{children:Object(y.jsx)(A.a,Object(W.a)({type:"number",placeholder:"\u5b9e\u6d4b\u503c"},u("thick_p_v_4",{initialValue:p?p.thick_p_v_4:""})))})]}),Object(y.jsx)(_.a,{}),Object(y.jsxs)(s.a,{children:[Object(y.jsx)(s.a.Item,{children:Object(y.jsx)(A.a,Object(W.a)({type:"number",placeholder:"\u5b9e\u6d4b\u503c"},u("thick_p_v_5",{initialValue:p?p.thick_p_v_5:""})))}),Object(y.jsx)(s.a.Item,{children:Object(y.jsx)(A.a,Object(W.a)({type:"number",placeholder:"\u5b9e\u6d4b\u503c"},u("thick_p_v_6",{initialValue:p?p.thick_p_v_6:""})))}),Object(y.jsx)(s.a.Item,{children:Object(y.jsx)(A.a,Object(W.a)({type:"number",placeholder:"\u5b9e\u6d4b\u503c"},u("thick_p_v_7",{initialValue:p?p.thick_p_v_7:""})))}),Object(y.jsx)(s.a.Item,{})]}),Object(y.jsx)("div",{className:"sub-title",children:"\u5899\u539a\u68c0\u6d4b\u503c\uff08mm\uff09"}),Object(y.jsxs)(s.a,{children:[Object(y.jsx)(s.a.Item,{children:Object(y.jsx)(A.a,Object(W.a)({type:"number",placeholder:"\u5b9e\u6d4b\u503c"},u("thick_w_1",{initialValue:p?p.thick_w_1:""})))}),Object(y.jsx)(s.a.Item,{children:Object(y.jsx)(A.a,Object(W.a)({type:"number",placeholder:"\u5b9e\u6d4b\u503c"},u("thick_w_2",{initialValue:p?p.thick_w_2:""})))}),Object(y.jsx)(s.a.Item,{children:Object(y.jsx)(A.a,Object(W.a)({type:"number",placeholder:"\u5b9e\u6d4b\u503c"},u("thick_w_3",{initialValue:p?p.thick_w_3:""})))})]}),Object(y.jsx)(_.a,{}),Object(y.jsx)(l.a,{type:"primary",onClick:function(){t.validateFields({force:!0},(function(e){if(e)Q.a.fail("\u68c0\u6d4b\u90e8\u4f4d\u672a\u586b\u5199\uff01",2);else{var c=t.getFieldsValue();c.date=Object(X.a)(c.date,"yyyy-MM-dd"),c.projectId=i.id,c.templateId=r.id;var n=[];c.thick_w_1&&n.push(c.thick_w_1),c.thick_w_2&&n.push(c.thick_w_2),c.thick_w_3&&n.push(c.thick_w_3),c.thick_w_a=Z(n),p?M("walls",Object(W.a)({id:p.id},c)).then((function(){a.goBack()})):D("walls",c).then((function(){a.goBack()}))}}))},children:"\u4fdd\u5b58"})]})})),ie=V.a.Item;var re=Object(Y.a)()((function(e){var t=e.form,a=e.history,n=e.match,i=JSON.parse(sessionStorage.getItem("curProject")),r=JSON.parse(sessionStorage.getItem("curTemplate")),j=Object(c.useState)(null),b=Object(O.a)(j,2),p=b[0],o=b[1];Object(c.useEffect)((function(){var e=n.params;if(e.id){var t=e.id;T("beams",parseInt(t)).then((function(e){o(e)}))}}),[n.params]);var u=t.getFieldProps,h=t.getFieldError;return Object(y.jsxs)(y.Fragment,{children:[Object(y.jsxs)(V.a,{children:[Object(y.jsx)(K.a,Object(W.a)(Object(W.a)({mode:"date",title:"\u9009\u62e9\u65e5\u671f"},u("date",{initialValue:p?new Date(p.date):new Date})),{},{children:Object(y.jsx)(ie,{children:"\u68c0\u6d4b\u65f6\u95f4"})})),Object(y.jsx)(A.a,Object(W.a)(Object(W.a)({labelNumber:7},u("equip",{initialValue:p?p.equip:""})),{},{children:"\u68c0\u6d4b\u8bbe\u5907\u53ca\u540d\u79f0"})),Object(y.jsx)(A.a,Object(W.a)(Object(W.a)({extra:"*",error:!!h("position")},u("position",{initialValue:p?p.position:"",rules:[{required:!0,message:"\u5fc5\u586b"}]})),{},{children:"\u6881\u4f4d\u7f6e"}))]}),Object(y.jsx)("div",{className:"sub-title",children:"\u622a\u9762\u5c3a\u5bf8\uff08mm\uff09"}),Object(y.jsxs)(s.a,{children:[Object(y.jsx)(s.a.Item,{children:Object(y.jsx)(A.a,Object(W.a)({placeholder:"\u5b9e\u6d4b\u503c"},u("section_s_m_1",{initialValue:p?p.section_s_m_1:""})))}),Object(y.jsx)(s.a.Item,{children:Object(y.jsx)(A.a,Object(W.a)({placeholder:"\u5b9e\u6d4b\u503c"},u("section_s_m_2",{initialValue:p?p.section_s_m_2:""})))}),Object(y.jsx)(s.a.Item,{children:Object(y.jsx)(A.a,Object(W.a)({placeholder:"\u5b9e\u6d4b\u503c"},u("section_s_m_3",{initialValue:p?p.section_s_m_3:""})))})]}),Object(y.jsx)("div",{className:"sub-title",children:"\u6881\u5e95\u5e95\u6392\u7eb5\u7b4b\u5b9e\u6d4b\u6839\u6570"}),Object(y.jsxs)(s.a,{children:[Object(y.jsx)(s.a.Item,{children:Object(y.jsx)(A.a,Object(W.a)({type:"number",placeholder:"\u5b9e\u6d4b\u6839\u6570"},u("bar_num",{initialValue:p?p.bar_num:""})))}),Object(y.jsx)(s.a.Item,{})]}),Object(y.jsx)("div",{className:"sub-title",children:"\u6881\u5e95\u5e95\u6392\u94a2\u7b4b\u783c\u4fdd\u62a4\u5c42\u539a\u5ea6\u5b9e\u6d4b\u503c\uff08mm\uff09"}),Object(y.jsxs)(s.a,{children:[Object(y.jsx)(s.a.Item,{children:Object(y.jsx)(A.a,Object(W.a)({type:"number",placeholder:"\u6d4b\u70b91"},u("thick_p_1",{initialValue:p?p.thick_p_1:""})))}),Object(y.jsx)(s.a.Item,{children:Object(y.jsx)(A.a,Object(W.a)({type:"number",placeholder:"\u6d4b\u70b92"},u("thick_p_2",{initialValue:p?p.thick_p_2:""})))}),Object(y.jsx)(s.a.Item,{children:Object(y.jsx)(A.a,Object(W.a)({type:"number",placeholder:"\u6d4b\u70b93"},u("thick_p_3",{initialValue:p?p.thick_p_3:""})))})]}),Object(y.jsx)("div",{className:"sub-title",children:"\u52a0\u5bc6\u533a\u7b8d\u7b4b\u95f4\u8ddd\uff08mm\uff09"}),Object(y.jsxs)(s.a,{children:[Object(y.jsx)(s.a.Item,{children:Object(y.jsx)(A.a,Object(W.a)({type:"number",placeholder:"\u5b9e\u6d4b\u503c"},u("space_m_1",{initialValue:p?p.space_m_1:""})))}),Object(y.jsx)(s.a.Item,{children:Object(y.jsx)(A.a,Object(W.a)({type:"number",placeholder:"\u5b9e\u6d4b\u503c"},u("space_m_2",{initialValue:p?p.space_m_2:""})))}),Object(y.jsx)(s.a.Item,{children:Object(y.jsx)(A.a,Object(W.a)({type:"number",placeholder:"\u5b9e\u6d4b\u503c"},u("space_m_3",{initialValue:p?p.space_m_3:""})))})]}),Object(y.jsx)(_.a,{}),Object(y.jsxs)(s.a,{children:[Object(y.jsx)(s.a.Item,{children:Object(y.jsx)(A.a,Object(W.a)({type:"number",placeholder:"\u5b9e\u6d4b\u503c"},u("space_m_4",{initialValue:p?p.space_m_4:""})))}),Object(y.jsx)(s.a.Item,{children:Object(y.jsx)(A.a,Object(W.a)({type:"number",placeholder:"\u5b9e\u6d4b\u503c"},u("space_m_5",{initialValue:p?p.space_m_5:""})))}),Object(y.jsx)(s.a.Item,{children:Object(y.jsx)(A.a,Object(W.a)({type:"number",placeholder:"\u5b9e\u6d4b\u503c"},u("space_m_6",{initialValue:p?p.space_m_6:""})))})]}),Object(y.jsx)("div",{className:"sub-title",children:"\u975e\u52a0\u5bc6\u533a\u7b8d\u7b4b\u95f4\u8ddd\uff08mm\uff09"}),Object(y.jsxs)(s.a,{children:[Object(y.jsx)(s.a.Item,{children:Object(y.jsx)(A.a,Object(W.a)({type:"number",placeholder:"\u5b9e\u6d4b\u503c"},u("space_non_m_1",{initialValue:p?p.space_non_m_1:""})))}),Object(y.jsx)(s.a.Item,{children:Object(y.jsx)(A.a,Object(W.a)({type:"number",placeholder:"\u5b9e\u6d4b\u503c"},u("space_non_m_2",{initialValue:p?p.space_non_m_2:""})))}),Object(y.jsx)(s.a.Item,{children:Object(y.jsx)(A.a,Object(W.a)({type:"number",placeholder:"\u5b9e\u6d4b\u503c"},u("space_non_m_3",{initialValue:p?p.space_non_m_3:""})))})]}),Object(y.jsx)(_.a,{}),Object(y.jsxs)(s.a,{children:[Object(y.jsx)(s.a.Item,{children:Object(y.jsx)(A.a,Object(W.a)({type:"number",placeholder:"\u5b9e\u6d4b\u503c"},u("space_non_m_4",{initialValue:p?p.space_non_m_4:""})))}),Object(y.jsx)(s.a.Item,{children:Object(y.jsx)(A.a,Object(W.a)({type:"number",placeholder:"\u5b9e\u6d4b\u503c"},u("space_non_m_5",{initialValue:p?p.space_non_m_5:""})))}),Object(y.jsx)(s.a.Item,{children:Object(y.jsx)(A.a,Object(W.a)({type:"number",placeholder:"\u5b9e\u6d4b\u503c"},u("space_non_m_6",{initialValue:p?p.space_non_m_6:""})))})]}),Object(y.jsxs)(s.a,{children:[Object(y.jsxs)(s.a.Item,{children:[Object(y.jsx)("div",{className:"sub-title",children:"\u8bbe\u8ba1\u7b8d\u7b4b\u95f4\u8ddd\uff08mm\uff09"}),Object(y.jsx)(A.a,Object(W.a)({type:"number",placeholder:"\u8bbe\u8ba1\u7b8d\u7b4b\u95f4\u8ddd"},u("space_d",{initialValue:p?p.space_d:""})))]}),Object(y.jsx)(s.a.Item,{})]}),Object(y.jsx)(_.a,{}),Object(y.jsx)(l.a,{type:"primary",onClick:function(){t.validateFields({force:!0},(function(e){if(e)Q.a.fail("\u6881\u4f4d\u7f6e\u672a\u586b\u5199\uff01",2);else{var c=t.getFieldsValue();c.date=Object(X.a)(c.date,"yyyy-MM-dd"),c.projectId=i.id,c.templateId=r.id,c.section_s_a="";var n=[];c.thick_p_1&&n.push(c.thick_p_1),c.thick_p_2&&n.push(c.thick_p_2),c.thick_p_3&&n.push(c.thick_p_3),c.thick_p_a=Z(n);var s=[];c.space_m_1&&s.push(c.space_m_1),c.space_m_2&&s.push(c.space_m_2),c.space_m_3&&s.push(c.space_m_3),c.space_m_4&&s.push(c.space_m_4),c.space_m_5&&s.push(c.space_m_5),c.space_m_6&&s.push(c.space_m_6),c.space_m=s.length?s.join(","):"",c.space_a=Z(s);var j=[];c.space_non_m_1&&j.push(c.space_non_m_1),c.space_non_m_2&&j.push(c.space_non_m_2),c.space_non_m_3&&j.push(c.space_non_m_3),c.space_non_m_4&&j.push(c.space_non_m_4),c.space_non_m_5&&j.push(c.space_non_m_5),c.space_non_m_6&&j.push(c.space_non_m_6),c.space_non_m=j.length?j.join(","):"",c.space_non_a=Z(j),p?M("beams",Object(W.a)({id:p.id},c)).then((function(){a.goBack()})):D("beams",c).then((function(){a.goBack()}))}}))},children:"\u4fdd\u5b58"})]})})),se=(a(335),a(123)),je=a.n(se),le=a(124),be=V.a.Item,_e=[{title:"\u677f\u5e95"},{title:"\u677f\u9762"}];function pe(e){return Object(y.jsx)(le.Sticky,{children:function(t){var a=t.style;return Object(y.jsx)("div",{style:Object(W.a)(Object(W.a)({},a),{},{zIndex:1}),children:Object(y.jsx)(je.a.DefaultTabBar,Object(W.a)({},e))})}})}var oe=Object(Y.a)()((function(e){var t=e.form,a=e.history,n=e.match,i=JSON.parse(sessionStorage.getItem("curProject")),r=JSON.parse(sessionStorage.getItem("curTemplate")),j=Object(c.useState)(null),b=Object(O.a)(j,2),p=b[0],o=b[1];Object(c.useEffect)((function(){var e=n.params;if(e.id){var t=e.id;T("floors",parseInt(t)).then((function(e){o(e)}))}}),[n.params]);var u=t.getFieldProps,h=t.getFieldError;return Object(y.jsxs)(y.Fragment,{children:[Object(y.jsxs)(V.a,{children:[Object(y.jsx)(K.a,Object(W.a)(Object(W.a)({mode:"date",title:"\u9009\u62e9\u65e5\u671f"},u("date",{initialValue:p?new Date(p.date):new Date})),{},{children:Object(y.jsx)(be,{children:"\u68c0\u6d4b\u65f6\u95f4"})})),Object(y.jsx)(A.a,Object(W.a)(Object(W.a)({labelNumber:7},u("equip",{initialValue:p?p.equip:""})),{},{children:"\u68c0\u6d4b\u8bbe\u5907\u53ca\u540d\u79f0"})),Object(y.jsx)(A.a,Object(W.a)(Object(W.a)({},u("floor",{initialValue:p?p.floor:""})),{},{children:"\u5c42"})),Object(y.jsx)(A.a,Object(W.a)(Object(W.a)({extra:"*",error:!!h("position")},u("position",{initialValue:p?p.position:"",rules:[{required:!0,message:"\u5fc5\u586b"}]})),{},{children:"\u68c0\u6d4b\u90e8\u4f4d"}))]}),Object(y.jsx)(_.a,{}),Object(y.jsx)(le.StickyContainer,{children:Object(y.jsxs)(je.a,{tabs:_e,initialPage:0,swipeable:!1,renderTabBar:pe,tabBarBackgroundColor:"#f5f5f9",children:[Object(y.jsxs)("div",{children:[Object(y.jsx)("div",{className:"sub-title",children:"\u5e73\u884c\u8f74"}),Object(y.jsxs)(s.a,{children:[Object(y.jsx)(s.a.Item,{children:Object(y.jsx)(A.a,Object(W.a)({placeholder:"\u8f74"},u("parallel_1",{initialValue:p?p.parallel_1:""})))}),Object(y.jsx)(s.a.Item,{}),Object(y.jsx)(s.a.Item,{})]}),Object(y.jsx)("div",{className:"sub-title",children:"\u94a2\u7b4b\u95f4\u8ddd\u68c0\u6d4b\u503c\uff08mm\uff09"}),Object(y.jsxs)(s.a,{children:[Object(y.jsx)(s.a.Item,{children:Object(y.jsx)(A.a,Object(W.a)({type:"number",placeholder:"\u5b9e\u6d4b\u503c"},u("space_bar_1_1",{initialValue:p?p.space_bar_1_1:""})))}),Object(y.jsx)(s.a.Item,{children:Object(y.jsx)(A.a,Object(W.a)({type:"number",placeholder:"\u5b9e\u6d4b\u503c"},u("space_bar_1_2",{initialValue:p?p.space_bar_1_2:""})))}),Object(y.jsx)(s.a.Item,{children:Object(y.jsx)(A.a,Object(W.a)({type:"number",placeholder:"\u5b9e\u6d4b\u503c"},u("space_bar_1_3",{initialValue:p?p.space_bar_1_3:""})))})]}),Object(y.jsx)(_.a,{}),Object(y.jsxs)(s.a,{children:[Object(y.jsx)(s.a.Item,{children:Object(y.jsx)(A.a,Object(W.a)({type:"number",placeholder:"\u5b9e\u6d4b\u503c"},u("space_bar_1_4",{initialValue:p?p.space_bar_1_4:""})))}),Object(y.jsx)(s.a.Item,{children:Object(y.jsx)(A.a,Object(W.a)({type:"number",placeholder:"\u5b9e\u6d4b\u503c"},u("space_bar_1_5",{initialValue:p?p.space_bar_1_5:""})))}),Object(y.jsx)(s.a.Item,{children:Object(y.jsx)(A.a,Object(W.a)({type:"number",placeholder:"\u5b9e\u6d4b\u503c"},u("space_bar_1_6",{initialValue:p?p.space_bar_1_6:""})))})]}),Object(y.jsx)("div",{className:"sub-title",children:"\u4fdd\u62a4\u5c42\u68c0\u6d4b\u503c\uff08mm\uff09"}),Object(y.jsxs)(s.a,{children:[Object(y.jsx)(s.a.Item,{children:Object(y.jsx)(A.a,Object(W.a)({type:"number",placeholder:"\u5b9e\u6d4b\u503c"},u("thick_p_1_1",{initialValue:p?p.thick_p_1_1:""})))}),Object(y.jsx)(s.a.Item,{children:Object(y.jsx)(A.a,Object(W.a)({type:"number",placeholder:"\u5b9e\u6d4b\u503c"},u("thick_p_1_2",{initialValue:p?p.thick_p_1_2:""})))}),Object(y.jsx)(s.a.Item,{children:Object(y.jsx)(A.a,Object(W.a)({type:"number",placeholder:"\u5b9e\u6d4b\u503c"},u("thick_p_1_3",{initialValue:p?p.thick_p_1_3:""})))}),Object(y.jsx)(s.a.Item,{children:Object(y.jsx)(A.a,Object(W.a)({type:"number",placeholder:"\u5b9e\u6d4b\u503c"},u("thick_p_1_4",{initialValue:p?p.thick_p_1_4:""})))})]}),Object(y.jsx)(_.a,{}),Object(y.jsxs)(s.a,{children:[Object(y.jsx)(s.a.Item,{children:Object(y.jsx)(A.a,Object(W.a)({type:"number",placeholder:"\u5b9e\u6d4b\u503c"},u("thick_p_1_5",{initialValue:p?p.thick_p_1_5:""})))}),Object(y.jsx)(s.a.Item,{children:Object(y.jsx)(A.a,Object(W.a)({type:"number",placeholder:"\u5b9e\u6d4b\u503c"},u("thick_p_1_6",{initialValue:p?p.thick_p_1_6:""})))}),Object(y.jsx)(s.a.Item,{children:Object(y.jsx)(A.a,Object(W.a)({type:"number",placeholder:"\u5b9e\u6d4b\u503c"},u("thick_p_1_7",{initialValue:p?p.thick_p_1_7:""})))}),Object(y.jsx)(s.a.Item,{})]}),Object(y.jsx)("div",{className:"sub-title",children:"\u6263\u9664\uff08mm\uff09"}),Object(y.jsxs)(s.a,{children:[Object(y.jsx)(s.a.Item,{children:Object(y.jsx)(A.a,Object(W.a)({type:"number",placeholder:"\u6263\u9664"},u("deduct_1",{initialValue:p?p.deduct_1:""})))}),Object(y.jsx)(s.a.Item,{})]}),Object(y.jsx)("div",{className:"sub-title",children:"\u5e73\u884c\u8f74"}),Object(y.jsxs)(s.a,{children:[Object(y.jsx)(s.a.Item,{children:Object(y.jsx)(A.a,Object(W.a)({placeholder:"\u8f74"},u("parallel_2",{initialValue:p?p.parallel_2:""})))}),Object(y.jsx)(s.a.Item,{}),Object(y.jsx)(s.a.Item,{})]}),Object(y.jsx)("div",{className:"sub-title",children:"\u94a2\u7b4b\u95f4\u8ddd\u68c0\u6d4b\u503c\uff08mm\uff09"}),Object(y.jsxs)(s.a,{children:[Object(y.jsx)(s.a.Item,{children:Object(y.jsx)(A.a,Object(W.a)({type:"number",placeholder:"\u5b9e\u6d4b\u503c"},u("space_bar_2_1",{initialValue:p?p.space_bar_2_1:""})))}),Object(y.jsx)(s.a.Item,{children:Object(y.jsx)(A.a,Object(W.a)({type:"number",placeholder:"\u5b9e\u6d4b\u503c"},u("space_bar_2_2",{initialValue:p?p.space_bar_2_2:""})))}),Object(y.jsx)(s.a.Item,{children:Object(y.jsx)(A.a,Object(W.a)({type:"number",placeholder:"\u5b9e\u6d4b\u503c"},u("space_bar_2_3",{initialValue:p?p.space_bar_2_3:""})))})]}),Object(y.jsx)(_.a,{}),Object(y.jsxs)(s.a,{children:[Object(y.jsx)(s.a.Item,{children:Object(y.jsx)(A.a,Object(W.a)({type:"number",placeholder:"\u5b9e\u6d4b\u503c"},u("space_bar_2_4",{initialValue:p?p.space_bar_2_4:""})))}),Object(y.jsx)(s.a.Item,{children:Object(y.jsx)(A.a,Object(W.a)({type:"number",placeholder:"\u5b9e\u6d4b\u503c"},u("space_bar_2_5",{initialValue:p?p.space_bar_2_5:""})))}),Object(y.jsx)(s.a.Item,{children:Object(y.jsx)(A.a,Object(W.a)({type:"number",placeholder:"\u5b9e\u6d4b\u503c"},u("space_bar_2_6",{initialValue:p?p.space_bar_2_6:""})))})]}),Object(y.jsx)("div",{className:"sub-title",children:"\u4fdd\u62a4\u5c42\u68c0\u6d4b\u503c\uff08mm\uff09"}),Object(y.jsxs)(s.a,{children:[Object(y.jsx)(s.a.Item,{children:Object(y.jsx)(A.a,Object(W.a)({type:"number",placeholder:"\u5b9e\u6d4b\u503c"},u("thick_p_2_1",{initialValue:p?p.thick_p_2_1:""})))}),Object(y.jsx)(s.a.Item,{children:Object(y.jsx)(A.a,Object(W.a)({type:"number",placeholder:"\u5b9e\u6d4b\u503c"},u("thick_p_2_2",{initialValue:p?p.thick_p_2_2:""})))}),Object(y.jsx)(s.a.Item,{children:Object(y.jsx)(A.a,Object(W.a)({type:"number",placeholder:"\u5b9e\u6d4b\u503c"},u("thick_p_2_3",{initialValue:p?p.thick_p_2_3:""})))}),Object(y.jsx)(s.a.Item,{children:Object(y.jsx)(A.a,Object(W.a)({type:"number",placeholder:"\u5b9e\u6d4b\u503c"},u("thick_p_2_4",{initialValue:p?p.thick_p_2_4:""})))})]}),Object(y.jsx)(_.a,{}),Object(y.jsxs)(s.a,{children:[Object(y.jsx)(s.a.Item,{children:Object(y.jsx)(A.a,Object(W.a)({type:"number",placeholder:"\u5b9e\u6d4b\u503c"},u("thick_p_2_5",{initialValue:p?p.thick_p_2_5:""})))}),Object(y.jsx)(s.a.Item,{children:Object(y.jsx)(A.a,Object(W.a)({type:"number",placeholder:"\u5b9e\u6d4b\u503c"},u("thick_p_2_6",{initialValue:p?p.thick_p_2_6:""})))}),Object(y.jsx)(s.a.Item,{children:Object(y.jsx)(A.a,Object(W.a)({type:"number",placeholder:"\u5b9e\u6d4b\u503c"},u("thick_p_2_7",{initialValue:p?p.thick_p_2_7:""})))}),Object(y.jsx)(s.a.Item,{})]}),Object(y.jsx)("div",{className:"sub-title",children:"\u6263\u9664\uff08mm\uff09"}),Object(y.jsxs)(s.a,{children:[Object(y.jsx)(s.a.Item,{children:Object(y.jsx)(A.a,Object(W.a)({type:"number",placeholder:"\u6263\u9664"},u("deduct_2",{initialValue:p?p.deduct_2:""})))}),Object(y.jsx)(s.a.Item,{})]}),Object(y.jsx)("div",{className:"sub-title",children:"\u677f\u539a\u68c0\u6d4b\u503c\uff08mm\uff09"}),Object(y.jsxs)(s.a,{children:[Object(y.jsx)(s.a.Item,{children:Object(y.jsx)(A.a,Object(W.a)({type:"number",placeholder:"\u5b9e\u6d4b\u503c"},u("thick_f_1",{initialValue:p?p.thick_f_1:""})))}),Object(y.jsx)(s.a.Item,{})]})]}),Object(y.jsxs)("div",{children:[Object(y.jsx)("div",{className:"sub-title",children:"\u652f\u5ea7"}),Object(y.jsxs)(s.a,{children:[Object(y.jsx)(s.a.Item,{children:Object(y.jsx)(A.a,Object(W.a)({placeholder:"\u8f74"},u("support_1",{initialValue:p?p.support_1:""})))}),Object(y.jsx)(s.a.Item,{}),Object(y.jsx)(s.a.Item,{})]}),Object(y.jsx)("div",{className:"sub-title",children:"\u94a2\u7b4b\u95f4\u8ddd\u68c0\u6d4b\u503c\uff08mm\uff09"}),Object(y.jsxs)(s.a,{children:[Object(y.jsx)(s.a.Item,{children:Object(y.jsx)(A.a,Object(W.a)({type:"number",placeholder:"\u5b9e\u6d4b\u503c"},u("space_bar_3_1",{initialValue:p?p.space_bar_3_1:""})))}),Object(y.jsx)(s.a.Item,{children:Object(y.jsx)(A.a,Object(W.a)({type:"number",placeholder:"\u5b9e\u6d4b\u503c"},u("space_bar_3_2",{initialValue:p?p.space_bar_3_2:""})))}),Object(y.jsx)(s.a.Item,{children:Object(y.jsx)(A.a,Object(W.a)({type:"number",placeholder:"\u5b9e\u6d4b\u503c"},u("space_bar_3_3",{initialValue:p?p.space_bar_3_3:""})))})]}),Object(y.jsx)(_.a,{}),Object(y.jsxs)(s.a,{children:[Object(y.jsx)(s.a.Item,{children:Object(y.jsx)(A.a,Object(W.a)({type:"number",placeholder:"\u5b9e\u6d4b\u503c"},u("space_bar_3_4",{initialValue:p?p.space_bar_3_4:""})))}),Object(y.jsx)(s.a.Item,{children:Object(y.jsx)(A.a,Object(W.a)({type:"number",placeholder:"\u5b9e\u6d4b\u503c"},u("space_bar_3_5",{initialValue:p?p.space_bar_3_5:""})))}),Object(y.jsx)(s.a.Item,{children:Object(y.jsx)(A.a,Object(W.a)({type:"number",placeholder:"\u5b9e\u6d4b\u503c"},u("space_bar_3_6",{initialValue:p?p.space_bar_3_6:""})))})]}),Object(y.jsx)("div",{className:"sub-title",children:"\u4fdd\u62a4\u5c42\u68c0\u6d4b\u503c\uff08mm\uff09"}),Object(y.jsxs)(s.a,{children:[Object(y.jsx)(s.a.Item,{children:Object(y.jsx)(A.a,Object(W.a)({type:"number",placeholder:"\u5b9e\u6d4b\u503c"},u("thick_p_3_1",{initialValue:p?p.thick_p_3_1:""})))}),Object(y.jsx)(s.a.Item,{children:Object(y.jsx)(A.a,Object(W.a)({type:"number",placeholder:"\u5b9e\u6d4b\u503c"},u("thick_p_3_2",{initialValue:p?p.thick_p_3_2:""})))}),Object(y.jsx)(s.a.Item,{children:Object(y.jsx)(A.a,Object(W.a)({type:"number",placeholder:"\u5b9e\u6d4b\u503c"},u("thick_p_3_3",{initialValue:p?p.thick_p_3_3:""})))}),Object(y.jsx)(s.a.Item,{children:Object(y.jsx)(A.a,Object(W.a)({type:"number",placeholder:"\u5b9e\u6d4b\u503c"},u("thick_p_3_4",{initialValue:p?p.thick_p_3_4:""})))})]}),Object(y.jsx)(_.a,{}),Object(y.jsxs)(s.a,{children:[Object(y.jsx)(s.a.Item,{children:Object(y.jsx)(A.a,Object(W.a)({type:"number",placeholder:"\u5b9e\u6d4b\u503c"},u("thick_p_3_5",{initialValue:p?p.thick_p_3_5:""})))}),Object(y.jsx)(s.a.Item,{children:Object(y.jsx)(A.a,Object(W.a)({type:"number",placeholder:"\u5b9e\u6d4b\u503c"},u("thick_p_3_6",{initialValue:p?p.thick_p_3_6:""})))}),Object(y.jsx)(s.a.Item,{children:Object(y.jsx)(A.a,Object(W.a)({type:"number",placeholder:"\u5b9e\u6d4b\u503c"},u("thick_p_3_7",{initialValue:p?p.thick_p_3_7:""})))}),Object(y.jsx)(s.a.Item,{})]}),Object(y.jsxs)(s.a,{children:[Object(y.jsxs)(s.a.Item,{children:[Object(y.jsx)("div",{className:"sub-title",children:"\u6263\u9664\uff08mm\uff09"}),Object(y.jsx)(A.a,Object(W.a)({type:"number",placeholder:"\u6263\u9664"},u("deduct_3",{initialValue:p?p.deduct_3:""})))]}),Object(y.jsxs)(s.a.Item,{children:[Object(y.jsx)("div",{className:"sub-title",children:"\u677f\u539a\u68c0\u6d4b\u503c\uff08mm\uff09"}),Object(y.jsx)(A.a,Object(W.a)({type:"number",placeholder:"\u5b9e\u6d4b\u503c"},u("thick_f_2",{initialValue:p?p.thick_f_2:""})))]})]}),Object(y.jsx)("div",{className:"sub-title",children:"\u652f\u5ea7"}),Object(y.jsxs)(s.a,{children:[Object(y.jsx)(s.a.Item,{children:Object(y.jsx)(A.a,Object(W.a)({placeholder:"\u8f74"},u("support_2",{initialValue:p?p.support_2:""})))}),Object(y.jsx)(s.a.Item,{}),Object(y.jsx)(s.a.Item,{})]}),Object(y.jsx)("div",{className:"sub-title",children:"\u94a2\u7b4b\u95f4\u8ddd\u68c0\u6d4b\u503c\uff08mm\uff09"}),Object(y.jsxs)(s.a,{children:[Object(y.jsx)(s.a.Item,{children:Object(y.jsx)(A.a,Object(W.a)({type:"number",placeholder:"\u5b9e\u6d4b\u503c"},u("space_bar_4_1",{initialValue:p?p.space_bar_4_1:""})))}),Object(y.jsx)(s.a.Item,{children:Object(y.jsx)(A.a,Object(W.a)({type:"number",placeholder:"\u5b9e\u6d4b\u503c"},u("space_bar_4_2",{initialValue:p?p.space_bar_4_2:""})))}),Object(y.jsx)(s.a.Item,{children:Object(y.jsx)(A.a,Object(W.a)({type:"number",placeholder:"\u5b9e\u6d4b\u503c"},u("space_bar_4_3",{initialValue:p?p.space_bar_4_3:""})))})]}),Object(y.jsx)(_.a,{}),Object(y.jsxs)(s.a,{children:[Object(y.jsx)(s.a.Item,{children:Object(y.jsx)(A.a,Object(W.a)({type:"number",placeholder:"\u5b9e\u6d4b\u503c"},u("space_bar_4_4",{initialValue:p?p.space_bar_4_4:""})))}),Object(y.jsx)(s.a.Item,{children:Object(y.jsx)(A.a,Object(W.a)({type:"number",placeholder:"\u5b9e\u6d4b\u503c"},u("space_bar_4_5",{initialValue:p?p.space_bar_4_5:""})))}),Object(y.jsx)(s.a.Item,{children:Object(y.jsx)(A.a,Object(W.a)({type:"number",placeholder:"\u5b9e\u6d4b\u503c"},u("space_bar_4_6",{initialValue:p?p.space_bar_4_6:""})))})]}),Object(y.jsx)("div",{className:"sub-title",children:"\u4fdd\u62a4\u5c42\u68c0\u6d4b\u503c\uff08mm\uff09"}),Object(y.jsxs)(s.a,{children:[Object(y.jsx)(s.a.Item,{children:Object(y.jsx)(A.a,Object(W.a)({type:"number",placeholder:"\u5b9e\u6d4b\u503c"},u("thick_p_4_1",{initialValue:p?p.thick_p_4_1:""})))}),Object(y.jsx)(s.a.Item,{children:Object(y.jsx)(A.a,Object(W.a)({type:"number",placeholder:"\u5b9e\u6d4b\u503c"},u("thick_p_4_2",{initialValue:p?p.thick_p_4_2:""})))}),Object(y.jsx)(s.a.Item,{children:Object(y.jsx)(A.a,Object(W.a)({type:"number",placeholder:"\u5b9e\u6d4b\u503c"},u("thick_p_4_3",{initialValue:p?p.thick_p_4_3:""})))}),Object(y.jsx)(s.a.Item,{children:Object(y.jsx)(A.a,Object(W.a)({type:"number",placeholder:"\u5b9e\u6d4b\u503c"},u("thick_p_4_4",{initialValue:p?p.thick_p_4_4:""})))})]}),Object(y.jsx)(_.a,{}),Object(y.jsxs)(s.a,{children:[Object(y.jsx)(s.a.Item,{children:Object(y.jsx)(A.a,Object(W.a)({type:"number",placeholder:"\u5b9e\u6d4b\u503c"},u("thick_p_4_5",{initialValue:p?p.thick_p_4_5:""})))}),Object(y.jsx)(s.a.Item,{children:Object(y.jsx)(A.a,Object(W.a)({type:"number",placeholder:"\u5b9e\u6d4b\u503c"},u("thick_p_4_6",{initialValue:p?p.thick_p_4_6:""})))}),Object(y.jsx)(s.a.Item,{children:Object(y.jsx)(A.a,Object(W.a)({type:"number",placeholder:"\u5b9e\u6d4b\u503c"},u("thick_p_4_7",{initialValue:p?p.thick_p_4_7:""})))}),Object(y.jsx)(s.a.Item,{})]}),Object(y.jsxs)(s.a,{children:[Object(y.jsxs)(s.a.Item,{children:[Object(y.jsx)("div",{className:"sub-title",children:"\u6263\u9664\uff08mm\uff09"}),Object(y.jsx)(A.a,Object(W.a)({type:"number",placeholder:"\u6263\u9664"},u("deduct_4",{initialValue:p?p.deduct_4:""})))]}),Object(y.jsxs)(s.a.Item,{children:[Object(y.jsx)("div",{className:"sub-title",children:"\u677f\u539a\u68c0\u6d4b\u503c\uff08mm\uff09"}),Object(y.jsx)(A.a,Object(W.a)({type:"number",placeholder:"\u5b9e\u6d4b\u503c"},u("thick_f_3",{initialValue:p?p.thick_f_3:""})))]})]})]})]})}),Object(y.jsx)(_.a,{}),Object(y.jsx)(l.a,{type:"primary",onClick:function(){t.validateFields({force:!0},(function(e){if(e)Q.a.fail("\u68c0\u6d4b\u90e8\u4f4d\u672a\u586b\u5199\uff01",2);else{var c=t.getFieldsValue();c.date=Object(X.a)(c.date,"yyyy-MM-dd"),c.projectId=i.id,c.templateId=r.id,p?M("floors",Object(W.a)({id:p.id},c)).then((function(){a.goBack()})):D("floors",c).then((function(){a.goBack()}))}}))},children:"\u4fdd\u5b58"})]})})),ue=(a(347),a(162)),Oe=a.n(ue),he=(a(349),a(163)),de=a.n(he),me=a(164),xe=a.n(me),fe=a(165),Ie=a.n(fe);function ye(){return(ye=Object(B.a)(F.a.mark((function e(t,a,c){return F.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",new Promise((function(e,n){Ie.a.getBinaryContent("./templates/".concat(c,".docx"),function(){var c=Object(B.a)(F.a.mark((function c(i,r){var s;return F.a.wrap((function(c){for(;;)switch(c.prev=c.next){case 0:return i&&n(i),c.next=3,xe()({template:r,data:t,cmdDelimiter:["{","}"]});case 3:s=c.sent,ve(s,a,"application/vnd.openxmlformats-officedocument.wordprocessingml.document"),e();case 6:case"end":return c.stop()}}),c)})));return function(e,t){return c.apply(this,arguments)}}())})));case 1:case"end":return e.stop()}}),e)})))).apply(this,arguments)}var ve=function(e,t,a){var c=new Blob([e],{type:a}),n=window.URL.createObjectURL(c);ke(n,t,a),setTimeout((function(){window.URL.revokeObjectURL(n)}),1e3)},ke=function(e,t){var a=document.createElement("a");a.href=e,a.download=t,document.body.appendChild(a),a.style="display: none",a.click(),a.remove()},Ve=V.a.Item,ge=d.a.alert;function we(e){var t,a=e.history,n=JSON.parse(sessionStorage.getItem("curProject")),i=JSON.parse(sessionStorage.getItem("curTemplate")),r=i.store,j=i.name,b=i.row,p=Object(c.useState)([]),o=Object(O.a)(p,2),u=o[0],h=o[1],d=Object(c.useState)(!1),m=Object(O.a)(d,2),x=m[0],f=m[1],I=(t="date",u.reduce((function(e,a){var c=a[t];return e[c]||(e[c]=[]),e[c].push(a),e}),{}));Object(c.useEffect)((function(){E(r,"projectId",n.id).then((function(e){var t=e.sort((function(e,t){return e.date<t.date?-1:0}));h(t)}))}),[n.id,r]);return Object(y.jsxs)(y.Fragment,{children:[Object.keys(I).map((function(e){return Object(y.jsx)(V.a,{renderHeader:function(){return e},children:I[e].map((function(e){return Object(y.jsx)(de.a,{autoClose:!0,right:[{text:"\u5220\u9664",onPress:function(){return t=e.id,void ge("","\u786e\u5b9a\u5220\u9664\u8be5\u8bb0\u5f55\uff1f",[{text:"\u53d6\u6d88"},{text:"\u786e\u5b9a",onPress:function(){R("columns",t).then((function(){var e=u.filter((function(e){return e.id!==t}));h(e)}))}}]);var t},style:{backgroundColor:"#F4333C",color:"white"}}],children:Object(y.jsx)(Ve,{arrow:"horizontal",onClick:function(){var t;t=e.id,a.push("/".concat(r,"/").concat(t))},children:e.position})},e.id)}))},e)})),Object(y.jsx)(_.a,{}),Object(y.jsxs)(s.a,{children:[Object(y.jsx)(s.a.Item,{children:Object(y.jsx)(l.a,{type:"primary",onClick:function(){a.push("/".concat(r))},children:"\u6dfb\u52a0\u8bb0\u5f55"})}),Object(y.jsx)(s.a.Item,{children:Object(y.jsx)(l.a,{type:"default",onClick:function(){if(u.length){f(!0);var e=n.name;(function(e,t,a){return ye.apply(this,arguments)})({projectName:e,pages:function(e,t){var a=[];for(var c in e)a=a.concat(ee(e[c],t,c));return a}(I,b)},"".concat(e,"-").concat(j),r).then((function(){f(!1)}))}else Q.a.fail("\u6ca1\u6709\u8981\u5bfc\u51fa\u7684\u8bb0\u5f55\uff01",2)},children:"\u5bfc\u51fa"})})]}),Object(y.jsx)(Oe.a,{toast:!0,text:"\u5bfc\u51fa\u4e2d...",animating:x})]})}var Ne=a(83);a(373);i.a.render(Object(y.jsx)(Ne.a,{children:Object(y.jsxs)(g.d,{children:[Object(y.jsx)(g.b,{path:"/",exact:!0,component:function(){var e=Object(c.useState)([]),t=Object(O.a)(e,2),a=t[0],n=t[1];return Object(c.useEffect)((function(){J("projects").then((function(e){n(e)}))}),[]),Object(y.jsxs)(v,{navBar:"\u9879\u76ee\u5217\u8868",children:[Object(y.jsx)(o.a,{accordion:!0,children:a.map((function(e){return Object(y.jsx)(o.a.Panel,{header:e.name,children:Object(y.jsx)(S,{project:e})},e.id)}))}),Object(y.jsx)(_.a,{}),Object(y.jsxs)(s.a,{children:[Object(y.jsx)(s.a.Item,{children:Object(y.jsx)(l.a,{type:"primary",onClick:function(){U(null,null,[{text:"\u53d6\u6d88"},{text:"\u786e\u5b9a",onPress:function(e){return e?D("projects",{name:e}).then((function(t){var c=[].concat(Object(u.a)(a),[{id:t,name:e}]);n(c)})):Promise.reject()}}],"default",null,["\u8bf7\u8f93\u5165\u9879\u76ee\u540d\u79f0"])},children:"\u521b\u5efa\u65b0\u9879\u76ee"})}),Object(y.jsx)(s.a.Item,{children:Object(y.jsx)(l.a,{type:"warning",onClick:function(){U(null,null,[{text:"\u53d6\u6d88"},{text:"\u786e\u5b9a",onPress:function(e){return"\u786e\u5b9a"===e?L().then((function(){sessionStorage.clear(),J("projects").then((function(e){n(e)}))})):Promise.reject()}}],"default",null,["\u8f93\u5165\u201c\u786e\u5b9a\u201d\u786e\u8ba4\u5220\u9664"])},children:"\u5220\u9664\u6240\u6709\u6570\u636e"})})]})]})}}),Object(y.jsx)(g.b,{component:function(){var e=JSON.parse(sessionStorage.getItem("curProject")),t=JSON.parse(sessionStorage.getItem("curTemplate"));return e&&t?Object(y.jsx)(v,{navBar:e.name,header:t.name,children:Object(y.jsxs)(g.d,{children:[Object(y.jsx)(g.b,{path:"/records",component:we}),Object(y.jsx)(g.b,{path:"/columns",exact:!0,component:ae}),Object(y.jsx)(g.b,{path:"/columns/:id",component:ae}),Object(y.jsx)(g.b,{path:"/walls",exact:!0,component:ne}),Object(y.jsx)(g.b,{path:"/walls/:id",component:ne}),Object(y.jsx)(g.b,{path:"/beams",exact:!0,component:re}),Object(y.jsx)(g.b,{path:"/beams/:id",component:re}),Object(y.jsx)(g.b,{path:"/floors",exact:!0,component:oe}),Object(y.jsx)(g.b,{path:"/floors/:id",component:oe})]})}):Object(y.jsx)(g.a,{to:"/"})}})]})}),document.getElementById("root"))}},[[374,1,2]]]);
//# sourceMappingURL=main.0d8ad09a.chunk.js.map