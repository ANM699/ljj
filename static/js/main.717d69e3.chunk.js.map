{"version":3,"sources":["components/Container.js","components/TemplateList.js","utils/indexDB.js","containers/Home.js","utils/index.js","containers/Column.js","containers/Wall.js","containers/Beam.js","containers/Floor.js","utils/docx.js","containers/Records.js","index.js","containers/Main.js"],"names":["Container","children","navBar","header","mode","className","Item","templates","id","name","store","enable","row","withRouter","project","history","map","template","arrow","disabled","extra","onClick","sessionStorage","setItem","JSON","stringify","push","handleItemClick","db","initDB","a","Promise","resolve","reject","request","window","indexedDB","open","onupgradeneeded","event","target","result","objectStoreNames","contains","createObjectStore","keyPath","autoIncrement","createIndex","unique","onsuccess","onerror","console","error","insertData","data","transaction","objectStore","add","close","selectAllData","openCursor","cursor","item","value","continue","selectDataByIndex","indexName","params","range","IDBKeyRange","only","index","selectDataByKey","key","get","updateData","put","deleteData","delete","prompt","average","arr","length","reduce","accumulator","currentValue","parseInt","toFixed","fillArr","len","concat","Array","fill","chunk","i","records","slice","date","equip","createForm","form","match","parse","getItem","useState","record","setRecord","useEffect","then","res","getFieldProps","getFieldError","title","initialValue","Date","labelNumber","position","rules","required","message","placeholder","section_s_m_1","section_s_m_2","section_s_m_3","bar","type","space_m_1","space_m_2","space_m_3","space_m_4","space_m_5","space_m_6","space_non_m_1","space_non_m_2","space_non_m_3","space_non_m_4","space_non_m_5","space_non_m_6","space_d","validateFields","force","fail","formData","getFieldsValue","format","projectId","templateId","section_s_a","space","space_m","join","space_a","space_non","space_non_m","space_non_a","goBack","space_bar_h_1","space_bar_h_2","space_bar_h_3","space_bar_h_4","space_bar_h_5","space_bar_h_6","thick_p_h_1","thick_p_h_2","thick_p_h_3","thick_p_h_4","thick_p_h_5","thick_p_h_6","thick_p_h_7","space_bar_v_1","space_bar_v_2","space_bar_v_3","space_bar_v_4","space_bar_v_5","space_bar_v_6","thick_p_v_1","thick_p_v_2","thick_p_v_3","thick_p_v_4","thick_p_v_5","thick_p_v_6","thick_p_v_7","thick_w_1","thick_w_2","thick_w_3","thick_w","thick_w_a","bar_num","thick_p_1","thick_p_2","thick_p_3","thick_p","thick_p_a","tabs","floor","initialPage","tabBarBackgroundColor","parallel_1","space_bar_1_1","space_bar_1_2","space_bar_1_3","space_bar_1_4","space_bar_1_5","space_bar_1_6","thick_p_1_1","thick_p_1_2","thick_p_1_3","thick_p_1_4","thick_p_1_5","thick_p_1_6","thick_p_1_7","deduct_1","parallel_2","space_bar_2_1","space_bar_2_2","space_bar_2_3","space_bar_2_4","space_bar_2_5","space_bar_2_6","thick_p_2_1","thick_p_2_2","thick_p_2_3","thick_p_2_4","thick_p_2_5","thick_p_2_6","thick_p_2_7","deduct_2","thick_f_1","support_1","space_bar_3_1","space_bar_3_2","space_bar_3_3","space_bar_3_4","space_bar_3_5","space_bar_3_6","thick_p_3_1","thick_p_3_2","thick_p_3_3","thick_p_3_4","thick_p_3_5","thick_p_3_6","thick_p_3_7","deduct_3","thick_f_2","support_2","space_bar_4_1","space_bar_4_2","space_bar_4_3","space_bar_4_4","space_bar_4_5","space_bar_4_6","thick_p_4_1","thick_p_4_2","thick_p_4_3","thick_p_4_4","thick_p_4_5","thick_p_4_6","thick_p_4_7","deduct_4","thick_f_3","reportName","JSZipUtils","getBinaryContent","createReport","cmdDelimiter","report","saveDataToFile","fileName","mimeType","blob","Blob","url","URL","createObjectURL","downloadURL","setTimeout","revokeObjectURL","document","createElement","href","download","body","appendChild","style","click","remove","alert","Records","property","setRecords","animating","setAnimating","groupRecords","acc","obj","sort","b","Object","keys","renderHeader","autoClose","right","text","onPress","newRecords","filter","backgroundColor","color","projectName","genReport","pages","object","paging","toast","ReactDOM","render","path","exact","component","projects","setProjects","accordion","Panel","newProjects","Column","Wall","Beam","Floor","to","getElementById"],"mappings":"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","file":"static/js/main.717d69e3.chunk.js","sourcesContent":["import React from 'react';\nimport { WingBlank, WhiteSpace, NavBar } from 'antd-mobile';\n\nexport default function Container({ children, navBar, header }) {\n  return (\n    <>\n      <NavBar mode=\"dark\">{navBar}</NavBar>\n      {header ? <div className=\"title\">{header}</div> : null}\n      <WingBlank>\n        <WhiteSpace />\n        {children}\n      </WingBlank>\n    </>\n  );\n}\n","import React from \"react\";\nimport { List, WingBlank } from \"antd-mobile\";\nimport { withRouter } from \"react-router-dom\";\n\nconst Item = List.Item;\nconst templates = [\n  {\n    id: 1,\n    name: \"钢筋混凝土柱检测记录\",\n    store: \"columns\",\n    enable: true,\n    row: 4,\n  },\n  {\n    id: 2,\n    name: \"钢筋混凝土梁检测记录\",\n    store: \"beams\",\n    enable: true,\n    row: 4,\n  },\n  {\n    id: 3,\n    name: \"墙钢筋及厚度检测记录\",\n    store: \"walls\",\n    enable: true,\n    row: 4,\n  },\n  {\n    id: 4,\n    name: \"板钢筋及厚度检测记录\",\n    store: \"floors\",\n    enable: true,\n    row: 5, //每页导出记录个数\n  },\n];\n\nfunction TemplateList({ project, history }) {\n  const handleItemClick = (template) => {\n    if (template.enable) {\n      sessionStorage.setItem(\"curProject\", JSON.stringify(project));\n      sessionStorage.setItem(\"curTemplate\", JSON.stringify(template));\n      history.push(\"/records\");\n    }\n  };\n  return (\n    <WingBlank>\n      <List>\n        {templates.map((template) => (\n          <Item\n            arrow=\"horizontal\"\n            disabled={!template.enable}\n            key={template.id}\n            extra={template.enable ? \"\" : \"不可用\"}\n            onClick={() => {\n              handleItemClick(template);\n            }}\n          >\n            {template.name}\n          </Item>\n        ))}\n      </List>\n    </WingBlank>\n  );\n}\n\nexport default withRouter(TemplateList);\n","let db = null;\n\nconst initDB = async () =>\n  await new Promise((resolve, reject) => {\n    const request = window.indexedDB.open('ljjDB', 2);\n    request.onupgradeneeded = function (event) {\n      const db = event.target.result;\n      let objectStore = null;\n      if (!db.objectStoreNames.contains('projects')) {\n        //项目表\n        db.createObjectStore('projects', {\n          keyPath: 'id',\n          autoIncrement: true,\n        });\n      }\n      if (!db.objectStoreNames.contains('columns')) {\n        //柱记录表\n        objectStore = db.createObjectStore('columns', {\n          keyPath: 'id',\n          autoIncrement: true,\n        });\n        objectStore.createIndex('projectId', 'projectId', { unique: false });\n      }\n      if (!db.objectStoreNames.contains('beams')) {\n        //梁记录表\n        objectStore = db.createObjectStore('beams', {\n          keyPath: 'id',\n          autoIncrement: true,\n        });\n        objectStore.createIndex('projectId', 'projectId', { unique: false });\n      }\n      if (!db.objectStoreNames.contains('walls')) {\n        //墙记录表\n        objectStore = db.createObjectStore('walls', {\n          keyPath: 'id',\n          autoIncrement: true,\n        });\n        objectStore.createIndex('projectId', 'projectId', { unique: false });\n      }\n      if (!db.objectStoreNames.contains('floors')) {\n        //板记录表\n        objectStore = db.createObjectStore('floors', {\n          keyPath: 'id',\n          autoIncrement: true,\n        });\n        objectStore.createIndex('projectId', 'projectId', { unique: false });\n      }\n    };\n    request.onsuccess = function (event) {\n      db = event.target.result;\n      resolve(db);\n    };\n    request.onerror = function () {\n      reject();\n      console.error('数据库初始化失败！');\n    };\n  });\n\nexport const insertData = async (store, data) => {\n  await initDB();\n  return await new Promise((resolve, reject) => {\n    const request = db\n      .transaction([store], 'readwrite')\n      .objectStore(store)\n      .add(data);\n    request.onsuccess = function (event) {\n      const id = event.target.result;\n      resolve(id);\n      db.close();\n      //   console.log(`${store}数据添加成功！`);\n    };\n    request.onerror = function () {\n      reject();\n      console.error(`${store}数据添加失败！`);\n    };\n  });\n};\n\n//查询所有数据\nexport const selectAllData = async (store) => {\n  await initDB();\n  return await new Promise((resolve, reject) => {\n    const data = [];\n    const request = db\n      .transaction(store, 'readonly')\n      .objectStore(store)\n      .openCursor();\n    request.onsuccess = function (event) {\n      const cursor = event.target.result;\n      if (cursor) {\n        const item = cursor.value;\n        data.push(item);\n        cursor.continue();\n      } else {\n        resolve(data);\n        db.close();\n      }\n    };\n    request.onerror = function () {\n      reject();\n      console.error(`${store}数据查询失败！`);\n    };\n  });\n};\n\n//根据索引条件查询数据\nexport const selectDataByIndex = async (store, indexName, params) => {\n  await initDB();\n  return await new Promise((resolve, reject) => {\n    const data = [];\n    const range = IDBKeyRange.only(params);\n    const request = db\n      .transaction(store, 'readonly')\n      .objectStore(store)\n      .index(indexName)\n      .openCursor(range);\n    request.onsuccess = function (event) {\n      const cursor = event.target.result;\n      if (cursor) {\n        const item = cursor.value;\n        data.push(item);\n        cursor.continue();\n      } else {\n        resolve(data);\n        db.close();\n      }\n    };\n    request.onerror = function () {\n      reject();\n      console.error(`${store}数据查询失败！`);\n    };\n  });\n};\n\n//根据key查询数据\nexport const selectDataByKey = async (store, key) => {\n  await initDB();\n  return await new Promise((resolve, reject) => {\n    const request = db.transaction(store).objectStore(store).get(key);\n    request.onsuccess = function (event) {\n      const data = event.target.result;\n      resolve(data);\n      db.close();\n    };\n    request.onerror = function () {\n      reject();\n      console.error(`${store}数据查询失败！`);\n    };\n  });\n};\n\n//更新数据\nexport const updateData = async (store, value) => {\n  await initDB();\n  return await new Promise((resolve, reject) => {\n    const request = db\n      .transaction(store, 'readwrite')\n      .objectStore(store)\n      .put(value);\n    request.onsuccess = function () {\n      resolve();\n      db.close();\n    };\n    request.onerror = function () {\n      reject();\n      console.error(`${store}数据更新失败！`);\n    };\n  });\n};\n\n//根据key删除数据\nexport const deleteData = async (store, key) => {\n  await initDB();\n  return await new Promise((resolve, reject) => {\n    const request = db\n      .transaction(store, 'readwrite')\n      .objectStore(store)\n      .delete(key);\n    request.onsuccess = function () {\n      resolve();\n      db.close();\n    };\n    request.onerror = function () {\n      reject();\n      console.error(`${store}数据删除失败！`);\n    };\n  });\n};\n","import React, { useState, useEffect } from \"react\";\nimport { WhiteSpace, Modal, Button, Accordion } from \"antd-mobile\";\nimport Container from \"../components/Container\";\nimport TemplateList from \"../components/TemplateList\";\nimport { insertData, selectAllData } from \"../utils/indexDB\";\n\nconst prompt = Modal.prompt;\n\nexport default function Home() {\n  const [projects, setProjects] = useState([]);\n\n  useEffect(() => {\n    selectAllData(\"projects\").then((res) => {\n      setProjects(res);\n    });\n  }, []);\n\n  const handleButtonClick = () => {\n    prompt(\n      \"项目名称\",\n      null,\n      [\n        {\n          text: \"取消\",\n        },\n        {\n          text: \"确定\",\n          onPress: (value) => {\n            if (value) {\n              return insertData(\"projects\", { name: value }).then((id) => {\n                const newProjects = [...projects, { id, name: value }];\n                setProjects(newProjects);\n              });\n            } else {\n              return Promise.reject();\n            }\n          },\n        },\n      ],\n      \"default\",\n      null,\n      [\"请输入项目名称\"]\n    );\n  };\n\n  return (\n    <Container navBar=\"项目列表\">\n      <Accordion accordion>\n        {projects.map((project) => (\n          <Accordion.Panel key={project.id} header={project.name}>\n            <TemplateList project={project} />\n          </Accordion.Panel>\n        ))}\n      </Accordion>\n      <WhiteSpace />\n      <Button type=\"primary\" onClick={handleButtonClick}>\n        创建新项目\n      </Button>\n    </Container>\n  );\n}\n","//计算数组平均值并保留一位小数\nexport const average = (arr) => {\n  const reducer = (accumulator, currentValue) =>\n    parseInt(accumulator) + parseInt(currentValue);\n  return arr.length ? (arr.reduce(reducer) / arr.length).toFixed(1) : '';\n};\n\n//用指定的值将数字补齐到指定的长度\nconst fillArr = (arr, len, value) => {\n  if (arr.length > len) return arr;\n  return arr.concat(new Array(len - arr.length).fill(value));\n};\n\n//将数组按照指定长度分组并补齐到指定长度，然后转换成对象加上日期,设备属性\nconst chunk = (arr, len, key) => {\n  const result = [];\n  for (let i = 0; i < arr.length; i += len) {\n    result.push({\n      records: fillArr(arr.slice(i, i + len), len, {}),\n      date: key,\n      equip: arr[i].equip,\n    });\n  }\n  return result;\n};\n\n//按属性对object分类\nexport const groupBy = (objectArray, property) => {\n  return objectArray.reduce(function (acc, obj) {\n    var key = obj[property];\n    if (!acc[key]) {\n      acc[key] = [];\n    }\n    acc[key].push(obj);\n    return acc;\n  }, {});\n};\n\n//分页\nexport const paging = (object, len) => {\n  let result = [];\n  for (const key in object) {\n    result = result.concat(chunk(object[key], len, key));\n  }\n  return result;\n};\n\n// //将记录数据处理成导出格式\n// export const handleRecords = (list, len) => {\n//   //先按日期分组\n//   const temp = groupBy(list, 'date');\n//   //按模板每页的记录条数分页\n//   return paging(temp, len);\n// };\n","import React, { useState, useEffect } from 'react';\nimport { format } from 'date-fns';\nimport { createForm } from 'rc-form';\nimport {\n  Button,\n  InputItem,\n  List,\n  DatePicker,\n  WhiteSpace,\n  Flex,\n  Toast,\n} from 'antd-mobile';\n\nimport { insertData, selectDataByKey, updateData } from '../utils/indexDB';\nimport { average } from '../utils/index';\n\nconst Item = List.Item;\n\nfunction Column({ form, history, match }) {\n  const project = JSON.parse(sessionStorage.getItem('curProject'));\n  const template = JSON.parse(sessionStorage.getItem('curTemplate'));\n\n  const [record, setRecord] = useState(null);\n\n  useEffect(() => {\n    const params = match.params;\n    if (params.id) {\n      //编辑\n      const id = params.id;\n      //查询记录\n      selectDataByKey('columns', parseInt(id)).then((res) => {\n        setRecord(res);\n      });\n    }\n  }, [match.params]);\n\n  const { getFieldProps, getFieldError } = form;\n\n  const handleClick = () => {\n    form.validateFields({ force: true }, (error) => {\n      if (!error) {\n        const formData = form.getFieldsValue();\n        formData.date = format(formData.date, 'yyyy-MM-dd');\n        formData.projectId = project.id;\n        formData.templateId = template.id;\n        formData.section_s_a = '';\n        //计算平均值\n\n        const space = [];\n        if (formData.space_m_1) space.push(formData.space_m_1);\n        if (formData.space_m_2) space.push(formData.space_m_2);\n        if (formData.space_m_3) space.push(formData.space_m_3);\n        if (formData.space_m_4) space.push(formData.space_m_4);\n        if (formData.space_m_5) space.push(formData.space_m_5);\n        if (formData.space_m_6) space.push(formData.space_m_6);\n        formData.space_m = space.length ? space.join(',') : '';\n        formData.space_a = average(space);\n\n        const space_non = [];\n        if (formData.space_non_m_1) space_non.push(formData.space_non_m_1);\n        if (formData.space_non_m_2) space_non.push(formData.space_non_m_2);\n        if (formData.space_non_m_3) space_non.push(formData.space_non_m_3);\n        if (formData.space_non_m_4) space_non.push(formData.space_non_m_4);\n        if (formData.space_non_m_5) space_non.push(formData.space_non_m_5);\n        if (formData.space_non_m_6) space_non.push(formData.space_non_m_6);\n        formData.space_non_m = space_non.length ? space_non.join(',') : '';\n        formData.space_non_a = average(space_non);\n        if (record) {\n          //编辑\n          updateData('columns', { id: record.id, ...formData }).then(() => {\n            // history.replace('/record');\n            history.goBack();\n          });\n        } else {\n          //新增\n          insertData('columns', formData).then(() => {\n            // history.replace('/record');\n            history.goBack();\n          });\n        }\n      } else {\n        Toast.fail('柱位置未填写！', 2);\n      }\n    });\n  };\n\n  return (\n    <>\n      <List>\n        <DatePicker\n          mode=\"date\"\n          title=\"选择日期\"\n          {...getFieldProps('date', {\n            initialValue: record ? new Date(record.date) : new Date(),\n          })}\n        >\n          <Item>检测时间</Item>\n        </DatePicker>\n        <InputItem\n          labelNumber={7}\n          {...getFieldProps('equip', {\n            initialValue: record ? record.equip : '',\n          })}\n        >\n          检测设备及名称\n        </InputItem>\n        <InputItem\n          extra=\"*\"\n          error={!!getFieldError('position')}\n          {...getFieldProps('position', {\n            initialValue: record ? record.position : '',\n            rules: [{ required: true, message: '必填' }],\n          })}\n        >\n          柱位置\n        </InputItem>\n      </List>\n      <div className=\"sub-title\">截面尺寸（mm）</div>\n      <Flex>\n        <Flex.Item>\n          <InputItem\n            placeholder=\"实测值\"\n            {...getFieldProps('section_s_m_1', {\n              initialValue: record ? record.section_s_m_1 : '',\n            })}\n          ></InputItem>\n        </Flex.Item>\n        <Flex.Item>\n          <InputItem\n            placeholder=\"实测值\"\n            {...getFieldProps('section_s_m_2', {\n              initialValue: record ? record.section_s_m_2 : '',\n            })}\n          ></InputItem>\n        </Flex.Item>\n        <Flex.Item>\n          <InputItem\n            placeholder=\"实测值\"\n            {...getFieldProps('section_s_m_3', {\n              initialValue: record ? record.section_s_m_3 : '',\n            })}\n          ></InputItem>\n        </Flex.Item>\n      </Flex>\n      <div className=\"sub-title\">柱纵筋实测分布（mm）</div>\n      <Flex>\n        <Flex.Item>\n          <InputItem\n            placeholder=\"柱纵筋实测分布\"\n            {...getFieldProps('bar', {\n              initialValue: record ? record.bar : '',\n            })}\n          ></InputItem>\n        </Flex.Item>\n        <Flex.Item />\n      </Flex>\n      <div className=\"sub-title\">加密区箍筋间距（mm）</div>\n      <Flex>\n        <Flex.Item>\n          <InputItem\n            type=\"number\"\n            placeholder=\"实测值\"\n            {...getFieldProps('space_m_1', {\n              initialValue: record ? record.space_m_1 : '',\n            })}\n          ></InputItem>\n        </Flex.Item>\n        <Flex.Item>\n          <InputItem\n            type=\"number\"\n            placeholder=\"实测值\"\n            {...getFieldProps('space_m_2', {\n              initialValue: record ? record.space_m_2 : '',\n            })}\n          ></InputItem>\n        </Flex.Item>\n        <Flex.Item>\n          <InputItem\n            type=\"number\"\n            placeholder=\"实测值\"\n            {...getFieldProps('space_m_3', {\n              initialValue: record ? record.space_m_3 : '',\n            })}\n          ></InputItem>\n        </Flex.Item>\n      </Flex>\n      <WhiteSpace />\n      <Flex>\n        <Flex.Item>\n          <InputItem\n            type=\"number\"\n            placeholder=\"实测值\"\n            {...getFieldProps('space_m_4', {\n              initialValue: record ? record.space_m_4 : '',\n            })}\n          ></InputItem>\n        </Flex.Item>\n        <Flex.Item>\n          <InputItem\n            type=\"number\"\n            placeholder=\"实测值\"\n            {...getFieldProps('space_m_5', {\n              initialValue: record ? record.space_m_5 : '',\n            })}\n          ></InputItem>\n        </Flex.Item>\n        <Flex.Item>\n          <InputItem\n            type=\"number\"\n            placeholder=\"实测值\"\n            {...getFieldProps('space_m_6', {\n              initialValue: record ? record.space_m_6 : '',\n            })}\n          ></InputItem>\n        </Flex.Item>\n      </Flex>\n      <div className=\"sub-title\">非加密区箍筋间距（mm）</div>\n      <Flex>\n        <Flex.Item>\n          <InputItem\n            type=\"number\"\n            placeholder=\"实测值\"\n            {...getFieldProps('space_non_m_1', {\n              initialValue: record ? record.space_non_m_1 : '',\n            })}\n          ></InputItem>\n        </Flex.Item>\n        <Flex.Item>\n          <InputItem\n            type=\"number\"\n            placeholder=\"实测值\"\n            {...getFieldProps('space_non_m_2', {\n              initialValue: record ? record.space_non_m_2 : '',\n            })}\n          ></InputItem>\n        </Flex.Item>\n        <Flex.Item>\n          <InputItem\n            type=\"number\"\n            placeholder=\"实测值\"\n            {...getFieldProps('space_non_m_3', {\n              initialValue: record ? record.space_non_m_3 : '',\n            })}\n          ></InputItem>\n        </Flex.Item>\n      </Flex>\n      <WhiteSpace />\n      <Flex>\n        <Flex.Item>\n          <InputItem\n            type=\"number\"\n            placeholder=\"实测值\"\n            {...getFieldProps('space_non_m_4', {\n              initialValue: record ? record.space_non_m_4 : '',\n            })}\n          ></InputItem>\n        </Flex.Item>\n        <Flex.Item>\n          <InputItem\n            type=\"number\"\n            placeholder=\"实测值\"\n            {...getFieldProps('space_non_m_5', {\n              initialValue: record ? record.space_non_m_5 : '',\n            })}\n          ></InputItem>\n        </Flex.Item>\n        <Flex.Item>\n          <InputItem\n            type=\"number\"\n            placeholder=\"实测值\"\n            {...getFieldProps('space_non_m_6', {\n              initialValue: record ? record.space_non_m_6 : '',\n            })}\n          ></InputItem>\n        </Flex.Item>\n      </Flex>\n      <Flex>\n        <Flex.Item>\n          <div className=\"sub-title\">设计箍筋间距（mm）</div>\n          <InputItem\n            type=\"number\"\n            placeholder=\"设计箍筋间距\"\n            {...getFieldProps('space_d', {\n              initialValue: record ? record.space_d : '',\n            })}\n          ></InputItem>\n        </Flex.Item>\n        <Flex.Item>\n          <div className=\"sub-title\">加密区长度（mm）</div>\n          <InputItem\n            type=\"number\"\n            placeholder=\"加密区长度\"\n            {...getFieldProps('length', {\n              initialValue: record ? record.length : '',\n            })}\n          ></InputItem>\n        </Flex.Item>\n      </Flex>\n      <WhiteSpace />\n      {/* <Button type=\"primary\" onClick={handleClick}>\n        导出\n      </Button> */}\n      <Button type=\"primary\" onClick={handleClick}>\n        保存\n      </Button>\n    </>\n  );\n}\n\nexport default createForm()(Column);\n","import React, { useState, useEffect } from 'react';\nimport { format } from 'date-fns';\nimport { createForm } from 'rc-form';\nimport {\n  Button,\n  InputItem,\n  List,\n  DatePicker,\n  WhiteSpace,\n  Flex,\n  Toast,\n} from 'antd-mobile';\n\nimport { insertData, selectDataByKey, updateData } from '../utils/indexDB';\nimport { average } from '../utils/index';\n\nconst Item = List.Item;\n\nfunction Wall({ form, history, match }) {\n  const project = JSON.parse(sessionStorage.getItem('curProject'));\n  const template = JSON.parse(sessionStorage.getItem('curTemplate'));\n\n  const [record, setRecord] = useState(null);\n\n  useEffect(() => {\n    const params = match.params;\n    if (params.id) {\n      //编辑\n      const id = params.id;\n      //查询记录\n      selectDataByKey('walls', parseInt(id)).then((res) => {\n        setRecord(res);\n      });\n    }\n  }, [match.params]);\n\n  const { getFieldProps, getFieldError } = form;\n\n  const handleClick = () => {\n    form.validateFields({ force: true }, (error) => {\n      if (!error) {\n        const formData = form.getFieldsValue();\n        formData.date = format(formData.date, 'yyyy-MM-dd');\n        formData.projectId = project.id;\n        formData.templateId = template.id;\n\n        //计算平均值\n        const thick_w = [];\n        if (formData.thick_w_1) thick_w.push(formData.thick_w_1);\n        if (formData.thick_w_2) thick_w.push(formData.thick_w_2);\n        if (formData.thick_w_3) thick_w.push(formData.thick_w_3);\n        formData.thick_w_a = average(thick_w);\n\n        if (record) {\n          //编辑\n          updateData('walls', { id: record.id, ...formData }).then(() => {\n            // history.replace('/record');\n            history.goBack();\n          });\n        } else {\n          //新增\n          insertData('walls', formData).then(() => {\n            // history.replace('/record');\n            history.goBack();\n          });\n        }\n      } else {\n        Toast.fail('检测部位未填写！', 2);\n      }\n    });\n  };\n\n  return (\n    <>\n      <List>\n        <DatePicker\n          mode=\"date\"\n          title=\"选择日期\"\n          {...getFieldProps('date', {\n            initialValue: record ? new Date(record.date) : new Date(),\n          })}\n        >\n          <Item>检测时间</Item>\n        </DatePicker>\n        <InputItem\n          labelNumber={7}\n          {...getFieldProps('equip', {\n            initialValue: record ? record.equip : '',\n          })}\n        >\n          检测设备及名称\n        </InputItem>\n        <InputItem\n          extra=\"*\"\n          error={!!getFieldError('position')}\n          {...getFieldProps('position', {\n            initialValue: record ? record.position : '',\n            rules: [{ required: true, message: '必填' }],\n          })}\n        >\n          检测部位\n        </InputItem>\n      </List>\n      <div className=\"sub-title\">实测钢筋间距（水平）（mm）</div>\n      <Flex>\n        <Flex.Item>\n          <InputItem\n            type=\"number\"\n            placeholder=\"水平\"\n            {...getFieldProps('space_bar_h_1', {\n              initialValue: record ? record.space_bar_h_1 : '',\n            })}\n          ></InputItem>\n        </Flex.Item>\n        <Flex.Item>\n          <InputItem\n            type=\"number\"\n            placeholder=\"水平\"\n            {...getFieldProps('space_bar_h_2', {\n              initialValue: record ? record.space_bar_h_2 : '',\n            })}\n          ></InputItem>\n        </Flex.Item>\n        <Flex.Item>\n          <InputItem\n            type=\"number\"\n            placeholder=\"水平\"\n            {...getFieldProps('space_bar_h_3', {\n              initialValue: record ? record.space_bar_h_3 : '',\n            })}\n          ></InputItem>\n        </Flex.Item>\n      </Flex>\n      <WhiteSpace />\n      <Flex>\n        <Flex.Item>\n          <InputItem\n            type=\"number\"\n            placeholder=\"水平\"\n            {...getFieldProps('space_bar_h_4', {\n              initialValue: record ? record.space_bar_h_4 : '',\n            })}\n          ></InputItem>\n        </Flex.Item>\n        <Flex.Item>\n          <InputItem\n            type=\"number\"\n            placeholder=\"水平\"\n            {...getFieldProps('space_bar_h_5', {\n              initialValue: record ? record.space_bar_h_5 : '',\n            })}\n          ></InputItem>\n        </Flex.Item>\n        <Flex.Item>\n          <InputItem\n            type=\"number\"\n            placeholder=\"水平\"\n            {...getFieldProps('space_bar_h_6', {\n              initialValue: record ? record.space_bar_h_6 : '',\n            })}\n          ></InputItem>\n        </Flex.Item>\n      </Flex>\n      <div className=\"sub-title\">保护层厚度检测值（水平）（mm）</div>\n      <Flex>\n        <Flex.Item>\n          <InputItem\n            type=\"number\"\n            placeholder=\"水平\"\n            {...getFieldProps('thick_p_h_1', {\n              initialValue: record ? record.thick_p_h_1 : '',\n            })}\n          ></InputItem>\n        </Flex.Item>\n        <Flex.Item>\n          <InputItem\n            type=\"number\"\n            placeholder=\"水平\"\n            {...getFieldProps('thick_p_h_2', {\n              initialValue: record ? record.thick_p_h_2 : '',\n            })}\n          ></InputItem>\n        </Flex.Item>\n        <Flex.Item>\n          <InputItem\n            type=\"number\"\n            placeholder=\"水平\"\n            {...getFieldProps('thick_p_h_3', {\n              initialValue: record ? record.thick_p_h_3 : '',\n            })}\n          ></InputItem>\n        </Flex.Item>\n        <Flex.Item>\n          <InputItem\n            type=\"number\"\n            placeholder=\"水平\"\n            {...getFieldProps('thick_p_h_4', {\n              initialValue: record ? record.thick_p_h_4 : '',\n            })}\n          ></InputItem>\n        </Flex.Item>\n      </Flex>\n      <WhiteSpace />\n      <Flex>\n        <Flex.Item>\n          <InputItem\n            type=\"number\"\n            placeholder=\"水平\"\n            {...getFieldProps('thick_p_h_5', {\n              initialValue: record ? record.thick_p_h_5 : '',\n            })}\n          ></InputItem>\n        </Flex.Item>\n        <Flex.Item>\n          <InputItem\n            type=\"number\"\n            placeholder=\"水平\"\n            {...getFieldProps('thick_p_h_6', {\n              initialValue: record ? record.thick_p_h_6 : '',\n            })}\n          ></InputItem>\n        </Flex.Item>\n        <Flex.Item>\n          <InputItem\n            type=\"number\"\n            placeholder=\"水平\"\n            {...getFieldProps('thick_p_h_7', {\n              initialValue: record ? record.thick_p_h_7 : '',\n            })}\n          ></InputItem>\n        </Flex.Item>\n        <Flex.Item></Flex.Item>\n      </Flex>\n      <div className=\"sub-title\">实测钢筋间距（竖向）（mm）</div>\n      <Flex>\n        <Flex.Item>\n          <InputItem\n            type=\"number\"\n            placeholder=\"竖向\"\n            {...getFieldProps('space_bar_v_1', {\n              initialValue: record ? record.space_bar_v_1 : '',\n            })}\n          ></InputItem>\n        </Flex.Item>\n        <Flex.Item>\n          <InputItem\n            type=\"number\"\n            placeholder=\"竖向\"\n            {...getFieldProps('space_bar_v_2', {\n              initialValue: record ? record.space_bar_v_2 : '',\n            })}\n          ></InputItem>\n        </Flex.Item>\n        <Flex.Item>\n          <InputItem\n            type=\"number\"\n            placeholder=\"竖向\"\n            {...getFieldProps('space_bar_v_3', {\n              initialValue: record ? record.space_bar_v_3 : '',\n            })}\n          ></InputItem>\n        </Flex.Item>\n      </Flex>\n      <WhiteSpace />\n      <Flex>\n        <Flex.Item>\n          <InputItem\n            type=\"number\"\n            placeholder=\"竖向\"\n            {...getFieldProps('space_bar_v_4', {\n              initialValue: record ? record.space_bar_v_4 : '',\n            })}\n          ></InputItem>\n        </Flex.Item>\n        <Flex.Item>\n          <InputItem\n            type=\"number\"\n            placeholder=\"竖向\"\n            {...getFieldProps('space_bar_v_5', {\n              initialValue: record ? record.space_bar_v_5 : '',\n            })}\n          ></InputItem>\n        </Flex.Item>\n        <Flex.Item>\n          <InputItem\n            type=\"number\"\n            placeholder=\"竖向\"\n            {...getFieldProps('space_bar_v_6', {\n              initialValue: record ? record.space_bar_v_6 : '',\n            })}\n          ></InputItem>\n        </Flex.Item>\n      </Flex>\n      <div className=\"sub-title\">保护层厚度检测值（竖向）（mm）</div>\n      <Flex>\n        <Flex.Item>\n          <InputItem\n            type=\"number\"\n            placeholder=\"竖向\"\n            {...getFieldProps('thick_p_v_1', {\n              initialValue: record ? record.thick_p_v_1 : '',\n            })}\n          ></InputItem>\n        </Flex.Item>\n        <Flex.Item>\n          <InputItem\n            type=\"number\"\n            placeholder=\"竖向\"\n            {...getFieldProps('thick_p_v_2', {\n              initialValue: record ? record.thick_p_v_2 : '',\n            })}\n          ></InputItem>\n        </Flex.Item>\n        <Flex.Item>\n          <InputItem\n            type=\"number\"\n            placeholder=\"竖向\"\n            {...getFieldProps('thick_p_v_3', {\n              initialValue: record ? record.thick_p_v_3 : '',\n            })}\n          ></InputItem>\n        </Flex.Item>\n        <Flex.Item>\n          <InputItem\n            type=\"number\"\n            placeholder=\"竖向\"\n            {...getFieldProps('thick_p_v_4', {\n              initialValue: record ? record.thick_p_v_4 : '',\n            })}\n          ></InputItem>\n        </Flex.Item>\n      </Flex>\n      <WhiteSpace />\n      <Flex>\n        <Flex.Item>\n          <InputItem\n            type=\"number\"\n            placeholder=\"竖向\"\n            {...getFieldProps('thick_p_v_5', {\n              initialValue: record ? record.thick_p_v_5 : '',\n            })}\n          ></InputItem>\n        </Flex.Item>\n        <Flex.Item>\n          <InputItem\n            type=\"number\"\n            placeholder=\"竖向\"\n            {...getFieldProps('thick_p_v_6', {\n              initialValue: record ? record.thick_p_v_6 : '',\n            })}\n          ></InputItem>\n        </Flex.Item>\n        <Flex.Item>\n          <InputItem\n            type=\"number\"\n            placeholder=\"竖向\"\n            {...getFieldProps('thick_p_v_7', {\n              initialValue: record ? record.thick_p_v_7 : '',\n            })}\n          ></InputItem>\n        </Flex.Item>\n        <Flex.Item></Flex.Item>\n      </Flex>\n      <div className=\"sub-title\">墙厚检测值（mm）</div>\n      <Flex>\n        <Flex.Item>\n          <InputItem\n            type=\"number\"\n            placeholder=\"实测值\"\n            {...getFieldProps('thick_w_1', {\n              initialValue: record ? record.thick_w_1 : '',\n            })}\n          ></InputItem>\n        </Flex.Item>\n        <Flex.Item>\n          <InputItem\n            type=\"number\"\n            placeholder=\"实测值\"\n            {...getFieldProps('thick_w_2', {\n              initialValue: record ? record.thick_w_2 : '',\n            })}\n          ></InputItem>\n        </Flex.Item>\n        <Flex.Item>\n          <InputItem\n            type=\"number\"\n            placeholder=\"实测值\"\n            {...getFieldProps('thick_w_3', {\n              initialValue: record ? record.thick_w_3 : '',\n            })}\n          ></InputItem>\n        </Flex.Item>\n      </Flex>\n      <WhiteSpace />\n      <Button type=\"primary\" onClick={handleClick}>\n        保存\n      </Button>\n    </>\n  );\n}\n\nexport default createForm()(Wall);\n","import React, { useState, useEffect } from 'react';\nimport { format } from 'date-fns';\nimport { createForm } from 'rc-form';\nimport {\n  Button,\n  InputItem,\n  List,\n  DatePicker,\n  WhiteSpace,\n  Flex,\n  Toast,\n} from 'antd-mobile';\n\nimport { insertData, selectDataByKey, updateData } from '../utils/indexDB';\nimport { average } from '../utils/index';\n\nconst Item = List.Item;\n\nfunction Beam({ form, history, match }) {\n  const project = JSON.parse(sessionStorage.getItem('curProject'));\n  const template = JSON.parse(sessionStorage.getItem('curTemplate'));\n\n  const [record, setRecord] = useState(null);\n\n  useEffect(() => {\n    const params = match.params;\n    if (params.id) {\n      //编辑\n      const id = params.id;\n      //查询记录\n      selectDataByKey('beams', parseInt(id)).then((res) => {\n        setRecord(res);\n      });\n    }\n  }, [match.params]);\n\n  const { getFieldProps, getFieldError } = form;\n\n  const handleClick = () => {\n    form.validateFields({ force: true }, (error) => {\n      if (!error) {\n        const formData = form.getFieldsValue();\n        formData.date = format(formData.date, 'yyyy-MM-dd');\n        formData.projectId = project.id;\n        formData.templateId = template.id;\n        formData.section_s_a = '';\n\n        //计算平均值\n        const thick_p = [];\n        if (formData.thick_p_1) thick_p.push(formData.thick_p_1);\n        if (formData.thick_p_2) thick_p.push(formData.thick_p_2);\n        if (formData.thick_p_3) thick_p.push(formData.thick_p_3);\n        formData.thick_p_a = average(thick_p);\n\n        const space = [];\n        if (formData.space_m_1) space.push(formData.space_m_1);\n        if (formData.space_m_2) space.push(formData.space_m_2);\n        if (formData.space_m_3) space.push(formData.space_m_3);\n        if (formData.space_m_4) space.push(formData.space_m_4);\n        if (formData.space_m_5) space.push(formData.space_m_5);\n        if (formData.space_m_6) space.push(formData.space_m_6);\n        formData.space_m = space.length ? space.join(',') : '';\n        formData.space_a = average(space);\n\n        const space_non = [];\n        if (formData.space_non_m_1) space_non.push(formData.space_non_m_1);\n        if (formData.space_non_m_2) space_non.push(formData.space_non_m_2);\n        if (formData.space_non_m_3) space_non.push(formData.space_non_m_3);\n        if (formData.space_non_m_4) space_non.push(formData.space_non_m_4);\n        if (formData.space_non_m_5) space_non.push(formData.space_non_m_5);\n        if (formData.space_non_m_6) space_non.push(formData.space_non_m_6);\n        formData.space_non_m = space_non.length ? space_non.join(',') : '';\n        formData.space_non_a = average(space_non);\n        if (record) {\n          //编辑\n          updateData('beams', { id: record.id, ...formData }).then(() => {\n            // history.replace('/record');\n            history.goBack();\n          });\n        } else {\n          //新增\n          insertData('beams', formData).then(() => {\n            // history.replace('/record');\n            history.goBack();\n          });\n        }\n      } else {\n        Toast.fail('梁位置未填写！', 2);\n      }\n    });\n  };\n\n  return (\n    <>\n      <List>\n        <DatePicker\n          mode=\"date\"\n          title=\"选择日期\"\n          {...getFieldProps('date', {\n            initialValue: record ? new Date(record.date) : new Date(),\n          })}\n        >\n          <Item>检测时间</Item>\n        </DatePicker>\n        <InputItem\n          labelNumber={7}\n          {...getFieldProps('equip', {\n            initialValue: record ? record.equip : '',\n          })}\n        >\n          检测设备及名称\n        </InputItem>\n        <InputItem\n          extra=\"*\"\n          error={!!getFieldError('position')}\n          {...getFieldProps('position', {\n            initialValue: record ? record.position : '',\n            rules: [{ required: true, message: '必填' }],\n          })}\n        >\n          梁位置\n        </InputItem>\n      </List>\n      <div className=\"sub-title\">截面尺寸（mm）</div>\n      <Flex>\n        <Flex.Item>\n          <InputItem\n            placeholder=\"实测值\"\n            {...getFieldProps('section_s_m_1', {\n              initialValue: record ? record.section_s_m_1 : '',\n            })}\n          ></InputItem>\n        </Flex.Item>\n        <Flex.Item>\n          <InputItem\n            placeholder=\"实测值\"\n            {...getFieldProps('section_s_m_2', {\n              initialValue: record ? record.section_s_m_2 : '',\n            })}\n          ></InputItem>\n        </Flex.Item>\n        <Flex.Item>\n          <InputItem\n            placeholder=\"实测值\"\n            {...getFieldProps('section_s_m_3', {\n              initialValue: record ? record.section_s_m_3 : '',\n            })}\n          ></InputItem>\n        </Flex.Item>\n      </Flex>\n      <div className=\"sub-title\">梁底底排纵筋实测根数</div>\n      <Flex>\n        <Flex.Item>\n          <InputItem\n            type=\"number\"\n            placeholder=\"实测根数\"\n            {...getFieldProps('bar_num', {\n              initialValue: record ? record.bar_num : '',\n            })}\n          ></InputItem>\n        </Flex.Item>\n        <Flex.Item />\n      </Flex>\n      <div className=\"sub-title\">梁底底排钢筋砼保护层厚度实测值（mm）</div>\n      <Flex>\n        <Flex.Item>\n          <InputItem\n            type=\"number\"\n            placeholder=\"测点1\"\n            {...getFieldProps('thick_p_1', {\n              initialValue: record ? record.thick_p_1 : '',\n            })}\n          ></InputItem>\n        </Flex.Item>\n        <Flex.Item>\n          <InputItem\n            type=\"number\"\n            placeholder=\"测点2\"\n            {...getFieldProps('thick_p_2', {\n              initialValue: record ? record.thick_p_2 : '',\n            })}\n          ></InputItem>\n        </Flex.Item>\n        <Flex.Item>\n          <InputItem\n            type=\"number\"\n            placeholder=\"测点3\"\n            {...getFieldProps('thick_p_3', {\n              initialValue: record ? record.thick_p_3 : '',\n            })}\n          ></InputItem>\n        </Flex.Item>\n      </Flex>\n      <div className=\"sub-title\">加密区箍筋间距（mm）</div>\n      <Flex>\n        <Flex.Item>\n          <InputItem\n            type=\"number\"\n            placeholder=\"实测值\"\n            {...getFieldProps('space_m_1', {\n              initialValue: record ? record.space_m_1 : '',\n            })}\n          ></InputItem>\n        </Flex.Item>\n        <Flex.Item>\n          <InputItem\n            type=\"number\"\n            placeholder=\"实测值\"\n            {...getFieldProps('space_m_2', {\n              initialValue: record ? record.space_m_2 : '',\n            })}\n          ></InputItem>\n        </Flex.Item>\n        <Flex.Item>\n          <InputItem\n            type=\"number\"\n            placeholder=\"实测值\"\n            {...getFieldProps('space_m_3', {\n              initialValue: record ? record.space_m_3 : '',\n            })}\n          ></InputItem>\n        </Flex.Item>\n      </Flex>\n      <WhiteSpace />\n      <Flex>\n        <Flex.Item>\n          <InputItem\n            type=\"number\"\n            placeholder=\"实测值\"\n            {...getFieldProps('space_m_4', {\n              initialValue: record ? record.space_m_4 : '',\n            })}\n          ></InputItem>\n        </Flex.Item>\n        <Flex.Item>\n          <InputItem\n            type=\"number\"\n            placeholder=\"实测值\"\n            {...getFieldProps('space_m_5', {\n              initialValue: record ? record.space_m_5 : '',\n            })}\n          ></InputItem>\n        </Flex.Item>\n        <Flex.Item>\n          <InputItem\n            type=\"number\"\n            placeholder=\"实测值\"\n            {...getFieldProps('space_m_6', {\n              initialValue: record ? record.space_m_6 : '',\n            })}\n          ></InputItem>\n        </Flex.Item>\n      </Flex>\n      <div className=\"sub-title\">非加密区箍筋间距（mm）</div>\n      <Flex>\n        <Flex.Item>\n          <InputItem\n            type=\"number\"\n            placeholder=\"实测值\"\n            {...getFieldProps('space_non_m_1', {\n              initialValue: record ? record.space_non_m_1 : '',\n            })}\n          ></InputItem>\n        </Flex.Item>\n        <Flex.Item>\n          <InputItem\n            type=\"number\"\n            placeholder=\"实测值\"\n            {...getFieldProps('space_non_m_2', {\n              initialValue: record ? record.space_non_m_2 : '',\n            })}\n          ></InputItem>\n        </Flex.Item>\n        <Flex.Item>\n          <InputItem\n            type=\"number\"\n            placeholder=\"实测值\"\n            {...getFieldProps('space_non_m_3', {\n              initialValue: record ? record.space_non_m_3 : '',\n            })}\n          ></InputItem>\n        </Flex.Item>\n      </Flex>\n      <WhiteSpace />\n      <Flex>\n        <Flex.Item>\n          <InputItem\n            type=\"number\"\n            placeholder=\"实测值\"\n            {...getFieldProps('space_non_m_4', {\n              initialValue: record ? record.space_non_m_4 : '',\n            })}\n          ></InputItem>\n        </Flex.Item>\n        <Flex.Item>\n          <InputItem\n            type=\"number\"\n            placeholder=\"实测值\"\n            {...getFieldProps('space_non_m_5', {\n              initialValue: record ? record.space_non_m_5 : '',\n            })}\n          ></InputItem>\n        </Flex.Item>\n        <Flex.Item>\n          <InputItem\n            type=\"number\"\n            placeholder=\"实测值\"\n            {...getFieldProps('space_non_m_6', {\n              initialValue: record ? record.space_non_m_6 : '',\n            })}\n          ></InputItem>\n        </Flex.Item>\n      </Flex>\n      <Flex>\n        <Flex.Item>\n          <div className=\"sub-title\">设计箍筋间距（mm）</div>\n          <InputItem\n            type=\"number\"\n            placeholder=\"设计箍筋间距\"\n            {...getFieldProps('space_d', {\n              initialValue: record ? record.space_d : '',\n            })}\n          ></InputItem>\n        </Flex.Item>\n        <Flex.Item></Flex.Item>\n      </Flex>\n      <WhiteSpace />\n      <Button type=\"primary\" onClick={handleClick}>\n        保存\n      </Button>\n    </>\n  );\n}\n\nexport default createForm()(Beam);\n","import React, { useState, useEffect } from \"react\";\nimport { format } from \"date-fns\";\nimport { createForm } from \"rc-form\";\nimport {\n  Button,\n  InputItem,\n  List,\n  DatePicker,\n  WhiteSpace,\n  Flex,\n  Toast,\n  Tabs,\n} from \"antd-mobile\";\n\nimport { insertData, selectDataByKey, updateData } from \"../utils/indexDB\";\n\nconst Item = List.Item;\n\nconst tabs = [{ title: \"板底\" }, { title: \"板面\" }];\n\nfunction Floor({ form, history, match }) {\n  const project = JSON.parse(sessionStorage.getItem(\"curProject\"));\n  const template = JSON.parse(sessionStorage.getItem(\"curTemplate\"));\n\n  const [record, setRecord] = useState(null);\n\n  useEffect(() => {\n    const params = match.params;\n    if (params.id) {\n      //编辑\n      const id = params.id;\n      //查询记录\n      selectDataByKey(\"floors\", parseInt(id)).then((res) => {\n        setRecord(res);\n      });\n    }\n  }, [match.params]);\n\n  const { getFieldProps, getFieldError } = form;\n\n  const handleClick = () => {\n    form.validateFields({ force: true }, (error) => {\n      if (!error) {\n        const formData = form.getFieldsValue();\n        formData.date = format(formData.date, \"yyyy-MM-dd\");\n        formData.projectId = project.id;\n        formData.templateId = template.id;\n\n        if (record) {\n          //编辑\n          updateData(\"floors\", { id: record.id, ...formData }).then(() => {\n            history.goBack();\n          });\n        } else {\n          //新增\n          insertData(\"floors\", formData).then(() => {\n            history.goBack();\n          });\n        }\n      } else {\n        Toast.fail(\"检测部位未填写！\", 2);\n      }\n    });\n  };\n\n  return (\n    <>\n      <List>\n        <DatePicker\n          mode=\"date\"\n          title=\"选择日期\"\n          {...getFieldProps(\"date\", {\n            initialValue: record ? new Date(record.date) : new Date(),\n          })}\n        >\n          <Item>检测时间</Item>\n        </DatePicker>\n        <InputItem\n          labelNumber={7}\n          {...getFieldProps(\"equip\", {\n            initialValue: record ? record.equip : \"\",\n          })}\n        >\n          检测设备及名称\n        </InputItem>\n        <InputItem\n          {...getFieldProps(\"floor\", {\n            initialValue: record ? record.floor : \"\",\n          })}\n        >\n          层\n        </InputItem>\n        <InputItem\n          extra=\"*\"\n          error={!!getFieldError(\"position\")}\n          {...getFieldProps(\"position\", {\n            initialValue: record ? record.position : \"\",\n            rules: [{ required: true, message: \"必填\" }],\n          })}\n        >\n          检测部位\n        </InputItem>\n      </List>\n      <WhiteSpace />\n      <Tabs tabs={tabs} initialPage={0} tabBarBackgroundColor=\"transparent\">\n        {/* tab0 */}\n        <div>\n          <div className=\"sub-title\">平行轴</div>\n          <Flex>\n            <Flex.Item>\n              <InputItem\n                placeholder=\"轴\"\n                {...getFieldProps(\"parallel_1\", {\n                  initialValue: record ? record.parallel_1 : \"\",\n                })}\n              ></InputItem>\n            </Flex.Item>\n            <Flex.Item />\n            <Flex.Item />\n          </Flex>\n          <div className=\"sub-title\">钢筋间距检测值（mm）</div>\n          <Flex>\n            <Flex.Item>\n              <InputItem\n                type=\"number\"\n                placeholder=\"实测值\"\n                {...getFieldProps(\"space_bar_1_1\", {\n                  initialValue: record ? record.space_bar_1_1 : \"\",\n                })}\n              ></InputItem>\n            </Flex.Item>\n            <Flex.Item>\n              <InputItem\n                type=\"number\"\n                placeholder=\"实测值\"\n                {...getFieldProps(\"space_bar_1_2\", {\n                  initialValue: record ? record.space_bar_1_2 : \"\",\n                })}\n              ></InputItem>\n            </Flex.Item>\n            <Flex.Item>\n              <InputItem\n                type=\"number\"\n                placeholder=\"实测值\"\n                {...getFieldProps(\"space_bar_1_3\", {\n                  initialValue: record ? record.space_bar_1_3 : \"\",\n                })}\n              ></InputItem>\n            </Flex.Item>\n          </Flex>\n          <WhiteSpace />\n          <Flex>\n            <Flex.Item>\n              <InputItem\n                type=\"number\"\n                placeholder=\"实测值\"\n                {...getFieldProps(\"space_bar_1_4\", {\n                  initialValue: record ? record.space_bar_1_4 : \"\",\n                })}\n              ></InputItem>\n            </Flex.Item>\n            <Flex.Item>\n              <InputItem\n                type=\"number\"\n                placeholder=\"实测值\"\n                {...getFieldProps(\"space_bar_1_5\", {\n                  initialValue: record ? record.space_bar_1_5 : \"\",\n                })}\n              ></InputItem>\n            </Flex.Item>\n            <Flex.Item>\n              <InputItem\n                type=\"number\"\n                placeholder=\"实测值\"\n                {...getFieldProps(\"space_bar_1_6\", {\n                  initialValue: record ? record.space_bar_1_6 : \"\",\n                })}\n              ></InputItem>\n            </Flex.Item>\n          </Flex>\n          <div className=\"sub-title\">保护层检测值（mm）</div>\n          <Flex>\n            <Flex.Item>\n              <InputItem\n                type=\"number\"\n                placeholder=\"实测值\"\n                {...getFieldProps(\"thick_p_1_1\", {\n                  initialValue: record ? record.thick_p_1_1 : \"\",\n                })}\n              ></InputItem>\n            </Flex.Item>\n            <Flex.Item>\n              <InputItem\n                type=\"number\"\n                placeholder=\"实测值\"\n                {...getFieldProps(\"thick_p_1_2\", {\n                  initialValue: record ? record.thick_p_1_2 : \"\",\n                })}\n              ></InputItem>\n            </Flex.Item>\n            <Flex.Item>\n              <InputItem\n                type=\"number\"\n                placeholder=\"实测值\"\n                {...getFieldProps(\"thick_p_1_3\", {\n                  initialValue: record ? record.thick_p_1_3 : \"\",\n                })}\n              ></InputItem>\n            </Flex.Item>\n            <Flex.Item>\n              <InputItem\n                type=\"number\"\n                placeholder=\"实测值\"\n                {...getFieldProps(\"thick_p_1_4\", {\n                  initialValue: record ? record.thick_p_1_4 : \"\",\n                })}\n              ></InputItem>\n            </Flex.Item>\n          </Flex>\n          <WhiteSpace />\n          <Flex>\n            <Flex.Item>\n              <InputItem\n                type=\"number\"\n                placeholder=\"实测值\"\n                {...getFieldProps(\"thick_p_1_5\", {\n                  initialValue: record ? record.thick_p_1_5 : \"\",\n                })}\n              ></InputItem>\n            </Flex.Item>\n            <Flex.Item>\n              <InputItem\n                type=\"number\"\n                placeholder=\"实测值\"\n                {...getFieldProps(\"thick_p_1_6\", {\n                  initialValue: record ? record.thick_p_1_6 : \"\",\n                })}\n              ></InputItem>\n            </Flex.Item>\n            <Flex.Item>\n              <InputItem\n                type=\"number\"\n                placeholder=\"实测值\"\n                {...getFieldProps(\"thick_p_1_7\", {\n                  initialValue: record ? record.thick_p_1_7 : \"\",\n                })}\n              ></InputItem>\n            </Flex.Item>\n            <Flex.Item></Flex.Item>\n          </Flex>\n          <div className=\"sub-title\">扣除（mm）</div>\n          <Flex>\n            <Flex.Item>\n              <InputItem\n                type=\"number\"\n                placeholder=\"扣除\"\n                {...getFieldProps(\"deduct_1\", {\n                  initialValue: record ? record.deduct_1 : \"\",\n                })}\n              ></InputItem>\n            </Flex.Item>\n            <Flex.Item />\n          </Flex>\n          <div className=\"sub-title\">平行轴</div>\n          <Flex>\n            <Flex.Item>\n              <InputItem\n                placeholder=\"轴\"\n                {...getFieldProps(\"parallel_2\", {\n                  initialValue: record ? record.parallel_2 : \"\",\n                })}\n              ></InputItem>\n            </Flex.Item>\n            <Flex.Item />\n            <Flex.Item />\n          </Flex>\n          <div className=\"sub-title\">钢筋间距检测值（mm）</div>\n          <Flex>\n            <Flex.Item>\n              <InputItem\n                type=\"number\"\n                placeholder=\"实测值\"\n                {...getFieldProps(\"space_bar_2_1\", {\n                  initialValue: record ? record.space_bar_2_1 : \"\",\n                })}\n              ></InputItem>\n            </Flex.Item>\n            <Flex.Item>\n              <InputItem\n                type=\"number\"\n                placeholder=\"实测值\"\n                {...getFieldProps(\"space_bar_2_2\", {\n                  initialValue: record ? record.space_bar_2_2 : \"\",\n                })}\n              ></InputItem>\n            </Flex.Item>\n            <Flex.Item>\n              <InputItem\n                type=\"number\"\n                placeholder=\"实测值\"\n                {...getFieldProps(\"space_bar_2_3\", {\n                  initialValue: record ? record.space_bar_2_3 : \"\",\n                })}\n              ></InputItem>\n            </Flex.Item>\n          </Flex>\n          <WhiteSpace />\n          <Flex>\n            <Flex.Item>\n              <InputItem\n                type=\"number\"\n                placeholder=\"实测值\"\n                {...getFieldProps(\"space_bar_2_4\", {\n                  initialValue: record ? record.space_bar_2_4 : \"\",\n                })}\n              ></InputItem>\n            </Flex.Item>\n            <Flex.Item>\n              <InputItem\n                type=\"number\"\n                placeholder=\"实测值\"\n                {...getFieldProps(\"space_bar_2_5\", {\n                  initialValue: record ? record.space_bar_2_5 : \"\",\n                })}\n              ></InputItem>\n            </Flex.Item>\n            <Flex.Item>\n              <InputItem\n                type=\"number\"\n                placeholder=\"实测值\"\n                {...getFieldProps(\"space_bar_2_6\", {\n                  initialValue: record ? record.space_bar_2_6 : \"\",\n                })}\n              ></InputItem>\n            </Flex.Item>\n          </Flex>\n          <div className=\"sub-title\">保护层检测值（mm）</div>\n          <Flex>\n            <Flex.Item>\n              <InputItem\n                type=\"number\"\n                placeholder=\"实测值\"\n                {...getFieldProps(\"thick_p_2_1\", {\n                  initialValue: record ? record.thick_p_2_1 : \"\",\n                })}\n              ></InputItem>\n            </Flex.Item>\n            <Flex.Item>\n              <InputItem\n                type=\"number\"\n                placeholder=\"实测值\"\n                {...getFieldProps(\"thick_p_2_2\", {\n                  initialValue: record ? record.thick_p_2_2 : \"\",\n                })}\n              ></InputItem>\n            </Flex.Item>\n            <Flex.Item>\n              <InputItem\n                type=\"number\"\n                placeholder=\"实测值\"\n                {...getFieldProps(\"thick_p_2_3\", {\n                  initialValue: record ? record.thick_p_2_3 : \"\",\n                })}\n              ></InputItem>\n            </Flex.Item>\n            <Flex.Item>\n              <InputItem\n                type=\"number\"\n                placeholder=\"实测值\"\n                {...getFieldProps(\"thick_p_2_4\", {\n                  initialValue: record ? record.thick_p_2_4 : \"\",\n                })}\n              ></InputItem>\n            </Flex.Item>\n          </Flex>\n          <WhiteSpace />\n          <Flex>\n            <Flex.Item>\n              <InputItem\n                type=\"number\"\n                placeholder=\"实测值\"\n                {...getFieldProps(\"thick_p_2_5\", {\n                  initialValue: record ? record.thick_p_2_5 : \"\",\n                })}\n              ></InputItem>\n            </Flex.Item>\n            <Flex.Item>\n              <InputItem\n                type=\"number\"\n                placeholder=\"实测值\"\n                {...getFieldProps(\"thick_p_2_6\", {\n                  initialValue: record ? record.thick_p_2_6 : \"\",\n                })}\n              ></InputItem>\n            </Flex.Item>\n            <Flex.Item>\n              <InputItem\n                type=\"number\"\n                placeholder=\"实测值\"\n                {...getFieldProps(\"thick_p_2_7\", {\n                  initialValue: record ? record.thick_p_2_7 : \"\",\n                })}\n              ></InputItem>\n            </Flex.Item>\n            <Flex.Item></Flex.Item>\n          </Flex>\n          <div className=\"sub-title\">扣除（mm）</div>\n          <Flex>\n            <Flex.Item>\n              <InputItem\n                type=\"number\"\n                placeholder=\"扣除\"\n                {...getFieldProps(\"deduct_2\", {\n                  initialValue: record ? record.deduct_2 : \"\",\n                })}\n              ></InputItem>\n            </Flex.Item>\n            <Flex.Item />\n          </Flex>\n          <div className=\"sub-title\">板厚检测值（mm）</div>\n          <Flex>\n            <Flex.Item>\n              <InputItem\n                type=\"number\"\n                placeholder=\"实测值\"\n                {...getFieldProps(\"thick_f_1\", {\n                  initialValue: record ? record.thick_f_1 : \"\",\n                })}\n              ></InputItem>\n            </Flex.Item>\n            <Flex.Item />\n          </Flex>\n        </div>\n        {/* tab1 */}\n        <div>\n          <div className=\"sub-title\">支座</div>\n          <Flex>\n            <Flex.Item>\n              <InputItem\n                placeholder=\"轴\"\n                {...getFieldProps(\"support_1\", {\n                  initialValue: record ? record.support_1 : \"\",\n                })}\n              ></InputItem>\n            </Flex.Item>\n            <Flex.Item />\n            <Flex.Item />\n          </Flex>\n          <div className=\"sub-title\">钢筋间距检测值（mm）</div>\n          <Flex>\n            <Flex.Item>\n              <InputItem\n                type=\"number\"\n                placeholder=\"实测值\"\n                {...getFieldProps(\"space_bar_3_1\", {\n                  initialValue: record ? record.space_bar_3_1 : \"\",\n                })}\n              ></InputItem>\n            </Flex.Item>\n            <Flex.Item>\n              <InputItem\n                type=\"number\"\n                placeholder=\"实测值\"\n                {...getFieldProps(\"space_bar_3_2\", {\n                  initialValue: record ? record.space_bar_3_2 : \"\",\n                })}\n              ></InputItem>\n            </Flex.Item>\n            <Flex.Item>\n              <InputItem\n                type=\"number\"\n                placeholder=\"实测值\"\n                {...getFieldProps(\"space_bar_3_3\", {\n                  initialValue: record ? record.space_bar_3_3 : \"\",\n                })}\n              ></InputItem>\n            </Flex.Item>\n          </Flex>\n          <WhiteSpace />\n          <Flex>\n            <Flex.Item>\n              <InputItem\n                type=\"number\"\n                placeholder=\"实测值\"\n                {...getFieldProps(\"space_bar_3_4\", {\n                  initialValue: record ? record.space_bar_3_4 : \"\",\n                })}\n              ></InputItem>\n            </Flex.Item>\n            <Flex.Item>\n              <InputItem\n                type=\"number\"\n                placeholder=\"实测值\"\n                {...getFieldProps(\"space_bar_3_5\", {\n                  initialValue: record ? record.space_bar_3_5 : \"\",\n                })}\n              ></InputItem>\n            </Flex.Item>\n            <Flex.Item>\n              <InputItem\n                type=\"number\"\n                placeholder=\"实测值\"\n                {...getFieldProps(\"space_bar_3_6\", {\n                  initialValue: record ? record.space_bar_3_6 : \"\",\n                })}\n              ></InputItem>\n            </Flex.Item>\n          </Flex>\n          <div className=\"sub-title\">保护层检测值（mm）</div>\n          <Flex>\n            <Flex.Item>\n              <InputItem\n                type=\"number\"\n                placeholder=\"实测值\"\n                {...getFieldProps(\"thick_p_3_1\", {\n                  initialValue: record ? record.thick_p_3_1 : \"\",\n                })}\n              ></InputItem>\n            </Flex.Item>\n            <Flex.Item>\n              <InputItem\n                type=\"number\"\n                placeholder=\"实测值\"\n                {...getFieldProps(\"thick_p_3_2\", {\n                  initialValue: record ? record.thick_p_3_2 : \"\",\n                })}\n              ></InputItem>\n            </Flex.Item>\n            <Flex.Item>\n              <InputItem\n                type=\"number\"\n                placeholder=\"实测值\"\n                {...getFieldProps(\"thick_p_3_3\", {\n                  initialValue: record ? record.thick_p_3_3 : \"\",\n                })}\n              ></InputItem>\n            </Flex.Item>\n            <Flex.Item>\n              <InputItem\n                type=\"number\"\n                placeholder=\"实测值\"\n                {...getFieldProps(\"thick_p_3_4\", {\n                  initialValue: record ? record.thick_p_3_4 : \"\",\n                })}\n              ></InputItem>\n            </Flex.Item>\n          </Flex>\n          <WhiteSpace />\n          <Flex>\n            <Flex.Item>\n              <InputItem\n                type=\"number\"\n                placeholder=\"实测值\"\n                {...getFieldProps(\"thick_p_3_5\", {\n                  initialValue: record ? record.thick_p_3_5 : \"\",\n                })}\n              ></InputItem>\n            </Flex.Item>\n            <Flex.Item>\n              <InputItem\n                type=\"number\"\n                placeholder=\"实测值\"\n                {...getFieldProps(\"thick_p_3_6\", {\n                  initialValue: record ? record.thick_p_3_6 : \"\",\n                })}\n              ></InputItem>\n            </Flex.Item>\n            <Flex.Item>\n              <InputItem\n                type=\"number\"\n                placeholder=\"实测值\"\n                {...getFieldProps(\"thick_p_3_7\", {\n                  initialValue: record ? record.thick_p_3_7 : \"\",\n                })}\n              ></InputItem>\n            </Flex.Item>\n            <Flex.Item></Flex.Item>\n          </Flex>\n          <Flex>\n            <Flex.Item>\n              <div className=\"sub-title\">扣除（mm）</div>\n              <InputItem\n                type=\"number\"\n                placeholder=\"扣除\"\n                {...getFieldProps(\"deduct_3\", {\n                  initialValue: record ? record.deduct_3 : \"\",\n                })}\n              ></InputItem>\n            </Flex.Item>\n            <Flex.Item>\n              <div className=\"sub-title\">板厚检测值（mm）</div>\n              <InputItem\n                type=\"number\"\n                placeholder=\"实测值\"\n                {...getFieldProps(\"thick_f_2\", {\n                  initialValue: record ? record.thick_f_2 : \"\",\n                })}\n              ></InputItem>\n            </Flex.Item>\n          </Flex>\n          <div className=\"sub-title\">支座</div>\n          <Flex>\n            <Flex.Item>\n              <InputItem\n                placeholder=\"轴\"\n                {...getFieldProps(\"support_2\", {\n                  initialValue: record ? record.support_2 : \"\",\n                })}\n              ></InputItem>\n            </Flex.Item>\n            <Flex.Item />\n            <Flex.Item />\n          </Flex>\n          <div className=\"sub-title\">钢筋间距检测值（mm）</div>\n          <Flex>\n            <Flex.Item>\n              <InputItem\n                type=\"number\"\n                placeholder=\"实测值\"\n                {...getFieldProps(\"space_bar_4_1\", {\n                  initialValue: record ? record.space_bar_4_1 : \"\",\n                })}\n              ></InputItem>\n            </Flex.Item>\n            <Flex.Item>\n              <InputItem\n                type=\"number\"\n                placeholder=\"实测值\"\n                {...getFieldProps(\"space_bar_4_2\", {\n                  initialValue: record ? record.space_bar_4_2 : \"\",\n                })}\n              ></InputItem>\n            </Flex.Item>\n            <Flex.Item>\n              <InputItem\n                type=\"number\"\n                placeholder=\"实测值\"\n                {...getFieldProps(\"space_bar_4_3\", {\n                  initialValue: record ? record.space_bar_4_3 : \"\",\n                })}\n              ></InputItem>\n            </Flex.Item>\n          </Flex>\n          <WhiteSpace />\n          <Flex>\n            <Flex.Item>\n              <InputItem\n                type=\"number\"\n                placeholder=\"实测值\"\n                {...getFieldProps(\"space_bar_4_4\", {\n                  initialValue: record ? record.space_bar_4_4 : \"\",\n                })}\n              ></InputItem>\n            </Flex.Item>\n            <Flex.Item>\n              <InputItem\n                type=\"number\"\n                placeholder=\"实测值\"\n                {...getFieldProps(\"space_bar_4_5\", {\n                  initialValue: record ? record.space_bar_4_5 : \"\",\n                })}\n              ></InputItem>\n            </Flex.Item>\n            <Flex.Item>\n              <InputItem\n                type=\"number\"\n                placeholder=\"实测值\"\n                {...getFieldProps(\"space_bar_4_6\", {\n                  initialValue: record ? record.space_bar_4_6 : \"\",\n                })}\n              ></InputItem>\n            </Flex.Item>\n          </Flex>\n          <div className=\"sub-title\">保护层检测值（mm）</div>\n          <Flex>\n            <Flex.Item>\n              <InputItem\n                type=\"number\"\n                placeholder=\"实测值\"\n                {...getFieldProps(\"thick_p_4_1\", {\n                  initialValue: record ? record.thick_p_4_1 : \"\",\n                })}\n              ></InputItem>\n            </Flex.Item>\n            <Flex.Item>\n              <InputItem\n                type=\"number\"\n                placeholder=\"实测值\"\n                {...getFieldProps(\"thick_p_4_2\", {\n                  initialValue: record ? record.thick_p_4_2 : \"\",\n                })}\n              ></InputItem>\n            </Flex.Item>\n            <Flex.Item>\n              <InputItem\n                type=\"number\"\n                placeholder=\"实测值\"\n                {...getFieldProps(\"thick_p_4_3\", {\n                  initialValue: record ? record.thick_p_4_3 : \"\",\n                })}\n              ></InputItem>\n            </Flex.Item>\n            <Flex.Item>\n              <InputItem\n                type=\"number\"\n                placeholder=\"实测值\"\n                {...getFieldProps(\"thick_p_4_4\", {\n                  initialValue: record ? record.thick_p_4_4 : \"\",\n                })}\n              ></InputItem>\n            </Flex.Item>\n          </Flex>\n          <WhiteSpace />\n          <Flex>\n            <Flex.Item>\n              <InputItem\n                type=\"number\"\n                placeholder=\"实测值\"\n                {...getFieldProps(\"thick_p_4_5\", {\n                  initialValue: record ? record.thick_p_4_5 : \"\",\n                })}\n              ></InputItem>\n            </Flex.Item>\n            <Flex.Item>\n              <InputItem\n                type=\"number\"\n                placeholder=\"实测值\"\n                {...getFieldProps(\"thick_p_4_6\", {\n                  initialValue: record ? record.thick_p_4_6 : \"\",\n                })}\n              ></InputItem>\n            </Flex.Item>\n            <Flex.Item>\n              <InputItem\n                type=\"number\"\n                placeholder=\"实测值\"\n                {...getFieldProps(\"thick_p_4_7\", {\n                  initialValue: record ? record.thick_p_4_7 : \"\",\n                })}\n              ></InputItem>\n            </Flex.Item>\n            <Flex.Item></Flex.Item>\n          </Flex>\n\n          <Flex>\n            <Flex.Item>\n              <div className=\"sub-title\">扣除（mm）</div>\n              <InputItem\n                type=\"number\"\n                placeholder=\"扣除\"\n                {...getFieldProps(\"deduct_4\", {\n                  initialValue: record ? record.deduct_4 : \"\",\n                })}\n              ></InputItem>\n            </Flex.Item>\n            <Flex.Item>\n              <div className=\"sub-title\">板厚检测值（mm）</div>\n              <InputItem\n                type=\"number\"\n                placeholder=\"实测值\"\n                {...getFieldProps(\"thick_f_3\", {\n                  initialValue: record ? record.thick_f_3 : \"\",\n                })}\n              ></InputItem>\n            </Flex.Item>\n          </Flex>\n        </div>\n      </Tabs>\n      <WhiteSpace />\n      <Button type=\"primary\" onClick={handleClick}>\n        保存\n      </Button>\n    </>\n  );\n}\n\nexport default createForm()(Floor);\n","import createReport from 'docx-templates';\nimport JSZipUtils from 'jszip-utils';\n\nexport async function genReport(data, reportName, store) {\n  //上传模版\n  // const template = await readFileIntoArrayBuffer(file);\n  // const report = await createReport({\n  //   template,\n  //   data: {\n  //     name: \"John\",\n  //     surname: \"Appleseed\",\n  //   },\n  //   cmdDelimiter: [\"{\", \"}\"],\n  // });\n  // saveDataToFile(\n  //   report,\n  //   \"report.docx\",\n  //   \"application/vnd.openxmlformats-officedocument.wordprocessingml.document\"\n  // );\n  return new Promise((resolve, reject) => {\n    JSZipUtils.getBinaryContent(\n      `./templates/${store}.docx`,\n      // \"./templates/template.docx\",\n      // \"./templates/myTemplate.docx\",\n      async (error, template) => {\n        if (error) reject(error);\n        const report = await createReport({\n          template,\n          // data: {\n          //   columns: [{}, {}],\n          // },\n          data,\n          cmdDelimiter: ['{', '}'],\n        });\n        // Save report\n        saveDataToFile(\n          report,\n          reportName,\n          'application/vnd.openxmlformats-officedocument.wordprocessingml.document'\n        );\n        resolve();\n      }\n    );\n  });\n}\n\n// ==============================================\n// Helpers\n// ==============================================\nconst readFileIntoArrayBuffer = async (fd) =>\n  new Promise((resolve, reject) => {\n    const reader = new FileReader();\n    reader.onerror = reject;\n    reader.onload = () => {\n      resolve(reader.result);\n    };\n    reader.readAsArrayBuffer(fd);\n  });\n\nconst saveDataToFile = (data, fileName, mimeType) => {\n  const blob = new Blob([data], { type: mimeType });\n  const url = window.URL.createObjectURL(blob);\n  downloadURL(url, fileName, mimeType);\n  setTimeout(() => {\n    window.URL.revokeObjectURL(url);\n  }, 1000);\n};\n\nconst downloadURL = (data, fileName) => {\n  const a = document.createElement('a');\n  a.href = data;\n  a.download = fileName;\n  document.body.appendChild(a);\n  a.style = 'display: none';\n  a.click();\n  a.remove();\n};\n","import React, { useState, useEffect } from 'react';\nimport {\n  List,\n  Button,\n  WhiteSpace,\n  Flex,\n  Toast,\n  ActivityIndicator,\n  SwipeAction,\n  Modal,\n} from 'antd-mobile';\nimport { selectDataByIndex, deleteData } from '../utils/indexDB';\nimport { genReport } from '../utils/docx';\nimport { groupBy, paging } from '../utils/index';\n\nconst Item = List.Item;\nconst alert = Modal.alert;\n\nexport default function Records({ history }) {\n  const project = JSON.parse(sessionStorage.getItem('curProject'));\n  const { store, name, row } = JSON.parse(\n    sessionStorage.getItem('curTemplate')\n  );\n  const [records, setRecords] = useState([]);\n  const [animating, setAnimating] = useState(false);\n  const groupRecords = groupBy(records, 'date');\n  useEffect(() => {\n    selectDataByIndex(store, 'projectId', project.id).then((res) => {\n      const records = res.sort((a, b) => (a.date < b.date ? -1 : 0));\n      setRecords(records);\n    });\n  }, [project.id, store]);\n\n  const handleAddClick = () => {\n    history.push(`/${store}`);\n  };\n\n  const handleEditClick = (id) => {\n    history.push(`/${store}/${id}`);\n  };\n\n  const handleDeleteClick = (id) => {\n    alert('', '确定删除该记录？', [\n      { text: '取消' },\n      {\n        text: '确定',\n        onPress: () => {\n          deleteData('columns', id).then(() => {\n            const newRecords = records.filter((record) => record.id !== id);\n            setRecords(newRecords);\n          });\n        },\n      },\n    ]);\n  };\n\n  const handleExportClick = () => {\n    if (records.length) {\n      setAnimating(true);\n      const projectName = project.name;\n      const pages = paging(groupRecords, row);\n      const data = {\n        projectName,\n        pages,\n      };\n      const reportName = `${projectName}-${name}`;\n      genReport(data, reportName, store).then(() => {\n        setAnimating(false);\n      });\n    } else {\n      Toast.fail('没有要导出的记录！', 2);\n    }\n  };\n  return (\n    <>\n      {Object.keys(groupRecords).map((date) => (\n        <List key={date} renderHeader={() => date}>\n          {groupRecords[date].map((record) => (\n            <SwipeAction\n              key={record.id}\n              autoClose\n              right={[\n                {\n                  text: '删除',\n                  onPress: () => handleDeleteClick(record.id),\n                  style: { backgroundColor: '#F4333C', color: 'white' },\n                },\n              ]}\n            >\n              <Item\n                arrow=\"horizontal\"\n                onClick={() => {\n                  handleEditClick(record.id);\n                }}\n              >\n                {record.position}\n              </Item>\n            </SwipeAction>\n          ))}\n        </List>\n      ))}\n\n      {/* <List>\n        {records.map((record) => (\n          <SwipeAction\n            key={record.id}\n            autoClose\n            right={[\n              {\n                text: '删除',\n                onPress: () => handleDeleteClick(record.id),\n                style: { backgroundColor: '#F4333C', color: 'white' },\n              },\n            ]}\n          >\n            <Item\n              extra={record.date}\n              onClick={() => {\n                handleEditClick(record.id);\n              }}\n            >\n              {record.position}\n            </Item>\n          </SwipeAction>\n        ))}\n      </List> */}\n\n      <WhiteSpace />\n      <Flex>\n        <Flex.Item>\n          <Button type=\"primary\" onClick={handleAddClick}>\n            添加记录\n          </Button>\n        </Flex.Item>\n        <Flex.Item>\n          <Button type=\"default\" onClick={handleExportClick}>\n            导出\n          </Button>\n        </Flex.Item>\n      </Flex>\n      <ActivityIndicator toast text=\"导出中...\" animating={animating} />\n    </>\n  );\n}\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport Home from './containers/Home';\nimport Main from './containers/Main';\nimport { HashRouter, Switch, Route } from 'react-router-dom';\nimport './index.css';\n\nReactDOM.render(\n  <HashRouter>\n    <Switch>\n      <Route path=\"/\" exact={true} component={Home} />\n      <Route component={Main} />\n    </Switch>\n  </HashRouter>,\n  document.getElementById('root')\n);\n","import React from 'react';\nimport { Redirect, Switch, Route } from 'react-router-dom';\nimport Container from '../components/Container';\nimport Column from './Column';\nimport Wall from './Wall';\nimport Beam from './Beam';\nimport Floor from './Floor';\nimport Records from './Records';\n\nexport default function Main() {\n  const project = JSON.parse(sessionStorage.getItem('curProject'));\n  const template = JSON.parse(sessionStorage.getItem('curTemplate'));\n  if (!(project && template)) {\n    return <Redirect to=\"/\" />;\n  }\n  return (\n    <Container navBar={project.name} header={template.name}>\n      <Switch>\n        <Route path=\"/records\" component={Records} />\n        <Route path=\"/columns\" exact={true} component={Column} />\n        <Route path=\"/columns/:id\" component={Column} />\n        <Route path=\"/walls\" exact={true} component={Wall} />\n        <Route path=\"/walls/:id\" component={Wall} />\n        <Route path=\"/beams\" exact={true} component={Beam} />\n        <Route path=\"/beams/:id\" component={Beam} />\n        <Route path=\"/floors\" exact={true} component={Floor} />\n        <Route path=\"/floors/:id\" component={Floor} />\n      </Switch>\n    </Container>\n  );\n}\n"],"sourceRoot":""}