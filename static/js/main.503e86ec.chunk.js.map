{"version":3,"sources":["components/Container.js","components/TemplateList.js","utils/indexDB.js","containers/Home.js","utils/index.js","containers/Column.js","containers/Wall.js","containers/Beam.js","containers/Floor.js","utils/docx.js","containers/Records.js","index.js","containers/Main.js"],"names":["Container","children","navBar","header","mode","className","Item","templates","id","name","store","enable","withRouter","project","history","map","template","arrow","disabled","extra","onClick","sessionStorage","setItem","JSON","stringify","push","handleItemClick","db","initDB","a","Promise","resolve","reject","request","window","indexedDB","open","onupgradeneeded","event","target","result","objectStoreNames","contains","createObjectStore","keyPath","autoIncrement","createIndex","unique","onsuccess","onerror","console","error","insertData","data","transaction","objectStore","add","close","selectAllData","openCursor","cursor","item","value","continue","selectDataByIndex","indexName","params","range","IDBKeyRange","only","index","selectDataByKey","key","get","updateData","put","deleteData","delete","prompt","average","arr","length","reduce","accumulator","currentValue","parseInt","toFixed","fillArr","len","concat","Array","fill","chunk","i","records","slice","date","equip","createForm","form","match","parse","getItem","useState","record","setRecord","useEffect","then","res","getFieldProps","getFieldError","title","initialValue","Date","labelNumber","position","rules","required","message","placeholder","section_s_m_1","section_s_m_2","section_s_m_3","bar","type","space_m_1","space_m_2","space_m_3","space_m_4","space_m_5","space_m_6","space_non_m_1","space_non_m_2","space_non_m_3","space_non_m_4","space_non_m_5","space_non_m_6","space_d","validateFields","force","fail","formData","getFieldsValue","format","projectId","templateId","section_s_a","space","space_m","join","space_a","space_non","space_non_m","space_non_a","goBack","space_bar_h_1","space_bar_h_2","space_bar_h_3","space_bar_h_4","space_bar_h_5","space_bar_h_6","thick_p_h_1","thick_p_h_2","thick_p_h_3","thick_p_h_4","thick_p_h_5","thick_p_h_6","thick_p_h_7","space_bar_v_1","space_bar_v_2","space_bar_v_3","space_bar_v_4","space_bar_v_5","space_bar_v_6","thick_p_v_1","thick_p_v_2","thick_p_v_3","thick_p_v_4","thick_p_v_5","thick_p_v_6","thick_p_v_7","thick_w_1","thick_w_2","thick_w_3","thick_w","thick_w_a","bar_num","thick_p_1","thick_p_2","thick_p_3","thick_p","thick_p_a","tabs","initialPage","tabBarBackgroundColor","parallel_1","space_bar_1_1","space_bar_1_2","space_bar_1_3","space_bar_1_4","space_bar_1_5","space_bar_1_6","thick_p_1_1","thick_p_1_2","thick_p_1_3","thick_p_1_4","thick_p_1_5","thick_p_1_6","thick_p_1_7","deduct_1","parallel_2","space_bar_2_1","space_bar_2_2","space_bar_2_3","space_bar_2_4","space_bar_2_5","space_bar_2_6","thick_p_2_1","thick_p_2_2","thick_p_2_3","thick_p_2_4","thick_p_2_5","thick_p_2_6","thick_p_2_7","thick_f_1","support_1","space_bar_3_1","space_bar_3_2","space_bar_3_3","space_bar_3_4","space_bar_3_5","space_bar_3_6","thick_p_3_1","thick_p_3_2","thick_p_3_3","thick_p_3_4","thick_p_3_5","thick_p_3_6","thick_p_3_7","thick_f_2","support_2","thick_f_3","reportName","JSZipUtils","getBinaryContent","createReport","cmdDelimiter","report","saveDataToFile","fileName","mimeType","blob","Blob","url","URL","createObjectURL","downloadURL","setTimeout","revokeObjectURL","document","createElement","href","download","body","appendChild","style","click","remove","alert","Records","property","setRecords","animating","setAnimating","groupRecords","acc","obj","sort","b","Object","keys","renderHeader","autoClose","right","text","onPress","newRecords","filter","backgroundColor","color","projectName","genReport","pages","object","paging","toast","ReactDOM","render","path","exact","component","projects","setProjects","accordion","openAnimation","Panel","newProjects","Column","Wall","Beam","Floor","to","getElementById"],"mappings":"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","file":"static/js/main.503e86ec.chunk.js","sourcesContent":["import React from 'react';\r\nimport { WingBlank, WhiteSpace, NavBar } from 'antd-mobile';\r\n\r\nexport default function Container({ children, navBar, header }) {\r\n  return (\r\n    <>\r\n      <NavBar mode=\"dark\">{navBar}</NavBar>\r\n      {header ? <div className=\"title\">{header}</div> : null}\r\n      <WingBlank>\r\n        <WhiteSpace />\r\n        {children}\r\n      </WingBlank>\r\n    </>\r\n  );\r\n}\r\n","import React from 'react';\r\nimport { List, WingBlank } from 'antd-mobile';\r\nimport { withRouter } from 'react-router-dom';\r\n\r\nconst Item = List.Item;\r\nconst templates = [\r\n  {\r\n    id: 1,\r\n    name: '钢筋混凝土柱检测记录',\r\n    store: 'columns',\r\n    enable: true,\r\n  },\r\n  {\r\n    id: 2,\r\n    name: '钢筋混凝土梁检测记录',\r\n    store: 'beams',\r\n    enable: true,\r\n  },\r\n  {\r\n    id: 3,\r\n    name: '墙钢筋及厚度检测记录',\r\n    store: 'walls',\r\n    enable: true,\r\n  },\r\n  {\r\n    id: 4,\r\n    name: '板钢筋及厚度检测记录',\r\n    store: 'floors',\r\n    enable: false,\r\n  },\r\n];\r\n\r\nfunction TemplateList({ project, history }) {\r\n  const handleItemClick = (template) => {\r\n    if (template.enable) {\r\n      sessionStorage.setItem('curProject', JSON.stringify(project));\r\n      sessionStorage.setItem('curTemplate', JSON.stringify(template));\r\n      history.push('/records');\r\n    }\r\n  };\r\n  return (\r\n    <WingBlank>\r\n      <List>\r\n        {templates.map((template) => (\r\n          <Item\r\n            arrow=\"horizontal\"\r\n            disabled={!template.enable}\r\n            key={template.id}\r\n            extra={template.enable ? '' : '不可用'}\r\n            onClick={() => {\r\n              handleItemClick(template);\r\n            }}\r\n          >\r\n            {template.name}\r\n          </Item>\r\n        ))}\r\n      </List>\r\n    </WingBlank>\r\n  );\r\n}\r\n\r\nexport default withRouter(TemplateList);\r\n","let db = null;\r\n\r\nconst initDB = async () =>\r\n  await new Promise((resolve, reject) => {\r\n    const request = window.indexedDB.open('ljjDB', 2);\r\n    request.onupgradeneeded = function (event) {\r\n      const db = event.target.result;\r\n      let objectStore = null;\r\n      if (!db.objectStoreNames.contains('projects')) {\r\n        //项目表\r\n        db.createObjectStore('projects', {\r\n          keyPath: 'id',\r\n          autoIncrement: true,\r\n        });\r\n      }\r\n      if (!db.objectStoreNames.contains('columns')) {\r\n        //柱记录表\r\n        objectStore = db.createObjectStore('columns', {\r\n          keyPath: 'id',\r\n          autoIncrement: true,\r\n        });\r\n        objectStore.createIndex('projectId', 'projectId', { unique: false });\r\n      }\r\n      if (!db.objectStoreNames.contains('beams')) {\r\n        //梁记录表\r\n        objectStore = db.createObjectStore('beams', {\r\n          keyPath: 'id',\r\n          autoIncrement: true,\r\n        });\r\n        objectStore.createIndex('projectId', 'projectId', { unique: false });\r\n      }\r\n      if (!db.objectStoreNames.contains('walls')) {\r\n        //墙记录表\r\n        objectStore = db.createObjectStore('walls', {\r\n          keyPath: 'id',\r\n          autoIncrement: true,\r\n        });\r\n        objectStore.createIndex('projectId', 'projectId', { unique: false });\r\n      }\r\n      if (!db.objectStoreNames.contains('floors')) {\r\n        //板记录表\r\n        objectStore = db.createObjectStore('floors', {\r\n          keyPath: 'id',\r\n          autoIncrement: true,\r\n        });\r\n        objectStore.createIndex('projectId', 'projectId', { unique: false });\r\n      }\r\n    };\r\n    request.onsuccess = function (event) {\r\n      db = event.target.result;\r\n      resolve(db);\r\n    };\r\n    request.onerror = function () {\r\n      reject();\r\n      console.error('数据库初始化失败！');\r\n    };\r\n  });\r\n\r\nexport const insertData = async (store, data) => {\r\n  await initDB();\r\n  return await new Promise((resolve, reject) => {\r\n    const request = db\r\n      .transaction([store], 'readwrite')\r\n      .objectStore(store)\r\n      .add(data);\r\n    request.onsuccess = function (event) {\r\n      const id = event.target.result;\r\n      resolve(id);\r\n      db.close();\r\n      //   console.log(`${store}数据添加成功！`);\r\n    };\r\n    request.onerror = function () {\r\n      reject();\r\n      console.error(`${store}数据添加失败！`);\r\n    };\r\n  });\r\n};\r\n\r\n//查询所有数据\r\nexport const selectAllData = async (store) => {\r\n  await initDB();\r\n  return await new Promise((resolve, reject) => {\r\n    const data = [];\r\n    const request = db\r\n      .transaction(store, 'readonly')\r\n      .objectStore(store)\r\n      .openCursor();\r\n    request.onsuccess = function (event) {\r\n      const cursor = event.target.result;\r\n      if (cursor) {\r\n        const item = cursor.value;\r\n        data.push(item);\r\n        cursor.continue();\r\n      } else {\r\n        resolve(data);\r\n        db.close();\r\n      }\r\n    };\r\n    request.onerror = function () {\r\n      reject();\r\n      console.error(`${store}数据查询失败！`);\r\n    };\r\n  });\r\n};\r\n\r\n//根据索引条件查询数据\r\nexport const selectDataByIndex = async (store, indexName, params) => {\r\n  await initDB();\r\n  return await new Promise((resolve, reject) => {\r\n    const data = [];\r\n    const range = IDBKeyRange.only(params);\r\n    const request = db\r\n      .transaction(store, 'readonly')\r\n      .objectStore(store)\r\n      .index(indexName)\r\n      .openCursor(range);\r\n    request.onsuccess = function (event) {\r\n      const cursor = event.target.result;\r\n      if (cursor) {\r\n        const item = cursor.value;\r\n        data.push(item);\r\n        cursor.continue();\r\n      } else {\r\n        resolve(data);\r\n        db.close();\r\n      }\r\n    };\r\n    request.onerror = function () {\r\n      reject();\r\n      console.error(`${store}数据查询失败！`);\r\n    };\r\n  });\r\n};\r\n\r\n//根据key查询数据\r\nexport const selectDataByKey = async (store, key) => {\r\n  await initDB();\r\n  return await new Promise((resolve, reject) => {\r\n    const request = db.transaction(store).objectStore(store).get(key);\r\n    request.onsuccess = function (event) {\r\n      const data = event.target.result;\r\n      resolve(data);\r\n      db.close();\r\n    };\r\n    request.onerror = function () {\r\n      reject();\r\n      console.error(`${store}数据查询失败！`);\r\n    };\r\n  });\r\n};\r\n\r\n//更新数据\r\nexport const updateData = async (store, value) => {\r\n  await initDB();\r\n  return await new Promise((resolve, reject) => {\r\n    const request = db\r\n      .transaction(store, 'readwrite')\r\n      .objectStore(store)\r\n      .put(value);\r\n    request.onsuccess = function () {\r\n      resolve();\r\n      db.close();\r\n    };\r\n    request.onerror = function () {\r\n      reject();\r\n      console.error(`${store}数据更新失败！`);\r\n    };\r\n  });\r\n};\r\n\r\n//根据key删除数据\r\nexport const deleteData = async (store, key) => {\r\n  await initDB();\r\n  return await new Promise((resolve, reject) => {\r\n    const request = db\r\n      .transaction(store, 'readwrite')\r\n      .objectStore(store)\r\n      .delete(key);\r\n    request.onsuccess = function () {\r\n      resolve();\r\n      db.close();\r\n    };\r\n    request.onerror = function () {\r\n      reject();\r\n      console.error(`${store}数据删除失败！`);\r\n    };\r\n  });\r\n};\r\n","import React, { useState, useEffect } from 'react';\r\nimport { WhiteSpace, Modal, Button, Accordion } from 'antd-mobile';\r\nimport Container from '../components/Container';\r\nimport TemplateList from '../components/TemplateList';\r\nimport { insertData, selectAllData } from '../utils/indexDB';\r\n\r\nconst prompt = Modal.prompt;\r\n\r\nexport default function Home() {\r\n  const [projects, setProjects] = useState([]);\r\n\r\n  useEffect(() => {\r\n    selectAllData('projects').then((res) => {\r\n      setProjects(res);\r\n    });\r\n  }, []);\r\n\r\n  const handleButtonClick = () => {\r\n    prompt(\r\n      '项目名称',\r\n      null,\r\n      [\r\n        {\r\n          text: '取消',\r\n        },\r\n        {\r\n          text: '确定',\r\n          onPress: (value) => {\r\n            if (value) {\r\n              return insertData('projects', { name: value }).then((id) => {\r\n                const newProjects = [...projects, { id, name: value }];\r\n                setProjects(newProjects);\r\n              });\r\n            } else {\r\n              return Promise.reject();\r\n            }\r\n          },\r\n        },\r\n      ],\r\n      'default',\r\n      null,\r\n      ['请输入项目名称']\r\n    );\r\n  };\r\n\r\n  return (\r\n    <Container navBar=\"项目列表\">\r\n      <Accordion accordion openAnimation={{}}>\r\n        {projects.map((project) => (\r\n          <Accordion.Panel\r\n            // style={{ marginBottom: 15 }}\r\n            key={project.id}\r\n            header={project.name}\r\n          >\r\n            <TemplateList project={project} />\r\n          </Accordion.Panel>\r\n        ))}\r\n      </Accordion>\r\n      <WhiteSpace />\r\n      <Button type=\"primary\" onClick={handleButtonClick}>\r\n        创建新项目\r\n      </Button>\r\n    </Container>\r\n  );\r\n}\r\n","//计算数组平均值并保留一位小数\r\nexport const average = (arr) => {\r\n  const reducer = (accumulator, currentValue) =>\r\n    parseInt(accumulator) + parseInt(currentValue);\r\n  return arr.length ? (arr.reduce(reducer) / arr.length).toFixed(1) : '';\r\n};\r\n\r\n//用指定的值将数字补齐到指定的长度\r\nconst fillArr = (arr, len, value) => {\r\n  if (arr.length > len) return arr;\r\n  return arr.concat(new Array(len - arr.length).fill(value));\r\n};\r\n\r\n//将数组按照指定长度分组并补齐到指定长度，然后转换成对象加上日期,设备属性\r\nconst chunk = (arr, len, key) => {\r\n  const result = [];\r\n  for (let i = 0; i < arr.length; i += len) {\r\n    result.push({\r\n      records: fillArr(arr.slice(i, i + len), len, {}),\r\n      date: key,\r\n      equip: arr[i].equip,\r\n    });\r\n  }\r\n  return result;\r\n};\r\n\r\n//按属性对object分类\r\nexport const groupBy = (objectArray, property) => {\r\n  return objectArray.reduce(function (acc, obj) {\r\n    var key = obj[property];\r\n    if (!acc[key]) {\r\n      acc[key] = [];\r\n    }\r\n    acc[key].push(obj);\r\n    return acc;\r\n  }, {});\r\n};\r\n\r\n//分页\r\nexport const paging = (object, len) => {\r\n  let result = [];\r\n  for (const key in object) {\r\n    result = result.concat(chunk(object[key], len, key));\r\n  }\r\n  return result;\r\n};\r\n\r\n// //将记录数据处理成导出格式\r\n// export const handleRecords = (list, len) => {\r\n//   //先按日期分组\r\n//   const temp = groupBy(list, 'date');\r\n//   //按模板每页的记录条数分页\r\n//   return paging(temp, len);\r\n// };\r\n","import React, { useState, useEffect } from 'react';\r\nimport { format } from 'date-fns';\r\nimport { createForm } from 'rc-form';\r\nimport {\r\n  Button,\r\n  InputItem,\r\n  List,\r\n  DatePicker,\r\n  WhiteSpace,\r\n  Flex,\r\n  Toast,\r\n} from 'antd-mobile';\r\n\r\nimport { insertData, selectDataByKey, updateData } from '../utils/indexDB';\r\nimport { average } from '../utils/index';\r\n\r\nconst Item = List.Item;\r\n\r\nfunction Column({ form, history, match }) {\r\n  const project = JSON.parse(sessionStorage.getItem('curProject'));\r\n  const template = JSON.parse(sessionStorage.getItem('curTemplate'));\r\n\r\n  const [record, setRecord] = useState(null);\r\n\r\n  useEffect(() => {\r\n    const params = match.params;\r\n    if (params.id) {\r\n      //编辑\r\n      const id = params.id;\r\n      //查询记录\r\n      selectDataByKey('columns', parseInt(id)).then((res) => {\r\n        setRecord(res);\r\n      });\r\n    }\r\n  }, [match.params]);\r\n\r\n  const { getFieldProps, getFieldError } = form;\r\n\r\n  const handleClick = () => {\r\n    form.validateFields({ force: true }, (error) => {\r\n      if (!error) {\r\n        const formData = form.getFieldsValue();\r\n        formData.date = format(formData.date, 'yyyy-MM-dd');\r\n        formData.projectId = project.id;\r\n        formData.templateId = template.id;\r\n        formData.section_s_a = '';\r\n        //计算平均值\r\n\r\n        const space = [];\r\n        if (formData.space_m_1) space.push(formData.space_m_1);\r\n        if (formData.space_m_2) space.push(formData.space_m_2);\r\n        if (formData.space_m_3) space.push(formData.space_m_3);\r\n        if (formData.space_m_4) space.push(formData.space_m_4);\r\n        if (formData.space_m_5) space.push(formData.space_m_5);\r\n        if (formData.space_m_6) space.push(formData.space_m_6);\r\n        formData.space_m = space.length ? space.join(',') : '';\r\n        formData.space_a = average(space);\r\n\r\n        const space_non = [];\r\n        if (formData.space_non_m_1) space_non.push(formData.space_non_m_1);\r\n        if (formData.space_non_m_2) space_non.push(formData.space_non_m_2);\r\n        if (formData.space_non_m_3) space_non.push(formData.space_non_m_3);\r\n        if (formData.space_non_m_4) space_non.push(formData.space_non_m_4);\r\n        if (formData.space_non_m_5) space_non.push(formData.space_non_m_5);\r\n        if (formData.space_non_m_6) space_non.push(formData.space_non_m_6);\r\n        formData.space_non_m = space_non.length ? space_non.join(',') : '';\r\n        formData.space_non_a = average(space_non);\r\n        if (record) {\r\n          //编辑\r\n          updateData('columns', { id: record.id, ...formData }).then(() => {\r\n            // history.replace('/record');\r\n            history.goBack();\r\n          });\r\n        } else {\r\n          //新增\r\n          insertData('columns', formData).then(() => {\r\n            // history.replace('/record');\r\n            history.goBack();\r\n          });\r\n        }\r\n      } else {\r\n        Toast.fail('柱位置未填写！', 2);\r\n      }\r\n    });\r\n  };\r\n\r\n  return (\r\n    <>\r\n      <List>\r\n        <DatePicker\r\n          mode=\"date\"\r\n          title=\"选择日期\"\r\n          {...getFieldProps('date', {\r\n            initialValue: record ? new Date(record.date) : new Date(),\r\n          })}\r\n        >\r\n          <Item>检测时间</Item>\r\n        </DatePicker>\r\n        <InputItem\r\n          labelNumber={7}\r\n          error={!!getFieldError('equip')}\r\n          {...getFieldProps('equip', {\r\n            initialValue: record ? record.equip : '',\r\n          })}\r\n        >\r\n          检测设备及名称\r\n        </InputItem>\r\n        <InputItem\r\n          extra=\"*\"\r\n          error={!!getFieldError('position')}\r\n          {...getFieldProps('position', {\r\n            initialValue: record ? record.position : '',\r\n            rules: [{ required: true, message: '必填' }],\r\n          })}\r\n        >\r\n          柱位置\r\n        </InputItem>\r\n      </List>\r\n      <div className=\"sub-title\">截面尺寸（mm）</div>\r\n      <Flex>\r\n        <Flex.Item>\r\n          <InputItem\r\n            placeholder=\"实测值\"\r\n            {...getFieldProps('section_s_m_1', {\r\n              initialValue: record ? record.section_s_m_1 : '',\r\n            })}\r\n          ></InputItem>\r\n        </Flex.Item>\r\n        <Flex.Item>\r\n          <InputItem\r\n            placeholder=\"实测值\"\r\n            {...getFieldProps('section_s_m_2', {\r\n              initialValue: record ? record.section_s_m_2 : '',\r\n            })}\r\n          ></InputItem>\r\n        </Flex.Item>\r\n        <Flex.Item>\r\n          <InputItem\r\n            placeholder=\"实测值\"\r\n            {...getFieldProps('section_s_m_3', {\r\n              initialValue: record ? record.section_s_m_3 : '',\r\n            })}\r\n          ></InputItem>\r\n        </Flex.Item>\r\n      </Flex>\r\n      <div className=\"sub-title\">柱纵筋实测分布（mm）</div>\r\n      <Flex>\r\n        <Flex.Item>\r\n          <InputItem\r\n            placeholder=\"柱纵筋实测分布\"\r\n            {...getFieldProps('bar', {\r\n              initialValue: record ? record.bar : '',\r\n            })}\r\n          ></InputItem>\r\n        </Flex.Item>\r\n        <Flex.Item />\r\n      </Flex>\r\n      <div className=\"sub-title\">加密区箍筋间距（mm）</div>\r\n      <Flex>\r\n        <Flex.Item>\r\n          <InputItem\r\n            type=\"number\"\r\n            placeholder=\"实测值\"\r\n            {...getFieldProps('space_m_1', {\r\n              initialValue: record ? record.space_m_1 : '',\r\n            })}\r\n          ></InputItem>\r\n        </Flex.Item>\r\n        <Flex.Item>\r\n          <InputItem\r\n            type=\"number\"\r\n            placeholder=\"实测值\"\r\n            {...getFieldProps('space_m_2', {\r\n              initialValue: record ? record.space_m_2 : '',\r\n            })}\r\n          ></InputItem>\r\n        </Flex.Item>\r\n        <Flex.Item>\r\n          <InputItem\r\n            type=\"number\"\r\n            placeholder=\"实测值\"\r\n            {...getFieldProps('space_m_3', {\r\n              initialValue: record ? record.space_m_3 : '',\r\n            })}\r\n          ></InputItem>\r\n        </Flex.Item>\r\n      </Flex>\r\n      <WhiteSpace />\r\n      <Flex>\r\n        <Flex.Item>\r\n          <InputItem\r\n            type=\"number\"\r\n            placeholder=\"实测值\"\r\n            {...getFieldProps('space_m_4', {\r\n              initialValue: record ? record.space_m_4 : '',\r\n            })}\r\n          ></InputItem>\r\n        </Flex.Item>\r\n        <Flex.Item>\r\n          <InputItem\r\n            type=\"number\"\r\n            placeholder=\"实测值\"\r\n            {...getFieldProps('space_m_5', {\r\n              initialValue: record ? record.space_m_5 : '',\r\n            })}\r\n          ></InputItem>\r\n        </Flex.Item>\r\n        <Flex.Item>\r\n          <InputItem\r\n            type=\"number\"\r\n            placeholder=\"实测值\"\r\n            {...getFieldProps('space_m_6', {\r\n              initialValue: record ? record.space_m_6 : '',\r\n            })}\r\n          ></InputItem>\r\n        </Flex.Item>\r\n      </Flex>\r\n      <div className=\"sub-title\">非加密区箍筋间距（mm）</div>\r\n      <Flex>\r\n        <Flex.Item>\r\n          <InputItem\r\n            type=\"number\"\r\n            placeholder=\"实测值\"\r\n            {...getFieldProps('space_non_m_1', {\r\n              initialValue: record ? record.space_non_m_1 : '',\r\n            })}\r\n          ></InputItem>\r\n        </Flex.Item>\r\n        <Flex.Item>\r\n          <InputItem\r\n            type=\"number\"\r\n            placeholder=\"实测值\"\r\n            {...getFieldProps('space_non_m_2', {\r\n              initialValue: record ? record.space_non_m_2 : '',\r\n            })}\r\n          ></InputItem>\r\n        </Flex.Item>\r\n        <Flex.Item>\r\n          <InputItem\r\n            type=\"number\"\r\n            placeholder=\"实测值\"\r\n            {...getFieldProps('space_non_m_3', {\r\n              initialValue: record ? record.space_non_m_3 : '',\r\n            })}\r\n          ></InputItem>\r\n        </Flex.Item>\r\n      </Flex>\r\n      <WhiteSpace />\r\n      <Flex>\r\n        <Flex.Item>\r\n          <InputItem\r\n            type=\"number\"\r\n            placeholder=\"实测值\"\r\n            {...getFieldProps('space_non_m_4', {\r\n              initialValue: record ? record.space_non_m_4 : '',\r\n            })}\r\n          ></InputItem>\r\n        </Flex.Item>\r\n        <Flex.Item>\r\n          <InputItem\r\n            type=\"number\"\r\n            placeholder=\"实测值\"\r\n            {...getFieldProps('space_non_m_5', {\r\n              initialValue: record ? record.space_non_m_5 : '',\r\n            })}\r\n          ></InputItem>\r\n        </Flex.Item>\r\n        <Flex.Item>\r\n          <InputItem\r\n            type=\"number\"\r\n            placeholder=\"实测值\"\r\n            {...getFieldProps('space_non_m_6', {\r\n              initialValue: record ? record.space_non_m_6 : '',\r\n            })}\r\n          ></InputItem>\r\n        </Flex.Item>\r\n      </Flex>\r\n      <Flex>\r\n        <Flex.Item>\r\n          <div className=\"sub-title\">设计箍筋间距（mm）</div>\r\n          <InputItem\r\n            type=\"number\"\r\n            placeholder=\"设计箍筋间距\"\r\n            {...getFieldProps('space_d', {\r\n              initialValue: record ? record.space_d : '',\r\n            })}\r\n          ></InputItem>\r\n        </Flex.Item>\r\n        <Flex.Item>\r\n          <div className=\"sub-title\">加密区长度（mm）</div>\r\n          <InputItem\r\n            type=\"number\"\r\n            placeholder=\"加密区长度\"\r\n            {...getFieldProps('length', {\r\n              initialValue: record ? record.length : '',\r\n            })}\r\n          ></InputItem>\r\n        </Flex.Item>\r\n      </Flex>\r\n      <WhiteSpace />\r\n      {/* <Button type=\"primary\" onClick={handleClick}>\r\n        导出\r\n      </Button> */}\r\n      <Button type=\"primary\" onClick={handleClick}>\r\n        保存\r\n      </Button>\r\n    </>\r\n  );\r\n}\r\n\r\nexport default createForm()(Column);\r\n","import React, { useState, useEffect } from 'react';\r\nimport { format } from 'date-fns';\r\nimport { createForm } from 'rc-form';\r\nimport {\r\n  Button,\r\n  InputItem,\r\n  List,\r\n  DatePicker,\r\n  WhiteSpace,\r\n  Flex,\r\n  Toast,\r\n} from 'antd-mobile';\r\n\r\nimport { insertData, selectDataByKey, updateData } from '../utils/indexDB';\r\nimport { average } from '../utils/index';\r\n\r\nconst Item = List.Item;\r\n\r\nfunction Wall({ form, history, match }) {\r\n  const project = JSON.parse(sessionStorage.getItem('curProject'));\r\n  const template = JSON.parse(sessionStorage.getItem('curTemplate'));\r\n\r\n  const [record, setRecord] = useState(null);\r\n\r\n  useEffect(() => {\r\n    const params = match.params;\r\n    if (params.id) {\r\n      //编辑\r\n      const id = params.id;\r\n      //查询记录\r\n      selectDataByKey('walls', parseInt(id)).then((res) => {\r\n        setRecord(res);\r\n      });\r\n    }\r\n  }, [match.params]);\r\n\r\n  const { getFieldProps, getFieldError } = form;\r\n\r\n  const handleClick = () => {\r\n    form.validateFields({ force: true }, (error) => {\r\n      if (!error) {\r\n        const formData = form.getFieldsValue();\r\n        formData.date = format(formData.date, 'yyyy-MM-dd');\r\n        formData.projectId = project.id;\r\n        formData.templateId = template.id;\r\n\r\n        //计算平均值\r\n        const thick_w = [];\r\n        if (formData.thick_w_1) thick_w.push(formData.thick_w_1);\r\n        if (formData.thick_w_2) thick_w.push(formData.thick_w_2);\r\n        if (formData.thick_w_3) thick_w.push(formData.thick_w_3);\r\n        formData.thick_w_a = average(thick_w);\r\n\r\n        if (record) {\r\n          //编辑\r\n          updateData('walls', { id: record.id, ...formData }).then(() => {\r\n            // history.replace('/record');\r\n            history.goBack();\r\n          });\r\n        } else {\r\n          //新增\r\n          insertData('walls', formData).then(() => {\r\n            // history.replace('/record');\r\n            history.goBack();\r\n          });\r\n        }\r\n      } else {\r\n        Toast.fail('检测部位未填写！', 2);\r\n      }\r\n    });\r\n  };\r\n\r\n  return (\r\n    <>\r\n      <List>\r\n        <DatePicker\r\n          mode=\"date\"\r\n          title=\"选择日期\"\r\n          {...getFieldProps('date', {\r\n            initialValue: record ? new Date(record.date) : new Date(),\r\n          })}\r\n        >\r\n          <Item>检测时间</Item>\r\n        </DatePicker>\r\n        <InputItem\r\n          labelNumber={7}\r\n          error={!!getFieldError('equip')}\r\n          {...getFieldProps('equip', {\r\n            initialValue: record ? record.equip : '',\r\n          })}\r\n        >\r\n          检测设备及名称\r\n        </InputItem>\r\n        <InputItem\r\n          extra=\"*\"\r\n          error={!!getFieldError('position')}\r\n          {...getFieldProps('position', {\r\n            initialValue: record ? record.position : '',\r\n            rules: [{ required: true, message: '必填' }],\r\n          })}\r\n        >\r\n          检测部位\r\n        </InputItem>\r\n      </List>\r\n      <div className=\"sub-title\">实测钢筋间距（水平）（mm）</div>\r\n      <Flex>\r\n        <Flex.Item>\r\n          <InputItem\r\n            type=\"number\"\r\n            placeholder=\"水平\"\r\n            {...getFieldProps('space_bar_h_1', {\r\n              initialValue: record ? record.space_bar_h_1 : '',\r\n            })}\r\n          ></InputItem>\r\n        </Flex.Item>\r\n        <Flex.Item>\r\n          <InputItem\r\n            type=\"number\"\r\n            placeholder=\"水平\"\r\n            {...getFieldProps('space_bar_h_2', {\r\n              initialValue: record ? record.space_bar_h_2 : '',\r\n            })}\r\n          ></InputItem>\r\n        </Flex.Item>\r\n        <Flex.Item>\r\n          <InputItem\r\n            type=\"number\"\r\n            placeholder=\"水平\"\r\n            {...getFieldProps('space_bar_h_3', {\r\n              initialValue: record ? record.space_bar_h_3 : '',\r\n            })}\r\n          ></InputItem>\r\n        </Flex.Item>\r\n      </Flex>\r\n      <WhiteSpace />\r\n      <Flex>\r\n        <Flex.Item>\r\n          <InputItem\r\n            type=\"number\"\r\n            placeholder=\"水平\"\r\n            {...getFieldProps('space_bar_h_4', {\r\n              initialValue: record ? record.space_bar_h_4 : '',\r\n            })}\r\n          ></InputItem>\r\n        </Flex.Item>\r\n        <Flex.Item>\r\n          <InputItem\r\n            type=\"number\"\r\n            placeholder=\"水平\"\r\n            {...getFieldProps('space_bar_h_5', {\r\n              initialValue: record ? record.space_bar_h_5 : '',\r\n            })}\r\n          ></InputItem>\r\n        </Flex.Item>\r\n        <Flex.Item>\r\n          <InputItem\r\n            type=\"number\"\r\n            placeholder=\"水平\"\r\n            {...getFieldProps('space_bar_h_6', {\r\n              initialValue: record ? record.space_bar_h_6 : '',\r\n            })}\r\n          ></InputItem>\r\n        </Flex.Item>\r\n      </Flex>\r\n      <div className=\"sub-title\">保护层厚度检测值（水平）（mm）</div>\r\n      <Flex>\r\n        <Flex.Item>\r\n          <InputItem\r\n            type=\"number\"\r\n            placeholder=\"水平\"\r\n            {...getFieldProps('thick_p_h_1', {\r\n              initialValue: record ? record.thick_p_h_1 : '',\r\n            })}\r\n          ></InputItem>\r\n        </Flex.Item>\r\n        <Flex.Item>\r\n          <InputItem\r\n            type=\"number\"\r\n            placeholder=\"水平\"\r\n            {...getFieldProps('thick_p_h_2', {\r\n              initialValue: record ? record.thick_p_h_2 : '',\r\n            })}\r\n          ></InputItem>\r\n        </Flex.Item>\r\n        <Flex.Item>\r\n          <InputItem\r\n            type=\"number\"\r\n            placeholder=\"水平\"\r\n            {...getFieldProps('thick_p_h_3', {\r\n              initialValue: record ? record.thick_p_h_3 : '',\r\n            })}\r\n          ></InputItem>\r\n        </Flex.Item>\r\n        <Flex.Item>\r\n          <InputItem\r\n            type=\"number\"\r\n            placeholder=\"水平\"\r\n            {...getFieldProps('thick_p_h_4', {\r\n              initialValue: record ? record.thick_p_h_4 : '',\r\n            })}\r\n          ></InputItem>\r\n        </Flex.Item>\r\n      </Flex>\r\n      <WhiteSpace />\r\n      <Flex>\r\n        <Flex.Item>\r\n          <InputItem\r\n            type=\"number\"\r\n            placeholder=\"水平\"\r\n            {...getFieldProps('thick_p_h_5', {\r\n              initialValue: record ? record.thick_p_h_5 : '',\r\n            })}\r\n          ></InputItem>\r\n        </Flex.Item>\r\n        <Flex.Item>\r\n          <InputItem\r\n            type=\"number\"\r\n            placeholder=\"水平\"\r\n            {...getFieldProps('thick_p_h_6', {\r\n              initialValue: record ? record.thick_p_h_6 : '',\r\n            })}\r\n          ></InputItem>\r\n        </Flex.Item>\r\n        <Flex.Item>\r\n          <InputItem\r\n            type=\"number\"\r\n            placeholder=\"水平\"\r\n            {...getFieldProps('thick_p_h_7', {\r\n              initialValue: record ? record.thick_p_h_7 : '',\r\n            })}\r\n          ></InputItem>\r\n        </Flex.Item>\r\n        <Flex.Item></Flex.Item>\r\n      </Flex>\r\n      <div className=\"sub-title\">实测钢筋间距（竖向）（mm）</div>\r\n      <Flex>\r\n        <Flex.Item>\r\n          <InputItem\r\n            type=\"number\"\r\n            placeholder=\"竖向\"\r\n            {...getFieldProps('space_bar_v_1', {\r\n              initialValue: record ? record.space_bar_v_1 : '',\r\n            })}\r\n          ></InputItem>\r\n        </Flex.Item>\r\n        <Flex.Item>\r\n          <InputItem\r\n            type=\"number\"\r\n            placeholder=\"竖向\"\r\n            {...getFieldProps('space_bar_v_2', {\r\n              initialValue: record ? record.space_bar_v_2 : '',\r\n            })}\r\n          ></InputItem>\r\n        </Flex.Item>\r\n        <Flex.Item>\r\n          <InputItem\r\n            type=\"number\"\r\n            placeholder=\"竖向\"\r\n            {...getFieldProps('space_bar_v_3', {\r\n              initialValue: record ? record.space_bar_v_3 : '',\r\n            })}\r\n          ></InputItem>\r\n        </Flex.Item>\r\n      </Flex>\r\n      <WhiteSpace />\r\n      <Flex>\r\n        <Flex.Item>\r\n          <InputItem\r\n            type=\"number\"\r\n            placeholder=\"竖向\"\r\n            {...getFieldProps('space_bar_v_4', {\r\n              initialValue: record ? record.space_bar_v_4 : '',\r\n            })}\r\n          ></InputItem>\r\n        </Flex.Item>\r\n        <Flex.Item>\r\n          <InputItem\r\n            type=\"number\"\r\n            placeholder=\"竖向\"\r\n            {...getFieldProps('space_bar_v_5', {\r\n              initialValue: record ? record.space_bar_v_5 : '',\r\n            })}\r\n          ></InputItem>\r\n        </Flex.Item>\r\n        <Flex.Item>\r\n          <InputItem\r\n            type=\"number\"\r\n            placeholder=\"竖向\"\r\n            {...getFieldProps('space_bar_v_6', {\r\n              initialValue: record ? record.space_bar_v_6 : '',\r\n            })}\r\n          ></InputItem>\r\n        </Flex.Item>\r\n      </Flex>\r\n      <div className=\"sub-title\">保护层厚度检测值（竖向）（mm）</div>\r\n      <Flex>\r\n        <Flex.Item>\r\n          <InputItem\r\n            type=\"number\"\r\n            placeholder=\"竖向\"\r\n            {...getFieldProps('thick_p_v_1', {\r\n              initialValue: record ? record.thick_p_v_1 : '',\r\n            })}\r\n          ></InputItem>\r\n        </Flex.Item>\r\n        <Flex.Item>\r\n          <InputItem\r\n            type=\"number\"\r\n            placeholder=\"竖向\"\r\n            {...getFieldProps('thick_p_v_2', {\r\n              initialValue: record ? record.thick_p_v_2 : '',\r\n            })}\r\n          ></InputItem>\r\n        </Flex.Item>\r\n        <Flex.Item>\r\n          <InputItem\r\n            type=\"number\"\r\n            placeholder=\"竖向\"\r\n            {...getFieldProps('thick_p_v_3', {\r\n              initialValue: record ? record.thick_p_v_3 : '',\r\n            })}\r\n          ></InputItem>\r\n        </Flex.Item>\r\n        <Flex.Item>\r\n          <InputItem\r\n            type=\"number\"\r\n            placeholder=\"竖向\"\r\n            {...getFieldProps('thick_p_v_4', {\r\n              initialValue: record ? record.thick_p_v_4 : '',\r\n            })}\r\n          ></InputItem>\r\n        </Flex.Item>\r\n      </Flex>\r\n      <WhiteSpace />\r\n      <Flex>\r\n        <Flex.Item>\r\n          <InputItem\r\n            type=\"number\"\r\n            placeholder=\"竖向\"\r\n            {...getFieldProps('thick_p_v_5', {\r\n              initialValue: record ? record.thick_p_v_5 : '',\r\n            })}\r\n          ></InputItem>\r\n        </Flex.Item>\r\n        <Flex.Item>\r\n          <InputItem\r\n            type=\"number\"\r\n            placeholder=\"竖向\"\r\n            {...getFieldProps('thick_p_v_6', {\r\n              initialValue: record ? record.thick_p_v_6 : '',\r\n            })}\r\n          ></InputItem>\r\n        </Flex.Item>\r\n        <Flex.Item>\r\n          <InputItem\r\n            type=\"number\"\r\n            placeholder=\"竖向\"\r\n            {...getFieldProps('thick_p_v_7', {\r\n              initialValue: record ? record.thick_p_v_7 : '',\r\n            })}\r\n          ></InputItem>\r\n        </Flex.Item>\r\n        <Flex.Item></Flex.Item>\r\n      </Flex>\r\n      <div className=\"sub-title\">墙厚检测值（mm）</div>\r\n      <Flex>\r\n        <Flex.Item>\r\n          <InputItem\r\n            type=\"number\"\r\n            placeholder=\"实测值\"\r\n            {...getFieldProps('thick_w_1', {\r\n              initialValue: record ? record.thick_w_1 : '',\r\n            })}\r\n          ></InputItem>\r\n        </Flex.Item>\r\n        <Flex.Item>\r\n          <InputItem\r\n            type=\"number\"\r\n            placeholder=\"实测值\"\r\n            {...getFieldProps('thick_w_2', {\r\n              initialValue: record ? record.thick_w_2 : '',\r\n            })}\r\n          ></InputItem>\r\n        </Flex.Item>\r\n        <Flex.Item>\r\n          <InputItem\r\n            type=\"number\"\r\n            placeholder=\"实测值\"\r\n            {...getFieldProps('thick_w_3', {\r\n              initialValue: record ? record.thick_w_3 : '',\r\n            })}\r\n          ></InputItem>\r\n        </Flex.Item>\r\n      </Flex>\r\n      <WhiteSpace />\r\n      <Button type=\"primary\" onClick={handleClick}>\r\n        保存\r\n      </Button>\r\n    </>\r\n  );\r\n}\r\n\r\nexport default createForm()(Wall);\r\n","import React, { useState, useEffect } from 'react';\r\nimport { format } from 'date-fns';\r\nimport { createForm } from 'rc-form';\r\nimport {\r\n  Button,\r\n  InputItem,\r\n  List,\r\n  DatePicker,\r\n  WhiteSpace,\r\n  Flex,\r\n  Toast,\r\n} from 'antd-mobile';\r\n\r\nimport { insertData, selectDataByKey, updateData } from '../utils/indexDB';\r\nimport { average } from '../utils/index';\r\n\r\nconst Item = List.Item;\r\n\r\nfunction Beam({ form, history, match }) {\r\n  const project = JSON.parse(sessionStorage.getItem('curProject'));\r\n  const template = JSON.parse(sessionStorage.getItem('curTemplate'));\r\n\r\n  const [record, setRecord] = useState(null);\r\n\r\n  useEffect(() => {\r\n    const params = match.params;\r\n    if (params.id) {\r\n      //编辑\r\n      const id = params.id;\r\n      //查询记录\r\n      selectDataByKey('beams', parseInt(id)).then((res) => {\r\n        setRecord(res);\r\n      });\r\n    }\r\n  }, [match.params]);\r\n\r\n  const { getFieldProps, getFieldError } = form;\r\n\r\n  const handleClick = () => {\r\n    form.validateFields({ force: true }, (error) => {\r\n      if (!error) {\r\n        const formData = form.getFieldsValue();\r\n        formData.date = format(formData.date, 'yyyy-MM-dd');\r\n        formData.projectId = project.id;\r\n        formData.templateId = template.id;\r\n        formData.section_s_a = '';\r\n\r\n        //计算平均值\r\n        const thick_p = [];\r\n        if (formData.thick_p_1) thick_p.push(formData.thick_p_1);\r\n        if (formData.thick_p_2) thick_p.push(formData.thick_p_2);\r\n        if (formData.thick_p_3) thick_p.push(formData.thick_p_3);\r\n        formData.thick_p_a = average(thick_p);\r\n\r\n        const space = [];\r\n        if (formData.space_m_1) space.push(formData.space_m_1);\r\n        if (formData.space_m_2) space.push(formData.space_m_2);\r\n        if (formData.space_m_3) space.push(formData.space_m_3);\r\n        if (formData.space_m_4) space.push(formData.space_m_4);\r\n        if (formData.space_m_5) space.push(formData.space_m_5);\r\n        if (formData.space_m_6) space.push(formData.space_m_6);\r\n        formData.space_m = space.length ? space.join(',') : '';\r\n        formData.space_a = average(space);\r\n\r\n        const space_non = [];\r\n        if (formData.space_non_m_1) space_non.push(formData.space_non_m_1);\r\n        if (formData.space_non_m_2) space_non.push(formData.space_non_m_2);\r\n        if (formData.space_non_m_3) space_non.push(formData.space_non_m_3);\r\n        if (formData.space_non_m_4) space_non.push(formData.space_non_m_4);\r\n        if (formData.space_non_m_5) space_non.push(formData.space_non_m_5);\r\n        if (formData.space_non_m_6) space_non.push(formData.space_non_m_6);\r\n        formData.space_non_m = space_non.length ? space_non.join(',') : '';\r\n        formData.space_non_a = average(space_non);\r\n        if (record) {\r\n          //编辑\r\n          updateData('beams', { id: record.id, ...formData }).then(() => {\r\n            // history.replace('/record');\r\n            history.goBack();\r\n          });\r\n        } else {\r\n          //新增\r\n          insertData('beams', formData).then(() => {\r\n            // history.replace('/record');\r\n            history.goBack();\r\n          });\r\n        }\r\n      } else {\r\n        Toast.fail('梁位置未填写！', 2);\r\n      }\r\n    });\r\n  };\r\n\r\n  return (\r\n    <>\r\n      <List>\r\n        <DatePicker\r\n          mode=\"date\"\r\n          title=\"选择日期\"\r\n          {...getFieldProps('date', {\r\n            initialValue: record ? new Date(record.date) : new Date(),\r\n          })}\r\n        >\r\n          <Item>检测时间</Item>\r\n        </DatePicker>\r\n        <InputItem\r\n          labelNumber={7}\r\n          error={!!getFieldError('equip')}\r\n          {...getFieldProps('equip', {\r\n            initialValue: record ? record.equip : '',\r\n          })}\r\n        >\r\n          检测设备及名称\r\n        </InputItem>\r\n        <InputItem\r\n          extra=\"*\"\r\n          error={!!getFieldError('position')}\r\n          {...getFieldProps('position', {\r\n            initialValue: record ? record.position : '',\r\n            rules: [{ required: true, message: '必填' }],\r\n          })}\r\n        >\r\n          梁位置\r\n        </InputItem>\r\n      </List>\r\n      <div className=\"sub-title\">截面尺寸（mm）</div>\r\n      <Flex>\r\n        <Flex.Item>\r\n          <InputItem\r\n            placeholder=\"实测值\"\r\n            {...getFieldProps('section_s_m_1', {\r\n              initialValue: record ? record.section_s_m_1 : '',\r\n            })}\r\n          ></InputItem>\r\n        </Flex.Item>\r\n        <Flex.Item>\r\n          <InputItem\r\n            placeholder=\"实测值\"\r\n            {...getFieldProps('section_s_m_2', {\r\n              initialValue: record ? record.section_s_m_2 : '',\r\n            })}\r\n          ></InputItem>\r\n        </Flex.Item>\r\n        <Flex.Item>\r\n          <InputItem\r\n            placeholder=\"实测值\"\r\n            {...getFieldProps('section_s_m_3', {\r\n              initialValue: record ? record.section_s_m_3 : '',\r\n            })}\r\n          ></InputItem>\r\n        </Flex.Item>\r\n      </Flex>\r\n      <div className=\"sub-title\">梁底底排纵筋实测根数</div>\r\n      <Flex>\r\n        <Flex.Item>\r\n          <InputItem\r\n            type=\"number\"\r\n            placeholder=\"实测根数\"\r\n            {...getFieldProps('bar_num', {\r\n              initialValue: record ? record.bar_num : '',\r\n            })}\r\n          ></InputItem>\r\n        </Flex.Item>\r\n        <Flex.Item />\r\n      </Flex>\r\n      <div className=\"sub-title\">梁底底排钢筋砼保护层厚度实测值（mm）</div>\r\n      <Flex>\r\n        <Flex.Item>\r\n          <InputItem\r\n            type=\"number\"\r\n            placeholder=\"测点1\"\r\n            {...getFieldProps('thick_p_1', {\r\n              initialValue: record ? record.thick_p_1 : '',\r\n            })}\r\n          ></InputItem>\r\n        </Flex.Item>\r\n        <Flex.Item>\r\n          <InputItem\r\n            type=\"number\"\r\n            placeholder=\"测点2\"\r\n            {...getFieldProps('thick_p_2', {\r\n              initialValue: record ? record.thick_p_2 : '',\r\n            })}\r\n          ></InputItem>\r\n        </Flex.Item>\r\n        <Flex.Item>\r\n          <InputItem\r\n            type=\"number\"\r\n            placeholder=\"测点3\"\r\n            {...getFieldProps('thick_p_3', {\r\n              initialValue: record ? record.thick_p_3 : '',\r\n            })}\r\n          ></InputItem>\r\n        </Flex.Item>\r\n      </Flex>\r\n      <div className=\"sub-title\">加密区箍筋间距（mm）</div>\r\n      <Flex>\r\n        <Flex.Item>\r\n          <InputItem\r\n            type=\"number\"\r\n            placeholder=\"实测值\"\r\n            {...getFieldProps('space_m_1', {\r\n              initialValue: record ? record.space_m_1 : '',\r\n            })}\r\n          ></InputItem>\r\n        </Flex.Item>\r\n        <Flex.Item>\r\n          <InputItem\r\n            type=\"number\"\r\n            placeholder=\"实测值\"\r\n            {...getFieldProps('space_m_2', {\r\n              initialValue: record ? record.space_m_2 : '',\r\n            })}\r\n          ></InputItem>\r\n        </Flex.Item>\r\n        <Flex.Item>\r\n          <InputItem\r\n            type=\"number\"\r\n            placeholder=\"实测值\"\r\n            {...getFieldProps('space_m_3', {\r\n              initialValue: record ? record.space_m_3 : '',\r\n            })}\r\n          ></InputItem>\r\n        </Flex.Item>\r\n      </Flex>\r\n      <WhiteSpace />\r\n      <Flex>\r\n        <Flex.Item>\r\n          <InputItem\r\n            type=\"number\"\r\n            placeholder=\"实测值\"\r\n            {...getFieldProps('space_m_4', {\r\n              initialValue: record ? record.space_m_4 : '',\r\n            })}\r\n          ></InputItem>\r\n        </Flex.Item>\r\n        <Flex.Item>\r\n          <InputItem\r\n            type=\"number\"\r\n            placeholder=\"实测值\"\r\n            {...getFieldProps('space_m_5', {\r\n              initialValue: record ? record.space_m_5 : '',\r\n            })}\r\n          ></InputItem>\r\n        </Flex.Item>\r\n        <Flex.Item>\r\n          <InputItem\r\n            type=\"number\"\r\n            placeholder=\"实测值\"\r\n            {...getFieldProps('space_m_6', {\r\n              initialValue: record ? record.space_m_6 : '',\r\n            })}\r\n          ></InputItem>\r\n        </Flex.Item>\r\n      </Flex>\r\n      <div className=\"sub-title\">非加密区箍筋间距（mm）</div>\r\n      <Flex>\r\n        <Flex.Item>\r\n          <InputItem\r\n            type=\"number\"\r\n            placeholder=\"实测值\"\r\n            {...getFieldProps('space_non_m_1', {\r\n              initialValue: record ? record.space_non_m_1 : '',\r\n            })}\r\n          ></InputItem>\r\n        </Flex.Item>\r\n        <Flex.Item>\r\n          <InputItem\r\n            type=\"number\"\r\n            placeholder=\"实测值\"\r\n            {...getFieldProps('space_non_m_2', {\r\n              initialValue: record ? record.space_non_m_2 : '',\r\n            })}\r\n          ></InputItem>\r\n        </Flex.Item>\r\n        <Flex.Item>\r\n          <InputItem\r\n            type=\"number\"\r\n            placeholder=\"实测值\"\r\n            {...getFieldProps('space_non_m_3', {\r\n              initialValue: record ? record.space_non_m_3 : '',\r\n            })}\r\n          ></InputItem>\r\n        </Flex.Item>\r\n      </Flex>\r\n      <WhiteSpace />\r\n      <Flex>\r\n        <Flex.Item>\r\n          <InputItem\r\n            type=\"number\"\r\n            placeholder=\"实测值\"\r\n            {...getFieldProps('space_non_m_4', {\r\n              initialValue: record ? record.space_non_m_4 : '',\r\n            })}\r\n          ></InputItem>\r\n        </Flex.Item>\r\n        <Flex.Item>\r\n          <InputItem\r\n            type=\"number\"\r\n            placeholder=\"实测值\"\r\n            {...getFieldProps('space_non_m_5', {\r\n              initialValue: record ? record.space_non_m_5 : '',\r\n            })}\r\n          ></InputItem>\r\n        </Flex.Item>\r\n        <Flex.Item>\r\n          <InputItem\r\n            type=\"number\"\r\n            placeholder=\"实测值\"\r\n            {...getFieldProps('space_non_m_6', {\r\n              initialValue: record ? record.space_non_m_6 : '',\r\n            })}\r\n          ></InputItem>\r\n        </Flex.Item>\r\n      </Flex>\r\n      <Flex>\r\n        <Flex.Item>\r\n          <div className=\"sub-title\">设计箍筋间距（mm）</div>\r\n          <InputItem\r\n            type=\"number\"\r\n            placeholder=\"设计箍筋间距\"\r\n            {...getFieldProps('space_d', {\r\n              initialValue: record ? record.space_d : '',\r\n            })}\r\n          ></InputItem>\r\n        </Flex.Item>\r\n        <Flex.Item></Flex.Item>\r\n      </Flex>\r\n      <WhiteSpace />\r\n      <Button type=\"primary\" onClick={handleClick}>\r\n        保存\r\n      </Button>\r\n    </>\r\n  );\r\n}\r\n\r\nexport default createForm()(Beam);\r\n","import React, { useState, useEffect } from 'react';\r\nimport { format } from 'date-fns';\r\nimport { createForm } from 'rc-form';\r\nimport {\r\n  Button,\r\n  InputItem,\r\n  List,\r\n  DatePicker,\r\n  WhiteSpace,\r\n  Flex,\r\n  Toast,\r\n  Tabs,\r\n} from 'antd-mobile';\r\n\r\nimport { insertData, selectDataByKey, updateData } from '../utils/indexDB';\r\nimport { average } from '../utils/index';\r\n\r\nconst Item = List.Item;\r\n\r\nconst tabs = [{ title: '板底' }, { title: '板面' }];\r\n\r\nfunction Floor({ form, history, match }) {\r\n  const project = JSON.parse(sessionStorage.getItem('curProject'));\r\n  const template = JSON.parse(sessionStorage.getItem('curTemplate'));\r\n\r\n  const [record, setRecord] = useState(null);\r\n\r\n  useEffect(() => {\r\n    const params = match.params;\r\n    if (params.id) {\r\n      //编辑\r\n      const id = params.id;\r\n      //查询记录\r\n      selectDataByKey('floors', parseInt(id)).then((res) => {\r\n        setRecord(res);\r\n      });\r\n    }\r\n  }, [match.params]);\r\n\r\n  const { getFieldProps, getFieldError } = form;\r\n\r\n  const handleClick = () => {\r\n    form.validateFields({ force: true }, (error) => {\r\n      if (!error) {\r\n        const formData = form.getFieldsValue();\r\n        formData.date = format(formData.date, 'yyyy-MM-dd');\r\n        formData.projectId = project.id;\r\n        formData.templateId = template.id;\r\n\r\n        //计算平均值\r\n        const thick_w = [];\r\n        if (formData.thick_w_1) thick_w.push(formData.thick_w_1);\r\n        if (formData.thick_w_2) thick_w.push(formData.thick_w_2);\r\n        if (formData.thick_w_3) thick_w.push(formData.thick_w_3);\r\n        formData.thick_w_a = average(thick_w);\r\n\r\n        if (record) {\r\n          //编辑\r\n          updateData('floors', { id: record.id, ...formData }).then(() => {\r\n            history.goBack();\r\n          });\r\n        } else {\r\n          //新增\r\n          insertData('floors', formData).then(() => {\r\n            history.goBack();\r\n          });\r\n        }\r\n      } else {\r\n        Toast.fail('检测部位未填写！', 2);\r\n      }\r\n    });\r\n  };\r\n\r\n  return (\r\n    <>\r\n      <List>\r\n        <DatePicker\r\n          mode=\"date\"\r\n          title=\"选择日期\"\r\n          {...getFieldProps('date', {\r\n            initialValue: record ? new Date(record.date) : new Date(),\r\n          })}\r\n        >\r\n          <Item>检测时间</Item>\r\n        </DatePicker>\r\n        <InputItem\r\n          labelNumber={7}\r\n          error={!!getFieldError('equip')}\r\n          {...getFieldProps('equip', {\r\n            initialValue: record ? record.equip : '',\r\n          })}\r\n        >\r\n          检测设备及名称\r\n        </InputItem>\r\n        <InputItem\r\n          extra=\"*\"\r\n          error={!!getFieldError('position')}\r\n          {...getFieldProps('position', {\r\n            initialValue: record ? record.position : '',\r\n            rules: [{ required: true, message: '必填' }],\r\n          })}\r\n        >\r\n          检测部位\r\n        </InputItem>\r\n      </List>\r\n      <WhiteSpace />\r\n      <Tabs tabs={tabs} initialPage={0} tabBarBackgroundColor=\"transparent\">\r\n        {/* tab0 */}\r\n        <div>\r\n          <div className=\"sub-title\">平行轴</div>\r\n          <Flex>\r\n            <Flex.Item>\r\n              <InputItem\r\n                placeholder=\"轴\"\r\n                {...getFieldProps('parallel_1', {\r\n                  initialValue: record ? record.parallel_1 : '',\r\n                })}\r\n              ></InputItem>\r\n            </Flex.Item>\r\n            <Flex.Item />\r\n            <Flex.Item />\r\n          </Flex>\r\n          <div className=\"sub-title\">钢筋间距检测值（mm）</div>\r\n          <Flex>\r\n            <Flex.Item>\r\n              <InputItem\r\n                type=\"number\"\r\n                placeholder=\"实测值\"\r\n                {...getFieldProps('space_bar_1_1', {\r\n                  initialValue: record ? record.space_bar_1_1 : '',\r\n                })}\r\n              ></InputItem>\r\n            </Flex.Item>\r\n            <Flex.Item>\r\n              <InputItem\r\n                type=\"number\"\r\n                placeholder=\"实测值\"\r\n                {...getFieldProps('space_bar_1_2', {\r\n                  initialValue: record ? record.space_bar_1_2 : '',\r\n                })}\r\n              ></InputItem>\r\n            </Flex.Item>\r\n            <Flex.Item>\r\n              <InputItem\r\n                type=\"number\"\r\n                placeholder=\"实测值\"\r\n                {...getFieldProps('space_bar_1_3', {\r\n                  initialValue: record ? record.space_bar_1_3 : '',\r\n                })}\r\n              ></InputItem>\r\n            </Flex.Item>\r\n          </Flex>\r\n          <WhiteSpace />\r\n          <Flex>\r\n            <Flex.Item>\r\n              <InputItem\r\n                type=\"number\"\r\n                placeholder=\"实测值\"\r\n                {...getFieldProps('space_bar_1_4', {\r\n                  initialValue: record ? record.space_bar_1_4 : '',\r\n                })}\r\n              ></InputItem>\r\n            </Flex.Item>\r\n            <Flex.Item>\r\n              <InputItem\r\n                type=\"number\"\r\n                placeholder=\"实测值\"\r\n                {...getFieldProps('space_bar_1_5', {\r\n                  initialValue: record ? record.space_bar_1_5 : '',\r\n                })}\r\n              ></InputItem>\r\n            </Flex.Item>\r\n            <Flex.Item>\r\n              <InputItem\r\n                type=\"number\"\r\n                placeholder=\"实测值\"\r\n                {...getFieldProps('space_bar_1_6', {\r\n                  initialValue: record ? record.space_bar_1_6 : '',\r\n                })}\r\n              ></InputItem>\r\n            </Flex.Item>\r\n          </Flex>\r\n          <div className=\"sub-title\">保护层检测值（mm）</div>\r\n          <Flex>\r\n            <Flex.Item>\r\n              <InputItem\r\n                type=\"number\"\r\n                placeholder=\"实测值\"\r\n                {...getFieldProps('thick_p_1_1', {\r\n                  initialValue: record ? record.thick_p_1_1 : '',\r\n                })}\r\n              ></InputItem>\r\n            </Flex.Item>\r\n            <Flex.Item>\r\n              <InputItem\r\n                type=\"number\"\r\n                placeholder=\"实测值\"\r\n                {...getFieldProps('thick_p_1_2', {\r\n                  initialValue: record ? record.thick_p_1_2 : '',\r\n                })}\r\n              ></InputItem>\r\n            </Flex.Item>\r\n            <Flex.Item>\r\n              <InputItem\r\n                type=\"number\"\r\n                placeholder=\"实测值\"\r\n                {...getFieldProps('thick_p_1_3', {\r\n                  initialValue: record ? record.thick_p_1_3 : '',\r\n                })}\r\n              ></InputItem>\r\n            </Flex.Item>\r\n            <Flex.Item>\r\n              <InputItem\r\n                type=\"number\"\r\n                placeholder=\"实测值\"\r\n                {...getFieldProps('thick_p_1_4', {\r\n                  initialValue: record ? record.thick_p_1_4 : '',\r\n                })}\r\n              ></InputItem>\r\n            </Flex.Item>\r\n          </Flex>\r\n          <WhiteSpace />\r\n          <Flex>\r\n            <Flex.Item>\r\n              <InputItem\r\n                type=\"number\"\r\n                placeholder=\"实测值\"\r\n                {...getFieldProps('thick_p_1_5', {\r\n                  initialValue: record ? record.thick_p_1_5 : '',\r\n                })}\r\n              ></InputItem>\r\n            </Flex.Item>\r\n            <Flex.Item>\r\n              <InputItem\r\n                type=\"number\"\r\n                placeholder=\"实测值\"\r\n                {...getFieldProps('thick_p_1_6', {\r\n                  initialValue: record ? record.thick_p_1_6 : '',\r\n                })}\r\n              ></InputItem>\r\n            </Flex.Item>\r\n            <Flex.Item>\r\n              <InputItem\r\n                type=\"number\"\r\n                placeholder=\"实测值\"\r\n                {...getFieldProps('thick_p_1_7', {\r\n                  initialValue: record ? record.thick_p_1_7 : '',\r\n                })}\r\n              ></InputItem>\r\n            </Flex.Item>\r\n            <Flex.Item></Flex.Item>\r\n          </Flex>\r\n          <div className=\"sub-title\">扣除（mm）</div>\r\n          <Flex>\r\n            <Flex.Item>\r\n              <InputItem\r\n                type=\"number\"\r\n                placeholder=\"扣除\"\r\n                {...getFieldProps('deduct_1', {\r\n                  initialValue: record ? record.deduct_1 : '',\r\n                })}\r\n              ></InputItem>\r\n            </Flex.Item>\r\n          </Flex>\r\n          <div className=\"sub-title\">平行轴</div>\r\n          <Flex>\r\n            <Flex.Item>\r\n              <InputItem\r\n                placeholder=\"轴\"\r\n                {...getFieldProps('parallel_2', {\r\n                  initialValue: record ? record.parallel_2 : '',\r\n                })}\r\n              ></InputItem>\r\n            </Flex.Item>\r\n            <Flex.Item />\r\n            <Flex.Item />\r\n          </Flex>\r\n          <div className=\"sub-title\">钢筋间距检测值（mm）</div>\r\n          <Flex>\r\n            <Flex.Item>\r\n              <InputItem\r\n                type=\"number\"\r\n                placeholder=\"实测值\"\r\n                {...getFieldProps('space_bar_2_1', {\r\n                  initialValue: record ? record.space_bar_2_1 : '',\r\n                })}\r\n              ></InputItem>\r\n            </Flex.Item>\r\n            <Flex.Item>\r\n              <InputItem\r\n                type=\"number\"\r\n                placeholder=\"实测值\"\r\n                {...getFieldProps('space_bar_2_2', {\r\n                  initialValue: record ? record.space_bar_2_2 : '',\r\n                })}\r\n              ></InputItem>\r\n            </Flex.Item>\r\n            <Flex.Item>\r\n              <InputItem\r\n                type=\"number\"\r\n                placeholder=\"实测值\"\r\n                {...getFieldProps('space_bar_2_3', {\r\n                  initialValue: record ? record.space_bar_2_3 : '',\r\n                })}\r\n              ></InputItem>\r\n            </Flex.Item>\r\n          </Flex>\r\n          <WhiteSpace />\r\n          <Flex>\r\n            <Flex.Item>\r\n              <InputItem\r\n                type=\"number\"\r\n                placeholder=\"实测值\"\r\n                {...getFieldProps('space_bar_2_4', {\r\n                  initialValue: record ? record.space_bar_2_4 : '',\r\n                })}\r\n              ></InputItem>\r\n            </Flex.Item>\r\n            <Flex.Item>\r\n              <InputItem\r\n                type=\"number\"\r\n                placeholder=\"实测值\"\r\n                {...getFieldProps('space_bar_2_5', {\r\n                  initialValue: record ? record.space_bar_2_5 : '',\r\n                })}\r\n              ></InputItem>\r\n            </Flex.Item>\r\n            <Flex.Item>\r\n              <InputItem\r\n                type=\"number\"\r\n                placeholder=\"实测值\"\r\n                {...getFieldProps('space_bar_2_6', {\r\n                  initialValue: record ? record.space_bar_2_6 : '',\r\n                })}\r\n              ></InputItem>\r\n            </Flex.Item>\r\n          </Flex>\r\n          <div className=\"sub-title\">保护层检测值（mm）</div>\r\n          <Flex>\r\n            <Flex.Item>\r\n              <InputItem\r\n                type=\"number\"\r\n                placeholder=\"实测值\"\r\n                {...getFieldProps('thick_p_2_1', {\r\n                  initialValue: record ? record.thick_p_2_1 : '',\r\n                })}\r\n              ></InputItem>\r\n            </Flex.Item>\r\n            <Flex.Item>\r\n              <InputItem\r\n                type=\"number\"\r\n                placeholder=\"实测值\"\r\n                {...getFieldProps('thick_p_2_2', {\r\n                  initialValue: record ? record.thick_p_2_2 : '',\r\n                })}\r\n              ></InputItem>\r\n            </Flex.Item>\r\n            <Flex.Item>\r\n              <InputItem\r\n                type=\"number\"\r\n                placeholder=\"实测值\"\r\n                {...getFieldProps('thick_p_2_3', {\r\n                  initialValue: record ? record.thick_p_2_3 : '',\r\n                })}\r\n              ></InputItem>\r\n            </Flex.Item>\r\n            <Flex.Item>\r\n              <InputItem\r\n                type=\"number\"\r\n                placeholder=\"实测值\"\r\n                {...getFieldProps('thick_p_2_4', {\r\n                  initialValue: record ? record.thick_p_2_4 : '',\r\n                })}\r\n              ></InputItem>\r\n            </Flex.Item>\r\n          </Flex>\r\n          <WhiteSpace />\r\n          <Flex>\r\n            <Flex.Item>\r\n              <InputItem\r\n                type=\"number\"\r\n                placeholder=\"实测值\"\r\n                {...getFieldProps('thick_p_2_5', {\r\n                  initialValue: record ? record.thick_p_2_5 : '',\r\n                })}\r\n              ></InputItem>\r\n            </Flex.Item>\r\n            <Flex.Item>\r\n              <InputItem\r\n                type=\"number\"\r\n                placeholder=\"实测值\"\r\n                {...getFieldProps('thick_p_2_6', {\r\n                  initialValue: record ? record.thick_p_2_6 : '',\r\n                })}\r\n              ></InputItem>\r\n            </Flex.Item>\r\n            <Flex.Item>\r\n              <InputItem\r\n                type=\"number\"\r\n                placeholder=\"实测值\"\r\n                {...getFieldProps('thick_p_2_7', {\r\n                  initialValue: record ? record.thick_p_2_7 : '',\r\n                })}\r\n              ></InputItem>\r\n            </Flex.Item>\r\n            <Flex.Item></Flex.Item>\r\n          </Flex>\r\n          <div className=\"sub-title\">扣除（mm）</div>\r\n          <Flex>\r\n            <Flex.Item>\r\n              <InputItem\r\n                type=\"number\"\r\n                placeholder=\"扣除\"\r\n                {...getFieldProps('deduct_2', {\r\n                  initialValue: record ? record.deduct_1 : '',\r\n                })}\r\n              ></InputItem>\r\n            </Flex.Item>\r\n          </Flex>\r\n          <div className=\"sub-title\">板厚检测值（mm）</div>\r\n          <Flex>\r\n            <Flex.Item>\r\n              <InputItem\r\n                type=\"number\"\r\n                placeholder=\"实测值\"\r\n                {...getFieldProps('thick_f_1', {\r\n                  initialValue: record ? record.thick_f_1 : '',\r\n                })}\r\n              ></InputItem>\r\n            </Flex.Item>\r\n          </Flex>\r\n        </div>\r\n        {/* tab1 */}\r\n        <div>\r\n          <div className=\"sub-title\">支座</div>\r\n          <Flex>\r\n            <Flex.Item>\r\n              <InputItem\r\n                placeholder=\"轴\"\r\n                {...getFieldProps('support_1', {\r\n                  initialValue: record ? record.support_1 : '',\r\n                })}\r\n              ></InputItem>\r\n            </Flex.Item>\r\n            <Flex.Item />\r\n            <Flex.Item />\r\n          </Flex>\r\n          <div className=\"sub-title\">钢筋间距检测值（mm）</div>\r\n          <Flex>\r\n            <Flex.Item>\r\n              <InputItem\r\n                type=\"number\"\r\n                placeholder=\"实测值\"\r\n                {...getFieldProps('space_bar_3_1', {\r\n                  initialValue: record ? record.space_bar_3_1 : '',\r\n                })}\r\n              ></InputItem>\r\n            </Flex.Item>\r\n            <Flex.Item>\r\n              <InputItem\r\n                type=\"number\"\r\n                placeholder=\"实测值\"\r\n                {...getFieldProps('space_bar_3_2', {\r\n                  initialValue: record ? record.space_bar_3_2 : '',\r\n                })}\r\n              ></InputItem>\r\n            </Flex.Item>\r\n            <Flex.Item>\r\n              <InputItem\r\n                type=\"number\"\r\n                placeholder=\"实测值\"\r\n                {...getFieldProps('space_bar_3_3', {\r\n                  initialValue: record ? record.space_bar_3_3 : '',\r\n                })}\r\n              ></InputItem>\r\n            </Flex.Item>\r\n          </Flex>\r\n          <WhiteSpace />\r\n          <Flex>\r\n            <Flex.Item>\r\n              <InputItem\r\n                type=\"number\"\r\n                placeholder=\"实测值\"\r\n                {...getFieldProps('space_bar_3_4', {\r\n                  initialValue: record ? record.space_bar_3_4 : '',\r\n                })}\r\n              ></InputItem>\r\n            </Flex.Item>\r\n            <Flex.Item>\r\n              <InputItem\r\n                type=\"number\"\r\n                placeholder=\"实测值\"\r\n                {...getFieldProps('space_bar_3_5', {\r\n                  initialValue: record ? record.space_bar_3_5 : '',\r\n                })}\r\n              ></InputItem>\r\n            </Flex.Item>\r\n            <Flex.Item>\r\n              <InputItem\r\n                type=\"number\"\r\n                placeholder=\"实测值\"\r\n                {...getFieldProps('space_bar_3_6', {\r\n                  initialValue: record ? record.space_bar_3_6 : '',\r\n                })}\r\n              ></InputItem>\r\n            </Flex.Item>\r\n          </Flex>\r\n          <div className=\"sub-title\">保护层检测值（mm）</div>\r\n          <Flex>\r\n            <Flex.Item>\r\n              <InputItem\r\n                type=\"number\"\r\n                placeholder=\"实测值\"\r\n                {...getFieldProps('thick_p_3_1', {\r\n                  initialValue: record ? record.thick_p_3_1 : '',\r\n                })}\r\n              ></InputItem>\r\n            </Flex.Item>\r\n            <Flex.Item>\r\n              <InputItem\r\n                type=\"number\"\r\n                placeholder=\"实测值\"\r\n                {...getFieldProps('thick_p_3_2', {\r\n                  initialValue: record ? record.thick_p_3_2 : '',\r\n                })}\r\n              ></InputItem>\r\n            </Flex.Item>\r\n            <Flex.Item>\r\n              <InputItem\r\n                type=\"number\"\r\n                placeholder=\"实测值\"\r\n                {...getFieldProps('thick_p_3_3', {\r\n                  initialValue: record ? record.thick_p_3_3 : '',\r\n                })}\r\n              ></InputItem>\r\n            </Flex.Item>\r\n            <Flex.Item>\r\n              <InputItem\r\n                type=\"number\"\r\n                placeholder=\"实测值\"\r\n                {...getFieldProps('thick_p_3_4', {\r\n                  initialValue: record ? record.thick_p_3_4 : '',\r\n                })}\r\n              ></InputItem>\r\n            </Flex.Item>\r\n          </Flex>\r\n          <WhiteSpace />\r\n          <Flex>\r\n            <Flex.Item>\r\n              <InputItem\r\n                type=\"number\"\r\n                placeholder=\"实测值\"\r\n                {...getFieldProps('thick_p_3_5', {\r\n                  initialValue: record ? record.thick_p_3_5 : '',\r\n                })}\r\n              ></InputItem>\r\n            </Flex.Item>\r\n            <Flex.Item>\r\n              <InputItem\r\n                type=\"number\"\r\n                placeholder=\"实测值\"\r\n                {...getFieldProps('thick_p_3_6', {\r\n                  initialValue: record ? record.thick_p_3_6 : '',\r\n                })}\r\n              ></InputItem>\r\n            </Flex.Item>\r\n            <Flex.Item>\r\n              <InputItem\r\n                type=\"number\"\r\n                placeholder=\"实测值\"\r\n                {...getFieldProps('thick_p_3_7', {\r\n                  initialValue: record ? record.thick_p_3_7 : '',\r\n                })}\r\n              ></InputItem>\r\n            </Flex.Item>\r\n            <Flex.Item></Flex.Item>\r\n          </Flex>\r\n          <div className=\"sub-title\">扣除（mm）</div>\r\n          <Flex>\r\n            <Flex.Item>\r\n              <InputItem\r\n                type=\"number\"\r\n                placeholder=\"扣除\"\r\n                {...getFieldProps('deduct_1', {\r\n                  initialValue: record ? record.deduct_1 : '',\r\n                })}\r\n              ></InputItem>\r\n            </Flex.Item>\r\n          </Flex>\r\n          <div className=\"sub-title\">板厚检测值（mm）</div>\r\n          <Flex>\r\n            <Flex.Item>\r\n              <InputItem\r\n                type=\"number\"\r\n                placeholder=\"实测值\"\r\n                {...getFieldProps('thick_f_2', {\r\n                  initialValue: record ? record.thick_f_2 : '',\r\n                })}\r\n              ></InputItem>\r\n            </Flex.Item>\r\n          </Flex>\r\n          <div className=\"sub-title\">支座</div>\r\n          <Flex>\r\n            <Flex.Item>\r\n              <InputItem\r\n                {...getFieldProps('support_2', {\r\n                  initialValue: record ? record.support_2 : '',\r\n                })}\r\n              ></InputItem>\r\n            </Flex.Item>\r\n            <Flex.Item />\r\n            <Flex.Item />\r\n          </Flex>\r\n          <div className=\"sub-title\">钢筋间距检测值（mm）</div>\r\n          <Flex>\r\n            <Flex.Item>\r\n              <InputItem\r\n                type=\"number\"\r\n                placeholder=\"实测值\"\r\n                {...getFieldProps('space_bar_2_1', {\r\n                  initialValue: record ? record.space_bar_2_1 : '',\r\n                })}\r\n              ></InputItem>\r\n            </Flex.Item>\r\n            <Flex.Item>\r\n              <InputItem\r\n                type=\"number\"\r\n                placeholder=\"实测值\"\r\n                {...getFieldProps('space_bar_2_2', {\r\n                  initialValue: record ? record.space_bar_2_2 : '',\r\n                })}\r\n              ></InputItem>\r\n            </Flex.Item>\r\n            <Flex.Item>\r\n              <InputItem\r\n                type=\"number\"\r\n                placeholder=\"实测值\"\r\n                {...getFieldProps('space_bar_2_3', {\r\n                  initialValue: record ? record.space_bar_2_3 : '',\r\n                })}\r\n              ></InputItem>\r\n            </Flex.Item>\r\n          </Flex>\r\n          <WhiteSpace />\r\n          <Flex>\r\n            <Flex.Item>\r\n              <InputItem\r\n                type=\"number\"\r\n                placeholder=\"实测值\"\r\n                {...getFieldProps('space_bar_2_4', {\r\n                  initialValue: record ? record.space_bar_2_4 : '',\r\n                })}\r\n              ></InputItem>\r\n            </Flex.Item>\r\n            <Flex.Item>\r\n              <InputItem\r\n                type=\"number\"\r\n                placeholder=\"实测值\"\r\n                {...getFieldProps('space_bar_2_5', {\r\n                  initialValue: record ? record.space_bar_2_5 : '',\r\n                })}\r\n              ></InputItem>\r\n            </Flex.Item>\r\n            <Flex.Item>\r\n              <InputItem\r\n                type=\"number\"\r\n                placeholder=\"实测值\"\r\n                {...getFieldProps('space_bar_2_6', {\r\n                  initialValue: record ? record.space_bar_2_6 : '',\r\n                })}\r\n              ></InputItem>\r\n            </Flex.Item>\r\n          </Flex>\r\n          <div className=\"sub-title\">保护层检测值（mm）</div>\r\n          <Flex>\r\n            <Flex.Item>\r\n              <InputItem\r\n                type=\"number\"\r\n                placeholder=\"实测值\"\r\n                {...getFieldProps('thick_p_2_1', {\r\n                  initialValue: record ? record.thick_p_2_1 : '',\r\n                })}\r\n              ></InputItem>\r\n            </Flex.Item>\r\n            <Flex.Item>\r\n              <InputItem\r\n                type=\"number\"\r\n                placeholder=\"实测值\"\r\n                {...getFieldProps('thick_p_2_2', {\r\n                  initialValue: record ? record.thick_p_2_2 : '',\r\n                })}\r\n              ></InputItem>\r\n            </Flex.Item>\r\n            <Flex.Item>\r\n              <InputItem\r\n                type=\"number\"\r\n                placeholder=\"实测值\"\r\n                {...getFieldProps('thick_p_2_3', {\r\n                  initialValue: record ? record.thick_p_2_3 : '',\r\n                })}\r\n              ></InputItem>\r\n            </Flex.Item>\r\n            <Flex.Item>\r\n              <InputItem\r\n                type=\"number\"\r\n                placeholder=\"实测值\"\r\n                {...getFieldProps('thick_p_2_4', {\r\n                  initialValue: record ? record.thick_p_2_4 : '',\r\n                })}\r\n              ></InputItem>\r\n            </Flex.Item>\r\n          </Flex>\r\n          <WhiteSpace />\r\n          <Flex>\r\n            <Flex.Item>\r\n              <InputItem\r\n                type=\"number\"\r\n                placeholder=\"实测值\"\r\n                {...getFieldProps('thick_p_2_5', {\r\n                  initialValue: record ? record.thick_p_2_5 : '',\r\n                })}\r\n              ></InputItem>\r\n            </Flex.Item>\r\n            <Flex.Item>\r\n              <InputItem\r\n                type=\"number\"\r\n                placeholder=\"实测值\"\r\n                {...getFieldProps('thick_p_2_6', {\r\n                  initialValue: record ? record.thick_p_2_6 : '',\r\n                })}\r\n              ></InputItem>\r\n            </Flex.Item>\r\n            <Flex.Item>\r\n              <InputItem\r\n                type=\"number\"\r\n                placeholder=\"实测值\"\r\n                {...getFieldProps('thick_p_2_7', {\r\n                  initialValue: record ? record.thick_p_2_7 : '',\r\n                })}\r\n              ></InputItem>\r\n            </Flex.Item>\r\n            <Flex.Item></Flex.Item>\r\n          </Flex>\r\n          <div className=\"sub-title\">扣除（mm）</div>\r\n          <Flex>\r\n            <Flex.Item>\r\n              <InputItem\r\n                type=\"number\"\r\n                placeholder=\"扣除\"\r\n                {...getFieldProps('deduct_2', {\r\n                  initialValue: record ? record.deduct_1 : '',\r\n                })}\r\n              ></InputItem>\r\n            </Flex.Item>\r\n          </Flex>\r\n          <div className=\"sub-title\">板厚检测值（mm）</div>\r\n          <Flex>\r\n            <Flex.Item>\r\n              <InputItem\r\n                type=\"number\"\r\n                placeholder=\"实测值\"\r\n                {...getFieldProps('thick_f_3', {\r\n                  initialValue: record ? record.thick_f_3 : '',\r\n                })}\r\n              ></InputItem>\r\n            </Flex.Item>\r\n          </Flex>\r\n        </div>\r\n      </Tabs>\r\n      <WhiteSpace />\r\n      <Button type=\"primary\" onClick={handleClick}>\r\n        保存\r\n      </Button>\r\n    </>\r\n  );\r\n}\r\n\r\nexport default createForm()(Floor);\r\n","import createReport from 'docx-templates';\r\nimport JSZipUtils from 'jszip-utils';\r\n\r\nexport async function genReport(data, reportName, store) {\r\n  //上传模版\r\n  // const template = await readFileIntoArrayBuffer(file);\r\n  // const report = await createReport({\r\n  //   template,\r\n  //   data: {\r\n  //     name: \"John\",\r\n  //     surname: \"Appleseed\",\r\n  //   },\r\n  //   cmdDelimiter: [\"{\", \"}\"],\r\n  // });\r\n  // saveDataToFile(\r\n  //   report,\r\n  //   \"report.docx\",\r\n  //   \"application/vnd.openxmlformats-officedocument.wordprocessingml.document\"\r\n  // );\r\n  return new Promise((resolve, reject) => {\r\n    JSZipUtils.getBinaryContent(\r\n      `./templates/${store}.docx`,\r\n      // \"./templates/template.docx\",\r\n      // \"./templates/myTemplate.docx\",\r\n      async (error, template) => {\r\n        if (error) reject(error);\r\n        const report = await createReport({\r\n          template,\r\n          // data: {\r\n          //   columns: [{}, {}],\r\n          // },\r\n          data,\r\n          cmdDelimiter: ['{', '}'],\r\n        });\r\n        // Save report\r\n        saveDataToFile(\r\n          report,\r\n          reportName,\r\n          'application/vnd.openxmlformats-officedocument.wordprocessingml.document'\r\n        );\r\n        resolve();\r\n      }\r\n    );\r\n  });\r\n}\r\n\r\n// ==============================================\r\n// Helpers\r\n// ==============================================\r\nconst readFileIntoArrayBuffer = async (fd) =>\r\n  new Promise((resolve, reject) => {\r\n    const reader = new FileReader();\r\n    reader.onerror = reject;\r\n    reader.onload = () => {\r\n      resolve(reader.result);\r\n    };\r\n    reader.readAsArrayBuffer(fd);\r\n  });\r\n\r\nconst saveDataToFile = (data, fileName, mimeType) => {\r\n  const blob = new Blob([data], { type: mimeType });\r\n  const url = window.URL.createObjectURL(blob);\r\n  downloadURL(url, fileName, mimeType);\r\n  setTimeout(() => {\r\n    window.URL.revokeObjectURL(url);\r\n  }, 1000);\r\n};\r\n\r\nconst downloadURL = (data, fileName) => {\r\n  const a = document.createElement('a');\r\n  a.href = data;\r\n  a.download = fileName;\r\n  document.body.appendChild(a);\r\n  a.style = 'display: none';\r\n  a.click();\r\n  a.remove();\r\n};\r\n","import React, { useState, useEffect } from 'react';\r\nimport {\r\n  List,\r\n  Button,\r\n  WhiteSpace,\r\n  Flex,\r\n  Toast,\r\n  ActivityIndicator,\r\n  SwipeAction,\r\n  Modal,\r\n} from 'antd-mobile';\r\nimport { selectDataByIndex, deleteData } from '../utils/indexDB';\r\nimport { genReport } from '../utils/docx';\r\nimport { groupBy, paging } from '../utils/index';\r\n\r\nconst Item = List.Item;\r\nconst alert = Modal.alert;\r\n\r\nexport default function Records({ history }) {\r\n  const project = JSON.parse(sessionStorage.getItem('curProject'));\r\n  const { store, name } = JSON.parse(sessionStorage.getItem('curTemplate'));\r\n  const [records, setRecords] = useState([]);\r\n  const [animating, setAnimating] = useState(false);\r\n  const groupRecords = groupBy(records, 'date');\r\n  useEffect(() => {\r\n    selectDataByIndex(store, 'projectId', project.id).then((res) => {\r\n      const records = res.sort((a, b) => (a.date < b.date ? -1 : 0));\r\n      setRecords(records);\r\n    });\r\n  }, [project.id, store]);\r\n\r\n  const handleAddClick = () => {\r\n    history.push(`/${store}`);\r\n  };\r\n\r\n  const handleEditClick = (id) => {\r\n    history.push(`/${store}/${id}`);\r\n  };\r\n\r\n  const handleDeleteClick = (id) => {\r\n    alert('', '确定删除该记录？', [\r\n      { text: '取消' },\r\n      {\r\n        text: '确定',\r\n        onPress: () => {\r\n          deleteData('columns', id).then(() => {\r\n            const newRecords = records.filter((record) => record.id !== id);\r\n            setRecords(newRecords);\r\n          });\r\n        },\r\n      },\r\n    ]);\r\n  };\r\n\r\n  const handleExportClick = () => {\r\n    if (records.length) {\r\n      setAnimating(true);\r\n      const projectName = project.name;\r\n      const pages = paging(groupRecords, 4);\r\n      const data = {\r\n        projectName,\r\n        pages,\r\n      };\r\n      const reportName = `${projectName}-${name}`;\r\n      genReport(data, reportName, store).then(() => {\r\n        setAnimating(false);\r\n      });\r\n    } else {\r\n      Toast.fail('没有要导出的记录！', 2);\r\n    }\r\n  };\r\n  return (\r\n    <>\r\n      {Object.keys(groupRecords).map((date) => (\r\n        <List key={date} renderHeader={() => date}>\r\n          {groupRecords[date].map((record) => (\r\n            <SwipeAction\r\n              key={record.id}\r\n              autoClose\r\n              right={[\r\n                {\r\n                  text: '删除',\r\n                  onPress: () => handleDeleteClick(record.id),\r\n                  style: { backgroundColor: '#F4333C', color: 'white' },\r\n                },\r\n              ]}\r\n            >\r\n              <Item\r\n                arrow=\"horizontal\"\r\n                onClick={() => {\r\n                  handleEditClick(record.id);\r\n                }}\r\n              >\r\n                {record.position}\r\n              </Item>\r\n            </SwipeAction>\r\n          ))}\r\n        </List>\r\n      ))}\r\n\r\n      {/* <List>\r\n        {records.map((record) => (\r\n          <SwipeAction\r\n            key={record.id}\r\n            autoClose\r\n            right={[\r\n              {\r\n                text: '删除',\r\n                onPress: () => handleDeleteClick(record.id),\r\n                style: { backgroundColor: '#F4333C', color: 'white' },\r\n              },\r\n            ]}\r\n          >\r\n            <Item\r\n              extra={record.date}\r\n              onClick={() => {\r\n                handleEditClick(record.id);\r\n              }}\r\n            >\r\n              {record.position}\r\n            </Item>\r\n          </SwipeAction>\r\n        ))}\r\n      </List> */}\r\n\r\n      <WhiteSpace />\r\n      <Flex>\r\n        <Flex.Item>\r\n          <Button type=\"primary\" onClick={handleAddClick}>\r\n            添加记录\r\n          </Button>\r\n        </Flex.Item>\r\n        <Flex.Item>\r\n          <Button type=\"default\" onClick={handleExportClick}>\r\n            导出\r\n          </Button>\r\n        </Flex.Item>\r\n      </Flex>\r\n      <ActivityIndicator toast text=\"导出中...\" animating={animating} />\r\n    </>\r\n  );\r\n}\r\n","import React from 'react';\r\nimport ReactDOM from 'react-dom';\r\nimport Home from './containers/Home';\r\nimport Main from './containers/Main';\r\nimport { HashRouter, Switch, Route } from 'react-router-dom';\r\nimport './index.css';\r\n\r\nReactDOM.render(\r\n  <HashRouter>\r\n    <Switch>\r\n      <Route path=\"/\" exact={true} component={Home} />\r\n      <Route component={Main} />\r\n    </Switch>\r\n  </HashRouter>,\r\n  document.getElementById('root')\r\n);\r\n","import React from 'react';\r\nimport { Redirect, Switch, Route } from 'react-router-dom';\r\nimport Container from '../components/Container';\r\nimport Column from './Column';\r\nimport Wall from './Wall';\r\nimport Beam from './Beam';\r\nimport Floor from './Floor';\r\nimport Records from './Records';\r\n\r\nexport default function Main() {\r\n  const project = JSON.parse(sessionStorage.getItem('curProject'));\r\n  const template = JSON.parse(sessionStorage.getItem('curTemplate'));\r\n  if (!(project && template)) {\r\n    return <Redirect to=\"/\" />;\r\n  }\r\n  return (\r\n    <Container navBar={project.name} header={template.name}>\r\n      <Switch>\r\n        <Route path=\"/records\" component={Records} />\r\n        <Route path=\"/columns\" exact={true} component={Column} />\r\n        <Route path=\"/columns/:id\" component={Column} />\r\n        <Route path=\"/walls\" exact={true} component={Wall} />\r\n        <Route path=\"/walls/:id\" component={Wall} />\r\n        <Route path=\"/beams\" exact={true} component={Beam} />\r\n        <Route path=\"/beams/:id\" component={Beam} />\r\n        <Route path=\"/floors\" exact={true} component={Floor} />\r\n        <Route path=\"/floors/:id\" component={Floor} />\r\n      </Switch>\r\n    </Container>\r\n  );\r\n}\r\n"],"sourceRoot":""}